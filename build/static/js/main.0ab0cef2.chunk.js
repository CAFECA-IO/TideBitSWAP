(this["webpackJsonptidebit-swap"]=this["webpackJsonptidebit-swap"]||[]).push([[0],{10:function(e,t,n){e.exports={table:"Table_table__3cVv6",header:"Table_header__2gRGf","header-bar":"Table_header-bar__3wKRv",container:"Table_container__1u_GE",content:"Table_content__-Ptjk","title-bar":"Table_title-bar__2dByg",history:"Table_history__koJnm",tile:"Table_tile__1Quim",pending:"Table_pending__2tNMr",title:"Table_title__2DnBL",data:"Table_data__j8JKi","title-box":"Table_title-box__2HaO8",token:"Table_token__3IP6D",invest:"Table_invest__1oVzw",group:"Table_group__KzZqb",hint:"Table_hint__1AalZ",button:"Table_button__3YRTF",active:"Table_active__350ew",increase:"Table_increase__1vwjB",decrease:"Table_decrease__3Jh-l",icon:"Table_icon__B_-ID",icons:"Table_icons__3mHJZ"}},103:function(e,t,n){e.exports={input:"SearchInput_input__11JgY","search-icon":"SearchInput_search-icon__2Gr5g","search-icon__circle":"SearchInput_search-icon__circle__etznQ","search-icon__rectangle":"SearchInput_search-icon__rectangle__3TB9q"}},104:function(e,t,n){e.exports={content:"FilterButton_content__v5Beq",controller:"FilterButton_controller__3ehvz",title:"FilterButton_title__1LTXA",button:"FilterButton_button__1rjJG",placeholder:"FilterButton_placeholder__3tIz_",tab:"FilterButton_tab__2WQP0",icon:"FilterButton_icon__1rJuE",checkbox:"FilterButton_checkbox__OIRRm",filter:"FilterButton_filter__VwCfG",option:"FilterButton_option__3Q6Im"}},105:function(e,t,n){e.exports={controller:"RadioText_controller__3gKnD",tab:"RadioText_tab__34oKm",icon:"RadioText_icon__1V_Dm",value:"RadioText_value__1hsau"}},106:function(e,t,n){e.exports={"approve-button-container":"SwapPannel_approve-button-container__sxcH6",swap:"SwapPannel_swap__2eqJD",main:"SwapPannel_main__17IbX",hint:"SwapPannel_hint__unnyR",button:"SwapPannel_button__3Riv6"}},107:function(e,t,n){e.exports={container:"PoolOption_container__1WisG",pair:"PoolOption_pair__3TGuv",name:"PoolOption_name__1MYMv",icon:"PoolOption_icon__2IbvS"}},11:function(e,t,n){e.exports={leading:"Detail_leading__2uVG7","sub-leading":"Detail_sub-leading__3ndtE",title:"Detail_title__1wIhf",main:"Detail_main__bfTRj",group:"Detail_group__2-ye8",info:"Detail_info__a5LFl",icons:"Detail_icons__sJxfz",icon:"Detail_icon__1Iuby",tag:"Detail_tag__1p2tF",action:"Detail_action__1YtsF",container:"Detail_container__1v0Sh","info-tile":"Detail_info-tile__3vUJe",chart:"Detail_chart__1Pbzu",data:"Detail_data__3pnI6",increase:"Detail_increase__1Khqo","data-change":"Detail_data-change__1ZKBU",decrease:"Detail_decrease__2AvhQ",bold:"Detail_bold__3uoBX","data-row":"Detail_data-row__2B0ed","data-detail":"Detail_data-detail__1vA5S","data-title":"Detail_data-title__1a7wd","data-value":"Detail_data-value__tAGKL"}},125:function(e,t,n){e.exports={chart__container:"Chart_chart__container__2M0fW"}},129:function(e,t,n){e.exports={list:"List_list__XVT3P",title:"List_title__1J_ZH",loading:"List_loading__1X4WL"}},130:function(e,t,n){e.exports={"icon-button":"ConnectOptions_icon-button__3A5mo","icon-button__icon":"ConnectOptions_icon-button__icon__2GcbM","icon-button__name":"ConnectOptions_icon-button__name__1Fl3o"}},131:function(e,t,n){e.exports={button:"Button_button__6-R6B",loading:"Button_loading__2RWSQ","lds-spinner":"Button_lds-spinner__2xMNt"}},132:function(e,t,n){e.exports={modal:"LoadingDialog_modal__3iTpZ",message:"LoadingDialog_message__x3Jjy"}},133:function(e,t,n){e.exports={swap:"Swap_swap__1KF6G",container:"Swap_container__2uhmH",main:"Swap_main__3FNMx",sub:"Swap_sub__2psBl",details:"Swap_details__3AxVk"}},134:function(e,t,n){e.exports={earn:"AddLiquidity_earn__3W4yv",container:"AddLiquidity_container__1auz1",main:"AddLiquidity_main__2fjDs",sub:"AddLiquidity_sub__2ARna",details:"AddLiquidity_details__3jti7"}},135:function(e,t,n){e.exports={remove:"Remove_remove__2QtZ7",container:"Remove_container__1jXva",main:"Remove_main__E7bnp",sub:"Remove_sub__1tqXs",details:"Remove_details__2gJPj",button:"Remove_button__1BGgg"}},168:function(e,t,n){e.exports={backdrop:"Backdrop_backdrop__1uHu4",transparent:"Backdrop_transparent__1anRt"}},169:function(e,t,n){e.exports={"lds-spinner":"LoadingIcon_lds-spinner__3cMQd",small:"LoadingIcon_small__t94Yp"}},21:function(e,t,n){e.exports={list:"Invests_list__m9X7Q",title:"Invests_title__3mul2",container:"Invests_container__3NZqg",content:"Invests_content__32dHw","title-bar":"Invests_title-bar__30VJG","title-box":"Invests_title-box__2nVIe",hint:"Invests_hint__2UPTM",tile:"Invests_tile__ObI1k",pending:"Invests_pending__35MzA",action:"Invests_action__2uINN",button:"Invests_button__1UxLh",group:"Invests_group__1uXQ3",data:"Invests_data__34NYi",icon:"Invests_icon__YEZf2",icons:"Invests_icons__2cszc"}},23:function(e,t,n){e.exports={list:"Histories_list__JJj6h",header:"Histories_header__3z3i0","header-bar":"Histories_header-bar__6vjIn",button:"Histories_button__1W8yy",active:"Histories_active__2COM7",content:"Histories_content__1Ca6U","title-bar":"Histories_title-bar__26uvs",data:"Histories_data__2Zlu0","title-box":"Histories_title-box__2E4_W",timestamp:"Histories_timestamp__2rwBx",hint:"Histories_hint__2vurO",tile:"Histories_tile__pMFrn",pending:"Histories_pending__2Z21D"}},24:function(e,t,n){e.exports={list:"Tokens_list__Gjr5T",title:"Tokens_title__31jd_",container:"Tokens_container__3eOiU",content:"Tokens_content__3DJ78","title-bar":"Tokens_title-bar__21Cna",hint:"Tokens_hint__3lG8a",tile:"Tokens_tile__SoXzX","title-box":"Tokens_title-box__1Rba4",action:"Tokens_action__3jhH7",button:"Tokens_button__2mtdT",group:"Tokens_group__3_VCb",data:"Tokens_data__2Y5UW",icon:"Tokens_icon__3gktW",increase:"Tokens_increase__dy310",decrease:"Tokens_decrease__H9tz1"}},25:function(e,t,n){e.exports={brand:"Menu_brand__2kUEL",logo:"Menu_logo__2pP3w",menuOption:"Menu_menuOption__2v4u7",menuOptionIcon:"Menu_menuOptionIcon__Ald9O",connected:"Menu_connected__1mod5",active:"Menu_active__1hc7Y",footer:"Menu_footer__eGKyL"}},250:function(e,t,n){e.exports={card:"Card_card__1m44e"}},253:function(e,t,n){e.exports={assets:"Assets_assets__2wbpj",container:"Assets_container__2lSPN",main:"Assets_main__1blVk",sub:"Assets_sub__zuPKG",details:"Assets_details__OAA6m"}},254:function(e){e.exports=JSON.parse('{"name":"tidebit-swap","version":"0.9.0","description":"TideBit SWAP - The Most Friendly DeFi Solution","main":"bin/main.js","scripts":{"start":"bin/main.js","debug":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","deploy":"pm2 deploy"},"repository":{"type":"git","url":"git+https://github.com/CAFECA-IO/TideBitSWAP.git"},"keywords":["frontend","backend","framework"],"author":"CAFECA","license":"MIT","bugs":{"url":"https://github.com/CAFECA-IO/TideBitSWAP/issues"},"homepage":"https://swap.tidebit.network/","dependencies":{"@cafeca/lunar":"^0.3.6","@emotion/styled":"^11.6.0","@fortawesome/free-solid-svg-icons":"^5.15.4","@fortawesome/react-fontawesome":"^0.1.16","@mui/icons-material":"^5.2.5","@mui/material":"^5.2.5","@testing-library/jest-dom":"^5.11.6","@testing-library/react":"^11.2.2","@testing-library/user-event":"^12.5.0","@truffle/hdwallet-provider":"^2.0.0","apexcharts":"^3.30.0","axios":"^0.24.0","bignumber.js":"^9.0.1","colors":"^1.4.0","command-line-args":"^5.0.2","dvalue":"^1.0.20","ecrequest":"^1.1.5","i18n":"^0.13.3","jsonwebtoken":"^8.5.1","keccak256":"^1.0.3","koa":"^2.13.1","koa-body":"^4.2.0","koa-router":"^10.1.1","koa-session":"^6.2.0","koa-static":"^5.0.0","litepicker":"^2.0.11","ncp":"^2.0.0","notistack":"^2.0.3","pem":"^1.14.4","qrcode.react":"^1.0.1","react":"^17.0.1","react-apexcharts":"^1.3.9","react-dom":"^17.0.1","react-ga":"^3.3.0","react-icons":"^4.3.1","react-router-dom":"^5.3.0","rxjs":"^7.4.0","spdy":"^4.0.2","sqlite3":"^5.0.2","tingodb":"^0.6.1","toml":"^3.0.0","web-vitals":"^0.2.4","ws":"^8.2.1"},"devDependencies":{"assert":"^2.0.0","buffer":"^6.0.3","clean-webpack-plugin":"^4.0.0-alpha.0","copy-webpack-plugin":"^9.0.1","css-loader":"^5.2.6","cssnano":"^5.0.5","file-loader":"^6.2.0","https-browserify":"^1.0.0","mini-css-extract-plugin":"^1.6.0","node-sass":"^6.0.0","os":"^0.1.1","postcss-loader":"^5.3.0","react-dom":"^17.0.2","react-scripts":"4.0.1","sass-loader":"^12.0.0","stream":"0.0.2","stream-http":"^3.2.0","svg-inline-loader":"^0.8.2","ts-loader":"^9.2.3","typescript":"^4.3.4","url":"^0.11.0","url-loader":"^4.1.1","web3":"^1.3.6"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},278:function(e,t,n){},29:function(e,t,n){e.exports={menuOption:"Navigator_menuOption__1CYmc",active:"Navigator_active__2B8CT",highlight:"Navigator_highlight__igNe5",container:"Navigator_container__1r1nR",navigator:"Navigator_navigator__2bZ3Z"}},291:function(e,t){},293:function(e,t){},302:function(e,t){},309:function(e,t){},311:function(e,t){},347:function(e,t){},349:function(e,t){},35:function(e,t,n){e.exports={list:"Pairs_list__uUe15",content:"Pairs_content___GmXV","title-bar":"Pairs_title-bar__3O9hA",header:"Pairs_header__19IWV",group:"Pairs_group__3JpBf",title:"Pairs_title__3tEw9",data:"Pairs_data__9AS7E","button-icon":"Pairs_button-icon__tiFH_",name:"Pairs_name__3Zq1i",tile:"Pairs_tile__1A5ab",pair:"Pairs_pair__2ntsP",icon:"Pairs_icon__3LP2q",icons:"Pairs_icons__GDGLY"}},350:function(e,t){},355:function(e,t){},357:function(e,t){},376:function(e,t){},38:function(e,t,n){e.exports={settings:"PannelSetting_settings__19LAH","settings-modal":"PannelSetting_settings-modal__2vLR0","settings-icon":"PannelSetting_settings-icon__1Jt_A","settings-pannel":"PannelSetting_settings-pannel__2PnZ3","settings-option-box":"PannelSetting_settings-option-box__1dhcC","settings-header":"PannelSetting_settings-header__tcw6x",message:"PannelSetting_message__1wq9j","settings-option":"PannelSetting_settings-option__IKjwC","settings-button":"PannelSetting_settings-button__2KGit",text:"PannelSetting_text__1iiEU","settings-title":"PannelSetting_settings-title__CoZDJ","settings-input":"PannelSetting_settings-input__2gK9H","input-hint":"PannelSetting_input-hint__ova9i",switch:"PannelSetting_switch__1tla4",slider:"PannelSetting_slider__PAUkn",round:"PannelSetting_round__1zzeB"}},388:function(e,t){},391:function(e,t){},427:function(e,t,n){"use strict";n.r(t);var a=n(31),c=n.n(a),r=n(126),o=n(127),s=(n(278),n(5)),i=n(2),l=n.n(i),u=n(14),d=n(174),p=n(9),v=n(3),h=n.n(v),b=n(4),j=l.a.createContext({isInit:!1,totalBalance:0,totalReward:0,fiat:{dollarSign:"$",symbol:"USD",exchangeRate:"1"},tvlChartData:[],volumeChartData:[],connectOptions:[],connectedAccount:null,routerContract:null,isLoading:!0,error:null,notice:null,isConnected:!1,currentNetwork:null,supportedNetworks:[],supportedPools:[],supportedTokens:[],supportedStakes:[],histories:[],overview:[],nativeCurrency:null,onDisconnect:function(){console.log("onDisconnect")},onConnect:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAssetBalanceOf:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getPoolBalanceOf:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),switchNetwork:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchToken:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchStake:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTokenHistory:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPoolHistory:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchPoolByPoolContract:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchPoolByTokensContract:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.token0Contract,t.token1Contract;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchPoolByTokens:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.token0,t.token1;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),isAllowanceEnough:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),approve:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),createPair:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),formateAddLiquidity:function(e){e.pool,e.tokenA,e.tokenB,e.amountADesired,e.amountBDesired,e.type},provideLiquidity:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.tokenA,t.tokenB,t.amountADesired,t.amountBDesired,t.slippage,t.deadline,t.create,t.reverse;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAmountsIn:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getAmountsOut:function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getAmountIn:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),getAmountOut:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),swap:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r,o){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r,o){return e.apply(this,arguments)}}(),takeLiquidity:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r,o){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r,o){return e.apply(this,arguments)}}(),removeLiquidityETH:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r,o,s){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r,o,s){return e.apply(this,arguments)}}(),getTokenPriceData:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPoolPriceData:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deposit:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),withdraw:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}),m=j,x=n(168),f=n.n(x),O=n(1),g=function(e){return Object(O.jsx)(l.a.Fragment,{children:c.a.createPortal(Object(O.jsx)("div",{className:"".concat(f.a.backdrop," ").concat(f.a[e.className]),onClick:e.onCancel}),document.getElementById("backdrop-root"))})},k=n(250),_=n.n(k),w=function(e){return Object(O.jsx)("div",{className:"".concat(_.a.card," ").concat(e.className),children:e.children})},y=n(71),N=n.n(y),C=function(e){return Object(O.jsxs)(w,{className:e.expand?N.a.modal+" "+N.a.expand:N.a.modal+" "+e.className,children:[Object(O.jsxs)("header",{className:N.a.header,children:[Object(O.jsx)("div",{className:N.a.title,children:e.title}),Object(O.jsx)("div",{className:N.a.cancel,onClick:e.onCancel,children:"\u2715"})]}),Object(O.jsx)("div",{className:N.a.content,children:e.children})]})},S=function(e){return Object(O.jsxs)(l.a.Fragment,{children:[Object(O.jsx)(g,{onCancel:e.onCancel}),c.a.createPortal(Object(O.jsx)(C,{className:e.className,title:e.title,onCancel:e.onCancel,expand:e.expand,children:e.children}),document.getElementById("overlay-root"))]})},T=n(33),A={HOT:"Hot",APR:"APR",EARNED:"Earned",TOTALSTAKED:"Total staked"},P="All",I="Swaps",L="Adds",E="Removes",H=n.p+"static/media/erc20.49e225fa.png",D=n(56),B=n(57),F=n(72),R=n.n(F),q=function(){function e(){Object(D.a)(this,e)}return Object(B.a)(e,null,[{key:"isNumber",value:function(e){return/^(([1-9]\d*)|([0]{1}))(\.\d+)?$/.test(e)}},{key:"isHex",value:function(e){return/^(0x)?[a-fA-F0-9]*$/.test(e)}},{key:"toBn",value:function(t){return"string"===typeof t&&!e.isNumber(t)&&e.isHex(t)?new R.a(t,16):new R.a(t)}},{key:"toSmallestUnitHex",value:function(e,t){return new R.a(e).multipliedBy(new R.a(10).pow(t)).toString(16)}},{key:"plus",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.plus(c).toFixed()}},{key:"minus",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.minus(c).toFixed()}},{key:"mult",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.multipliedBy(c).toFixed()}},{key:"div",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.dividedBy(c).toFixed()}},{key:"mod",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.mod(c).toFixed()}},{key:"eq",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.eq(c)}},{key:"gt",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.gt(c)}},{key:"gte",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.gte(c)}},{key:"lt",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.lt(c)}},{key:"lte",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.lte(c)}},{key:"toCurrencyUint",value:function(t,n){var a=e.toBn(t),c=e.toBn(10).exponentiatedBy(n);return a.dividedBy(c).toFixed()}},{key:"gweiToEth",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.dividedBy(a).toFixed()}},{key:"weiToGwei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.dividedBy(a).toFixed()}},{key:"toSmallestUnit",value:function(t,n){var a=e.toBn(t),c=e.toBn(10).exponentiatedBy(n);return a.multipliedBy(c).toFixed()}},{key:"ethToGwei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.multipliedBy(a).toFixed()}},{key:"gweiToWei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.multipliedBy(a).toFixed()}},{key:"compressedPubKeyCheck",value:function(t,n){var a=e.toBn("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c=e.toBn(t),r=e.toBn(n);return c.pow(new R.a(3)).plus(new R.a(7)).minus(r.pow(new R.a(2))).mod(a).isZero()}},{key:"toHex",value:function(t){return e.toBn(t).toString(16)}}]),e}(),U=q,M=n(34),V=n.n(M),z=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"eth_chainId"});case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),console.log("eth_chainId",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){var c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}throw Error("window.ethereum is undefine");case 2:return c=U.isHex(t)?t:"0x".concat(V()(t).toString("hex").slice(0,8)),e.prev=3,e.next=6,window.ethereum.request({id:Z(1),jsonrpc:"2.0",method:"eth_call",params:[{from:"0x0000000000000000000000000000000000000000",data:"".concat(n?c+n:c),to:a},"latest"]});case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(3),console.trace("eth_call error",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Y=function(){for(var e=[],t=18e5,n=(new Date).valueOf()-108e6,a=0;a<60;a++){var c=1*Math.random()>.5,r=0===a?"".concat((1e4*Math.random()).toFixed(2)):e[a-1].y[3],o=c?U.plus(r,"".concat((2e3*Math.random()).toFixed(2))):U.minus(r,"".concat((2e3*Math.random()).toFixed(2))),s=U.plus(c?r:o,"".concat((3e3*Math.random()).toFixed(2))),i=U.minus(c?o:r,"".concat((3e3*Math.random()).toFixed(2)));e.push({x:new Date(n+a*t),y:[r,s,i,o]})}return e},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;if(e.length<=2*t)return e;var n=e.slice(0,t),a=e.slice(e.length-t,e.length);return n+"..."+a},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=U.gte(e,1e24)?U.div(e,1e24):U.gte(e,1e21)?U.div(e,1e21):U.gte(e,1e18)?U.div(e,1e18):U.gte(e,1e15)?U.div(e,1e15):U.gte(e,1e12)?U.div(e,1e12):U.gte(e,1e9)?U.div(e,1e9):U.gte(e,1e6)?U.div(e,1e6):U.gte(e,1e3)?U.div(e,1e3):e,a=n.toString().split(".");return U.gte(e,1e24)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","sp"):U.gte(e,1e21)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","st"):U.gte(e,1e18)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","qt"):U.gte(e,1e15)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","qd"):U.gte(e,1e12)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","t"):U.gte(e,1e9)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","b"):U.gte(e,1e6)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","m"):U.gte(e,1e3)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","k"):"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00")},J=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!e)return"";var a=e.toString().split(".");return U.gte(a[0].length,t)?G(e,n):a.length>1?(e.toString().length>t&&(a[1]=a[1].substring(0,t-a[0].length)),a[1].length>0?"".concat(a[0],".").concat(a[1]):a[0]):parseFloat(e.toString()).toFixed(2)},Z=function(e){var t="",n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for((e=parseInt(e))>0||(e=8);t.length<e;)t=t.concat(n.charAt(parseInt(Math.random()*n.length)));return t},$=function(e,t){return+e>+t?+t:e},Q=function(e,t,n){var a,c,r;return r=t&&(null===(a=e.contract)||void 0===a?void 0:a.toLowerCase())===(null===(c=t.contract)||void 0===c?void 0:c.toLowerCase())?n.find((function(t){var n,a;return(null===(n=t.contract)||void 0===n?void 0:n.toLowerCase())!==(null===(a=e.contract)||void 0===a?void 0:a.toLowerCase())})):t,{active:e,passive:r}},ee=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],te=function(e){return e<10?"0"+e:e},ne=function(e){var t=new Date(e),n=t.getDate(),a=t.getMonth(),c=t.getFullYear(),r=t.getHours(),o=t.getMinutes(),s="AM";return r-12>0&&(r-=12,s="PM"),{text:ee[a]+" "+te(n)+", "+c+" "+r+":"+te(o)+" "+s,date:ee[a]+" "+te(n)+", "+c,time:r+":"+te(o)+" "+s,month:ee[a],day:te(n),year:c}},ae=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=e.toString().replace("0x",""),a=[],c=0;c<n.length;c+=t){var r=n.slice(c,c+t);a.push(r)}return a},ce=function(e){for(var t=e.toString().replace("0x",""),n="",a=0;a<t.length;a+=2){if("00"!==t.substr(a,2))n+=String.fromCharCode(parseInt(t.substr(a,2),16))}return n},re=n(129),oe=n.n(re),se=n(169),ie=n.n(se),le=function(e){return Object(O.jsxs)("div",{className:"".concat(ie.a["lds-spinner"]," ").concat(e.className?ie.a[e.className]:""),children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})},ue=function(e){return Object(O.jsxs)("div",{className:e.className,children:[!!e.title&&Object(O.jsx)("div",{className:oe.a.title,children:e.title}),Object(O.jsx)("ul",{className:"".concat(oe.a.list," "),children:e.data.map((function(t,n){return Object(O.jsx)("li",{onClick:function(){e.onClick&&e.onClick(Object(p.a)(Object(p.a)({},t),{},{index:n}))},children:e.children(Object(p.a)(Object(p.a)({},t),{},{index:n}))},t.id||Z(6))}))}),e.isLoading&&Object(O.jsx)("div",{className:oe.a.loading,children:Object(O.jsx)(le,{})})]})},de=n(45),pe=n.n(de),ve=n(130),he=n.n(ve),be=n(131),je=n.n(be),me=function(e){return Object(O.jsxs)("div",{className:je.a["lds-spinner"],children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})},xe=function(e){return Object(O.jsx)("button",{className:"".concat(je.a.button," ").concat(e.loading?je.a.loading:""," ").concat(e.className?e.className:""),type:e.type||"button",onClick:e.onClick,disabled:e.disabled,children:!0===e.loading?Object(O.jsx)(me,{}):e.children})},fe=n(80),Oe=n.n(fe),ge=function(e){return Object(O.jsxs)(l.a.Fragment,{children:[Object(O.jsx)(g,{onCancel:e.onConfirm}),c.a.createPortal(Object(O.jsxs)(w,{className:Oe.a.modal,children:[Object(O.jsx)("header",{className:Oe.a.header,children:Object(O.jsx)("div",{className:Oe.a.cancel,onClick:e.onConfirm,children:"\u2715"})}),Object(O.jsx)("div",{className:Oe.a.content,children:Object(O.jsx)("div",{className:Oe.a["error-icon"],children:"!"})}),Object(O.jsx)("div",{className:Oe.a.message,children:e.message}),Object(O.jsx)(xe,{onClick:e.onConfirm,children:"Dismiss"})]}),document.getElementById("overlay-root"))]})},ke="/api/v1",_e={status:"stagging",routerContract:{"0x1":"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D","0x3":"0xDDBCB302A16f27D12Ef1cA491b4791a7b3d67c04","0x38":"0x10ED43C718714eb63d5aA57B78B54704E256024E","0x61":"0x214798a5ca2Fc1cD0d9E4020eCA384406AB67755"},explorer:{"0x1":"https://etherscan.io","0x3":"https://ropsten.etherscan.io","0x38":"https://bscscan.com","0x61":"https://testnet.bscscan.com"},stagging:{supportedChains:["0x1","0x3","0x61","0x38"],debug:!1,chainId:"0x3",isTestnet:!0,apiURL:"",apiVersion:ke,apiKey:"",apiSecret:""},production:{supportedChains:["0x1","0x3"],debug:!1,chainId:"0x1",isTestnet:!1,apiURL:"",apiVersion:ke,apiKey:"",apiSecret:""}},we=n(132),ye=n.n(we),Ne=function(e){return Object(O.jsxs)(l.a.Fragment,{children:[Object(O.jsx)(g,{onCancel:function(){}}),c.a.createPortal(Object(O.jsxs)(w,{className:ye.a.modal,children:[Object(O.jsx)("div",{className:ye.a.content,children:Object(O.jsx)(le,{})}),Object(O.jsx)("div",{className:ye.a.message,children:"Loading..."})]}),document.getElementById("overlay-root"))]})},Ce=function(e){return Object(O.jsx)(l.a.Fragment,{children:e.connectOptions.map((function(t){return Object(O.jsxs)("div",{className:he.a["icon-button"],onClick:function(){e.onClick(t.name)},children:[Object(O.jsx)(w,{className:he.a["icon-button__icon"],children:Object(O.jsx)("img",{src:t.src,alt:t.name})}),Object(O.jsx)("p",{className:he.a["icon-button__name"],children:t.name})]},t.name)}))})},Se=function(e){var t=Object(i.useContext)(m),n=Object(i.useState)(!1),a=Object(s.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)(!1),u=Object(s.a)(o,2),d=u[0],p=u[1],v=function(){var e=Object(b.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!1),p(!0),e.next=4,t.onConnect(n);case 4:p(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(l.a.Fragment,{children:[d&&Object(O.jsx)(Ne,{}),c&&Object(O.jsx)(S,{title:"Connect Wallet",onCancel:function(){return r(!1)},children:Object(O.jsx)(Ce,{onClick:v,connectOptions:t.connectOptions})}),Object(O.jsx)(xe,{className:"".concat(e.className?e.className:""),onClick:function(){return r(!0)},children:"Connect"})]})},Te=function(e){return Object(O.jsx)("div",{className:pe.a.option,children:e.chainName})},Ae=function(e){var t,n,a=Object(i.useContext)(m),c=Object(i.useState)(!1),r=Object(s.a)(c,2),o=r[0],d=r[1],p=Object(i.useState)(!1),v=Object(s.a)(p,2),j=v[0],x=v[1],f=Object(i.useState)(!1),g=Object(s.a)(f,2),k=g[0],_=g[1],w=Object(u.f)(),y=Object(u.e)(),N=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("changeNetworkHandler selected",t),d(!0),_(!1),x(!0),(w.pathname.includes("/pool/")||w.pathname.includes("/asset/")||w.pathname.includes("/redeem-liquidity/"))&&y.push({pathname:"/"}),e.next=7,a.switchNetwork(t);case 7:d(!1),x(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(l.a.Fragment,{children:[j&&Object(O.jsx)(Ne,{}),k&&Object(O.jsx)(S,{title:"Network Options",onCancel:function(){return _(!1)},children:Object(O.jsx)(ue,{data:a.supportedNetworks,onClick:N,children:Te})}),!window.ethereum&&Object(O.jsx)("a",{className:"".concat(pe.a.network," ").concat(e.shrink?pe.a.shrink:""," ").concat(pe.a.highlight),href:"https://metamask.io/download.html",target:"_blank",rel:"noreferrer",children:"Install metamask"}),window.ethereum&&(!a.isConnected||!a.connectedAccount)&&Object(O.jsx)(Se,{className:pe.a.button}),window.ethereum&&a.isConnected&&a.connectedAccount&&Object(O.jsxs)("div",{className:"".concat(pe.a.network," ").concat(e.shrink?pe.a.shrink:""),onClick:function(){o||_(!0)},children:[Object(O.jsxs)("div",{className:pe.a.content,children:[Object(O.jsx)("div",{className:pe.a.title,children:"Network"}),Object(O.jsx)("div",{className:pe.a.header1,children:null===(t=a.currentNetwork)||void 0===t?void 0:t.chainName}),Object(O.jsx)("div",{className:pe.a.paragraph,children:"Last Block: 13547750"})]}),Object(O.jsx)("div",{className:pe.a.icon,children:Object(O.jsx)("img",{src:"https://www.tidebit.one/icons/eth.png",alt:null===(n=a.currentNetwork)||void 0===n?void 0:n.chainName})})]})]})},Pe=n(133),Ie=n.n(Pe),Le=(n(306),n(89)),Ee=n.n(Le),He=function(e,t){return Object(O.jsxs)("div",{value:e.name,className:"".concat(Ee.a.option," ").concat(t?Ee.a.shrink:""),onClick:e.onSelect,children:[Object(O.jsx)("div",{className:Ee.a.icon,children:Object(O.jsx)("img",{src:e.iconSrc,alt:e.name})}),Object(O.jsx)("div",{className:Ee.a.symbol,children:e.symbol}),Object(O.jsx)("div",{className:Ee.a.name,children:e.name})]})},De=n(103),Be=n.n(De),Fe=function(e){return Object(O.jsxs)("div",{className:Be.a.input,children:[Object(O.jsxs)("div",{className:Be.a["search-icon"],children:[Object(O.jsx)("div",{className:Be.a["search-icon__circle"]}),Object(O.jsx)("div",{className:Be.a["search-icon__rectangle"]})]}),Object(O.jsx)("input",{id:Z(6),type:"text",placeholder:e.placeholder,ref:e.inputRef,value:e.value,onChange:e.onChange})]})},Re=n(104),qe=n.n(Re),Ue=n(73),Me=n.n(Ue),Ve=function(e){var t=Z(6),n=Object(i.useState)(!1),a=Object(s.a)(n,2),c=a[0],r=a[1];return Object(O.jsxs)("div",{className:"".concat(Me.a.dropdown," dropdown ").concat(e.className),children:[Object(O.jsx)("div",{className:Me.a.label,children:e.label}),Object(O.jsx)("input",{className:Me.a.controller,type:"checkbox",id:t,checked:c,readOnly:!0}),Object(O.jsxs)("label",{className:Me.a.button,htmlFor:t,onClick:function(){r((function(e){return!e}))},children:[e.selected&&e.children(e.selected),!e.selected&&Object(O.jsx)("div",{className:Me.a.placeholder,children:e.placeholder}),!!e.options&&Object(O.jsx)("div",{className:Me.a.icon,children:"\u276f"})]}),!!e.options&&Object(O.jsx)(w,{className:Me.a.options,children:Object(O.jsx)(ue,{data:e.options,onClick:function(t){r(!1),e.onSelect(t)},children:e.children})})]})},ze=n(105),Ke=n.n(ze),Ye=function(e){var t=Z(6);return Object(O.jsxs)(l.a.Fragment,{children:[Object(O.jsx)("input",{className:Ke.a.controller,type:e.type||"radio",name:e.name,id:t,checked:e.checked,onChange:e.onChange}),Object(O.jsxs)("label",{className:Ke.a.tab,htmlFor:t,onClick:e.onSelect,children:[Object(O.jsx)("div",{className:Ke.a.icon}),Object(O.jsx)("div",{className:Ke.a.value,children:e.value})]})]})},We=function(e){return Object(O.jsx)("div",{className:qe.a.option,children:e})},Ge=function(e){var t,n,a=Object(i.useState)(!1),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(O.jsxs)(l.a.Fragment,{children:[r&&Object(O.jsx)(S,{title:"Search Condition",onCancel:function(){o(!1)},expand:!0,children:Object(O.jsxs)("div",{className:qe.a.content,children:[!!(null===(t=Object.keys(e.filterConditions))||void 0===t?void 0:t.length)&&Object(O.jsx)(Ve,{label:"Pools",options:Object.keys(e.filterConditions),selected:e.selectedFilter,onSelect:e.onSelectFilter,placeholder:"Select Filter",children:function(t){return We(e.filterConditions[t])}}),!!(null===(n=Object.keys(e.sortingConditions))||void 0===n?void 0:n.length)&&Object(O.jsx)(Ve,{label:"Sort by",options:Object.keys(e.sortingConditions),selected:e.selectedSorting,onSelect:e.onSelectSorting,placeholder:"Select Sort",children:function(t){return We(e.sortingConditions[t])}}),Object(O.jsx)(Ye,{type:"checkbox",name:"filter-checkbox",checked:e.matchMyAssets,onChange:function(t){e.onMatch(t.target.checked)},value:"Match My Available Assets"}),Object(O.jsxs)("div",{className:qe.a.button,children:[Object(O.jsx)(xe,{type:"button",onClick:e.onReset,children:"Reset"}),Object(O.jsx)(xe,{type:"button",onClick:function(){e.onSearch(),o(!1)},children:"Search"})]})]})}),Object(O.jsx)("div",{className:qe.a.filter,onClick:function(){o(!0)},children:"\u21cc"})]})},Je=n(60),Xe=n.n(Je),Ze=function(e){var t=Object(i.useState)(""),n=Object(s.a)(t,2),a=n[0],c=n[1],r=Object(i.useState)(e.data),o=Object(s.a)(r,2),l=o[0],u=o[1];Object(i.useEffect)((function(){return u(e.data),function(){}}),[e.data]);var d=Object(i.useRef)(),p=function(){var t=Object(b.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c(n.target.value.replace(/[^0-9A-Za-z]/gi,"")),!/^0x[a-fA-F0-9]{40}$/.test(n.target.value)){t.next=9;break}return t.next=4,e.onSearch(n.target.value);case 4:a=t.sent,console.log("searchToken",a),a&&u([a]),t.next=10;break;case 9:u(e.data.filter((function(t){return!d.current||t[e.filterProperty].toLowerCase().includes(d.current.value.toLowerCase())})));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"".concat(Xe.a.pannel," ").concat(Xe.a[e.className]),children:[Object(O.jsxs)("div",{className:Xe.a["search-bar"],children:[Object(O.jsx)(Fe,{inputRef:d,value:a,onChange:p,placeholder:"Search"}),e.displayFilterButton&&Object(O.jsx)(Ge,{filterConditions:e.filterConditions,selectedFilter:e.selectedFilterConditions,onSelectFilter:e.handleFilterConditionsChange,sortingConditions:e.sortingConditions,selectedSorting:e.selectedSortCondition,onSelectSorting:e.handleSortConditionChange,onReset:e.resetHandler,matchMyAssets:e.matchMyAssets,onMatch:e.handleMatchMyAssets,onSearch:function(){}})]}),e.header&&Object(O.jsx)("div",{className:Xe.a.header,children:e.header}),Object(O.jsxs)("div",{className:Xe.a.container,children:[e.titleBar&&e.titleBar(),Object(O.jsxs)("div",{className:Xe.a.content,children:[!(null===l||void 0===l?void 0:l.length)&&!!e.hint&&!e.isLoading&&Object(O.jsx)("div",{className:Xe.a["hint-container"],children:Object(O.jsx)("div",{className:Xe.a.hint,children:e.hint})}),Object(O.jsx)(ue,{className:Xe.a.select,data:l,onClick:e.onSelect,isLoading:e.isLoading,children:function(t){return e.children(t,!!e.isShrink)}})]})]})]})},$e=n(81),Qe=n.n($e),et=l.a.forwardRef((function(e,t){var n=Object(i.useContext)(m),a=Object(i.useState)(!1),c=Object(s.a)(a,2),r=c[0],o=c[1],u=function(){var e=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchToken(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.useImperativeHandle)(t,(function(){return{openDialog:function(){return o(!0)},closeDialog:function(){return o(!1)}}})),Object(O.jsxs)(l.a.Fragment,{children:[r&&Object(O.jsx)(S,{title:"Select Coin",onCancel:function(){return o(!1)},children:Object(O.jsx)(Ze,{onSelect:function(t){return function(t,n){n||(e.onSelect(t),o(!1))}(t,e.readOnly)},onSearch:u,data:e.options,filterProperty:"symbol",children:function(e){return He(e)}})}),Object(O.jsxs)("div",{className:"".concat(Qe.a.option," ").concat(e.className?Qe.a[e.className]:""),children:[Object(O.jsx)("div",{className:Qe.a.title,children:"Coin"}),Object(O.jsxs)("div",{className:Qe.a.button,onClick:function(){return e.readOnly?{}:o(!0)},children:[e.selectedCoin&&He(e.selectedCoin,e.isShrink),!e.selectedCoin&&Object(O.jsx)("div",{className:Qe.a.placeholder,children:"Select Coin"}),Object(O.jsx)("div",{className:Qe.a.icon,children:"\u276f"})]})]})]})})),tt=et,nt=n(61),at=n.n(nt),ct=function(e){var t,n,a,c,r=Object(i.useRef)(),o=e.removeDetail||!(e.readOnly&&+e.value>+(null===(t=e.selected)||void 0===t?void 0:t.balanceOf))?"":"Insufficient amount";return Object(O.jsxs)("div",{className:at.a["coin-input"],children:[Object(O.jsxs)("div",{className:at.a.container,children:[Object(O.jsx)(tt,{className:"coin-input",ref:r,options:e.options,selectedCoin:e.selected,onSelect:e.onSelect,readOnly:!!e.readOnly,isShrink:!0}),Object(O.jsx)("div",{className:at.a["input-controller"],children:Object(O.jsx)("input",{id:Z(6),type:"number",value:e.value,onInput:function(t){console.log("onIput",t.target.value);var n=+t.target.value<0?"0":t.target.value;e.onChange(+n)},readOnly:!!e.readOnly,placeholder:"0.0",step:"any"})})]}),Object(O.jsxs)("div",{className:at.a.detail,children:[Object(O.jsx)("div",{children:"Balance:"}),Object(O.jsx)("div",{className:at.a["input-maximum"],children:X("".concat((null===(n=e.selected)||void 0===n?void 0:n.balanceOf)||0),14)}),Object(O.jsx)("div",{className:at.a.symbol,children:(null===(a=e.selected)||void 0===a?void 0:a.symbol)||""}),Object(O.jsx)("div",{className:at.a["input-hint"]+(""!==e.value&&e.selected&&U.gt(e.value,null===(c=e.selected)||void 0===c?void 0:c.balanceOf)?" "+at.a.show:""),children:"(MAX)"})]}),Object(O.jsx)("div",{className:at.a.message,children:Object(O.jsx)("div",{children:o})})]})},rt=n(74),ot=n.n(rt),st=function(e){var t;return Object(O.jsxs)("div",{className:ot.a.summary,children:[e.title&&Object(O.jsx)("div",{className:ot.a.title,children:e.title}),null===(t=e.data)||void 0===t?void 0:t.map((function(e){return Object(O.jsxs)("div",{className:ot.a.detail,children:[!!e.explain&&Object(O.jsxs)("div",{className:ot.a.tooltip,children:[Object(O.jsx)("div",{children:e.title}),Object(O.jsx)("div",{className:ot.a.tooltiptext,children:e.explain})]}),!e.explain&&Object(O.jsx)("div",{className:ot.a["detail-title"],children:e.title}),Object(O.jsx)("div",{className:ot.a["detail-value"],children:e.value})]},Z(6))}))]})},it=n(106),lt=n.n(it),ut=n(252),dt=n(38),pt=n.n(dt),vt=function(e){var t,n,a,c=Object(i.useState)(!1),r=Object(s.a)(c,2),o=r[0],l=r[1],u=function(){l(!o)};return Object(O.jsxs)("div",{className:pt.a.settings,open:o,children:[o&&Object(O.jsx)(g,{onCancel:u,className:"transparent"}),Object(O.jsx)("div",{className:pt.a["settings-icon"],onClick:u,children:Object(O.jsx)(ut.a,{})}),Object(O.jsxs)("div",{className:pt.a["settings-pannel"],children:[Object(O.jsx)("div",{className:pt.a["settings-header"],children:"Transaction settings"}),Object(O.jsxs)("div",{className:pt.a["settings-option-box"],children:[Object(O.jsx)("div",{className:pt.a["settings-title"],children:"Slippage tolerance ?"}),Object(O.jsxs)("div",{className:pt.a["settings-option"],children:[Object(O.jsx)("button",{className:pt.a["settings-button"],onClick:e.slippageAutoHander,children:"Auto"}),Object(O.jsxs)("div",{className:pt.a["settings-input"],children:[Object(O.jsx)("input",{placeholder:"0.10",type:"number",value:null===(t=e.slippage)||void 0===t?void 0:t.value,onInput:e.slippageChangeHander,readOnly:!!e.readOnly,step:"any"}),Object(O.jsx)("div",{className:pt.a["input-hint"],children:"%"})]})]}),(null===(n=e.slippage)||void 0===n?void 0:n.message)&&Object(O.jsx)("div",{className:pt.a.message,children:Object(O.jsx)("div",{children:null===(a=e.slippage)||void 0===a?void 0:a.message})})]}),Object(O.jsxs)("div",{className:pt.a["settings-option-box"],children:[Object(O.jsx)("div",{className:pt.a["settings-title"],children:"Transaction deadline ?"}),Object(O.jsxs)("div",{className:pt.a["settings-option"],children:[Object(O.jsx)("div",{className:pt.a["settings-input"],children:Object(O.jsx)("input",{placeholder:"30",type:"number",value:e.deadline,onInput:e.deadlineChangeHander,readOnly:!!e.readOnly,step:"any"})}),Object(O.jsx)("div",{className:pt.a.text,children:"minutes"})]})]})]})]})},ht=function(e){var t,n,a,c,r=Object(i.useContext)(m);return Object(O.jsx)(l.a.Fragment,{children:Object(O.jsxs)("div",{className:lt.a.swap,children:[Object(O.jsxs)("main",{className:lt.a.main,children:[Object(O.jsx)(vt,{slippage:e.slippage,slippageAutoHander:e.slippageAutoHander,slippageChangeHander:e.slippageChangeHander,deadline:e.deadline,deadlineChangeHander:e.deadlineChangeHander}),Object(O.jsx)(ct,{selected:e.selectedCoin,value:e.selectedCoinAmount,onSelect:function(t){return e.coinUpdateHandler(t,"selected")},onChange:function(t){return e.changeAmountHandler({activeAmount:t,type:"selected"})},options:r.supportedTokens}),Object(O.jsx)("div",{className:"icon",onClick:e.tokenExchangerHander,children:Object(O.jsx)("div",{children:"\u21c5"})}),Object(O.jsx)(ct,{selected:e.pairedCoin,value:e.pairedCoinAmount,onSelect:function(t){return e.coinUpdateHandler(t,"paired")},onChange:function(t){return e.changeAmountHandler({passiveAmount:t,type:"paired"})},options:r.supportedTokens}),Object(O.jsxs)("div",{className:lt.a.button,children:[Object(O.jsx)("div",{className:lt.a["approve-button-container"],children:e.displayApproveSelectedCoin&&!e.isApprove&&Object(O.jsxs)(xe,{type:"button",onClick:e.approveHandler,children:["Approve ",null===(t=e.selectedCoin)||void 0===t?void 0:t.symbol]})}),Object(O.jsx)(xe,{type:"submit",disabled:!e.selectedCoin||!e.pairedCoin||!e.selectedCoinAmount||!e.pairedCoinAmount||e.isLoading||!e.isApprove||!U.gt(e.allowanceAmount,"0")||e.poolInsufficient||U.gt(e.selectedCoinAmount,(null===(n=e.selectedCoin)||void 0===n?void 0:n.balanceOf)||"0"),children:e.isLoading||e.isApprove&&!U.gt(e.allowanceAmount,"0")?"Loading...":e.poolInsufficient||!e.selectedPool&&e.selectedCoin&&e.pairedCoin?"Insufficient liquidity for this trade.":U.gt(e.selectedCoinAmount,(null===(a=e.selectedCoin)||void 0===a?void 0:a.balanceOf)||"0")?"Insufficient ".concat((null===(c=e.selectedCoin)||void 0===c?void 0:c.symbol)||""," balance"):"Swap"})]})]}),Object(O.jsx)("div",{className:"sub",children:Object(O.jsx)(st,{title:"Summary",data:e.details})})]})})},bt=n(23),jt=n.n(bt),mt=function(e){return Object(O.jsxs)("div",{className:jt.a["title-bar"],children:[Object(O.jsxs)("div",{className:jt.a["title-box"],children:[Object(O.jsx)("div",{className:jt.a.title,children:"Type"}),Object(O.jsx)("div",{className:jt.a.icon})]}),Object(O.jsxs)("div",{className:jt.a["title-box"],children:[Object(O.jsx)("div",{className:jt.a.title,children:"Token Amount"}),Object(O.jsx)("div",{className:jt.a.icon})]}),Object(O.jsxs)("div",{className:jt.a["title-box"],children:[Object(O.jsx)("div",{className:jt.a.title,children:"Token Amount"}),Object(O.jsx)("div",{className:jt.a.icon})]}),Object(O.jsxs)("div",{className:jt.a["title-box"],children:[Object(O.jsx)("div",{className:jt.a.title,children:"Time"}),Object(O.jsx)("div",{className:jt.a.icon})]})]})},xt=function(e){return Object(O.jsxs)("div",{className:"".concat(jt.a.tile," ").concat(e.history.pending?jt.a.pending:""),children:[Object(O.jsxs)("div",{className:jt.a.data,children:[e.history.pending&&Object(O.jsx)(le,{className:"small"}),Object(O.jsx)("div",{children:"".concat(e.history.type," ").concat(e.history.tokenA.symbol," for ").concat(e.history.tokenB.symbol)})]}),Object(O.jsx)("div",{className:jt.a.data,children:"".concat(X(e.history.tokenA.amount,6)," ").concat(e.history.tokenA.symbol)}),Object(O.jsx)("div",{className:jt.a.data,children:"".concat(X(e.history.tokenB.amount,6)," ").concat(e.history.tokenB.symbol)}),Object(O.jsxs)("div",{className:"".concat(jt.a.data," ").concat(jt.a.timestamp),children:[Object(O.jsx)("div",{children:e.history.dateTime.time}),Object(O.jsx)("div",{children:e.history.dateTime.date})]})]})},ft=function(e){return Object(O.jsxs)(l.a.Fragment,{children:[Object(O.jsx)("div",{className:"".concat(jt.a.button," ").concat(e.filterType===P?jt.a.active:""),onClick:function(){return e.onFilter(P)},children:"All"}),Object(O.jsx)("div",{className:"".concat(jt.a.button," ").concat(e.filterType===I?jt.a.active:""),onClick:function(){return e.onFilter(I)},children:"Swaps"}),Object(O.jsx)("div",{className:"".concat(jt.a.button," ").concat(e.filterType===L?jt.a.active:""),onClick:function(){return e.onFilter(L)},children:"Adds"}),Object(O.jsx)("div",{className:"".concat(jt.a.button," ").concat(e.filterType===E?jt.a.active:""),onClick:function(){return e.onFilter(E)},children:"Removes"})]})},Ot=function(e){var t=Object(i.useState)(P),n=Object(s.a)(t,2),a=n[0],c=n[1],r=Object(i.useState)(e.histories),o=Object(s.a)(r,2),l=o[0],u=o[1],d=Object(i.useCallback)((function(e,t){var n=e===P?t:t.filter((function(t){return t.type===e}));u(n)}),[]);return Object(i.useEffect)((function(){return console.log("filterType",a),console.log("Histories",e.histories),d(a,e.histories),function(){}}),[d,a,e.histories]),Object(O.jsxs)("div",{className:jt.a.list,children:[Object(O.jsxs)("div",{className:jt.a["header-bar"],children:[Object(O.jsx)("div",{className:jt.a.header,children:"Transactions"}),Object(O.jsx)(ft,{onFilter:c,filterType:a})]}),Object(O.jsxs)("div",{className:jt.a.content,children:[Object(O.jsx)(mt,{}),!l.length&&!e.isLoading&&Object(O.jsx)("div",{className:jt.a.hint,children:"No record found."}),!!l.length&&l.map((function(e){return Object(O.jsx)(xt,{history:e},e.id)})),e.isLoading&&Object(O.jsx)(le,{})]})]})},gt=n(79),kt=n.n(gt),_t=function(e){return Object(O.jsx)(kt.a,{options:{title:{text:"Price",align:"left",style:{color:"#c3c5cb"}},chart:{type:"candlestick",height:350,toolbar:{show:!1}},noData:{text:"Loading..."},grid:{show:!1,xaxis:{lines:{show:!1}}},xaxis:{type:"datetime",labels:{rotate:0,axisTicks:{color:"#6c7284"},style:{color:"#c3c5cb"}},axisBorder:{show:!1}},yaxis:{tooltip:{enabled:!0},labels:{formatter:function(e){return"".concat(e?"$"+X(e,4):"")},style:{color:"#c3c5cb"}}}},series:[{data:e.data}],type:"candlestick",height:350})},wt=n(451),yt=n(456),Nt=n(70),Ct=n.n(Nt),St=n(454),Tt=function(e){var t=Object(i.useContext)(m),n=Object(i.useState)(!1),a=Object(s.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)(!1),d=Object(s.a)(o,2),v=d[0],j=d[1],x=Object(i.useState)(!1),f=Object(s.a)(x,2),g=f[0],k=f[1],_=Object(u.f)(),w=Object(u.e)(),y=Object(i.useState)([]),N=Object(s.a)(y,2),C=N[0],S=N[1],T=Object(i.useState)([]),A=Object(s.a)(T,2),P=A[0],I=A[1],L=Object(i.useState)(null),E=Object(s.a)(L,2),H=E[0],D=E[1],B=Object(i.useState)(null),F=Object(s.a)(B,2),R=F[0],q=F[1],M=Object(i.useState)("0"),V=Object(s.a)(M,2),z=V[0],K=V[1],Y=Object(i.useState)(""),W=Object(s.a)(Y,2),G=W[0],J=W[1],Z=Object(i.useState)(null),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)(""),ae=Object(s.a)(ne,2),ce=ae[0],re=ae[1],oe=Object(i.useState)(!1),se=Object(s.a)(oe,2),ie=se[0],le=se[1],ue=Object(i.useState)(null),de=Object(s.a)(ue,2),pe=de[0],ve=de[1],he=Object(i.useState)(t.currentNetwork),be=Object(s.a)(he,2),je=be[0],me=be[1],xe=Object(i.useState)({value:"0.1",message:""}),fe=Object(s.a)(xe,2),Oe=fe[0],ke=fe[1],_e=Object(i.useState)("30"),we=Object(s.a)(_e,2),ye=we[0],Ne=we[1],Ce=Object(i.useState)(!1),Se=Object(s.a)(Ce,2),Te=Se[0],Pe=Se[1],Le=Object(i.useState)([]),Ee=Object(s.a)(Le,2),He=Ee[0],De=Ee[1],Be=Object(i.useState)([]),Fe=Object(s.a)(Be,2),Re=Fe[0],qe=Fe[1],Ue=Object(i.useState)(!1),Me=Object(s.a)(Ue,2),Ve=Me[0],ze=Me[1],Ke=Object(i.useState)(null),Ye=Object(s.a)(Ke,2),We=Ye[0],Ge=Ye[1],Je=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a,c,r,o){var s,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===He||void 0===He?void 0:He.length)||n&&a&&c){e.next=2;break}return e.abrupt("return");case 2:if(!(n&&(null===a||void 0===a?void 0:a.amount)&&(null===c||void 0===c?void 0:c.amount))){e.next=36;break}if(s=U.div(null===a||void 0===a?void 0:a.amount,null===c||void 0===c?void 0:c.amount),e.prev=4,n.reverse){e.next=16;break}if(!U.lte(U.minus(n.poolBalanceOfToken1,c.amount),"0")){e.next=10;break}e.t1="0",e.next=13;break;case 10:return e.next=12,t.getAmountOut(a.amount,[n.token0,n.token1],U.plus(n.poolBalanceOfToken0,a.amount),U.minus(n.poolBalanceOfToken1,c.amount));case 12:e.t1=e.sent;case 13:e.t0=e.t1,e.next=29;break;case 16:if(!n.reverse){e.next=27;break}if(!U.lte(U.minus(n.poolBalanceOfToken0,c.amount),"0")){e.next=21;break}e.t3="0",e.next=24;break;case 21:return e.next=23,t.getAmountOut(a.amount,[n.token1,n.token0],U.plus(n.poolBalanceOfToken1,a.amount),U.minus(n.poolBalanceOfToken0,c.amount));case 23:e.t3=e.sent;case 24:e.t2=e.t3,e.next=28;break;case 27:e.t2=null;case 28:e.t0=e.t2;case 29:l=e.t0,e.next=35;break;case 32:e.prev=32,e.t4=e.catch(4),console.log("getDetails error",e.t4);case 35:i=U.mult(U.div(U.minus(l,c.amount),c.amount),"100");case 36:return e.abrupt("return",[{title:"Price",value:"1 ".concat((null===c||void 0===c?void 0:c.symbol)||"--"," \u2248 ").concat(s?X(s,16):"--"," ").concat((null===a||void 0===a?void 0:a.symbol)||"--"),explain:"Estimated price of the swap, not the final price that the swap is executed."},{title:"Swap Fee",value:"0%",explain:"Trade transaction fee collected by liquidity providers."},{title:"Price Impact",value:"".concat(i?X(i,6):"--"," %"),explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."},{title:"Allowed Slippage",value:(null===r||void 0===r?void 0:r.value)?"".concat(null===r||void 0===r?void 0:r.value,"%"):"0.50%",explain:"The ultimate price and output is determined by the amount of tokens in the pool at the time of your swap."},{title:"paired"===o?"Maximum sent":"Minimun Received",value:"paired"===o?"".concat((null===c||void 0===c?void 0:c.amount)?X(U.mult(null===c||void 0===c?void 0:c.amount,U.plus("1",U.div((null===r||void 0===r?void 0:r.value)||"0.5","100"))),18):"--"):"".concat((null===c||void 0===c?void 0:c.amount)?X(U.mult(null===c||void 0===c?void 0:c.amount,U.minus("1",U.div((null===r||void 0===r?void 0:r.value)||"0.5","100"))),18):"--"," ").concat((null===c||void 0===c?void 0:c.symbol)||"--"),explain:"paired"===o?"Input is estimated. You will sell at most maximum amount or the transaction will revert.":"Output is estimated. You will receive at least minumun amount or the transaction will revert."}]);case 37:case"end":return e.stop()}}),e,null,[[4,32]])})));return function(t,n,a,c,r){return e.apply(this,arguments)}}(),[t,null===He||void 0===He?void 0:He.length]),Xe=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){var a,c,o,s,i,l,u,d,v,b,j,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.active,c=n.passive,o=n.activeAmount,s=n.passiveAmount,i=n.type,l=n.pool,r(!0),qe(i),b=a||R,j=c||ee,v=l||H){e.next=21;break}e.t0=i,e.next="selected"===e.t0?10:"paired"===e.t0?13:16;break;case 10:return J(o),re("0"),e.abrupt("break",17);case 13:return re(s),J("0"),e.abrupt("break",17);case 16:return e.abrupt("break",17);case 17:return De([]),I([]),r(!1),e.abrupt("return");case 21:e.t1=i,e.next="selected"===e.t1?24:"paired"===e.t1?47:70;break;case 24:if(J(u=o),e.prev=26,!v||!U.gt(u,"0")){e.next=33;break}return e.next=30,t.getAmountsOut(u,[b,j]);case 30:e.t2=e.sent,e.next=34;break;case 33:e.t2="0";case 34:d=e.t2,Pe(!1),e.next=45;break;case 38:if(e.prev=38,e.t3=e.catch(26),d="0",Pe(!0),window.ethereum){e.next=45;break}return le(!0),e.abrupt("return");case 45:return re(d),e.abrupt("break",71);case 47:if(re(d=s),e.prev=49,!v||!U.gt(d,"0")){e.next=56;break}return e.next=53,t.getAmountsIn(d,[b,j]);case 53:e.t4=e.sent,e.next=57;break;case 56:e.t4="0";case 57:u=e.t4,Pe(!1),e.next=68;break;case 61:if(e.prev=61,e.t5=e.catch(49),u="0",Pe(!0),window.ethereum){e.next=68;break}return le(!0),e.abrupt("return");case 68:return J(u),e.abrupt("break",71);case 70:return e.abrupt("break",71);case 71:return e.next=73,Je(v,Object(p.a)(Object(p.a)({},b),{},{amount:u}),Object(p.a)(Object(p.a)({},j),{},{amount:d}),Oe,i);case 73:m=e.sent,De(m),r(!1);case 76:case"end":return e.stop()}}),e,null,[[26,38],[49,61]])})));return function(t){return e.apply(this,arguments)}}(),[t,Je,ee,R,H,Oe]),Ze=function(){var e=Object(b.a)(h.a.mark((function e(){var n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!0),a=R,q(n=ee),te(a),e.t0=Re,e.next="selected"===e.t0?8:"paired"===e.t0?11:14;break;case 8:return e.next=10,Xe({active:n,passive:a,passiveAmount:G,type:"paired"});case 10:return e.abrupt("break",14);case 11:return e.next=13,Xe({active:n,passive:a,activeAmount:ce,type:"selected"});case 13:return e.abrupt("break",14);case 14:if(!H){e.next=19;break}return e.next=17,t.getPoolPriceData(H.poolContract);case 17:c=e.sent,S(c);case 19:r(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a){var c,o,s,i,l,u,d,p,v,b;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!0),e.t0=a,e.next="selected"===e.t0?4:"paired"===e.t0?9:11;break;case 4:return o=Q(n,ee,t.supportedTokens),s=(l=o).active,i=l.passive,e.abrupt("break",12);case 9:return R?(o=Q(R,n,t.supportedTokens),s=(u=o).active,i=u.passive):(s=t.supportedTokens.find((function(e){var a;return U.eq(n.contract,0)?!U.eq(e.contract,0)&&e.contract!==(null===(a=t.nativeCurrency)||void 0===a?void 0:a.contract):U.eq(e.contract,0)})),i=n),e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:if(q(s),te(i),w.push({pathname:"/swap/".concat(s.contract,"/").concat((null===(c=i)||void 0===c?void 0:c.contract)?i.contract:"")}),!s||!i){e.next=29;break}return r(!0),e.prev=17,e.next=20,t.searchPoolByTokens({token0:s,token1:i});case 20:d=e.sent,D(d),e.next=29;break;case 24:e.prev=24,e.t1=e.catch(17),console.log(e.t1),window.ethereum||le(!0),r(!1);case 29:return e.next=31,Xe({activeAmount:G,passiveAmount:ce,type:a,active:s,passive:i,pool:d});case 31:if(!d){e.next=44;break}return e.next=34,Je(d,s,i,Oe,a);case 34:return p=e.sent,De(p),e.next=38,t.getPoolHistory(d.poolContract);case 38:return v=e.sent,I(v),e.next=42,t.getPoolPriceData(d.poolContract);case 42:b=e.sent,S(b);case 44:r(!1);case 45:case"end":return e.stop()}}),e,null,[[17,24]])})));return function(t,n){return e.apply(this,arguments)}}(),[Xe,t,Je,w,ee,ce,R,G,Oe]);Object(i.useEffect)((function(){return t.isInit&&t.isConnected&&t.connectedAccount&&R&&!(null===R||void 0===R?void 0:R.balanceOf)&&q((function(e){return t.supportedTokens.find((function(t){return U.gt(t.balanceOf,"0")&&e.contract.toLowerCase()===t.contract.toLowerCase()}))||e})),function(){}}),[t.isInit,t.connectedAccount,t.isConnected,t.supportedTokens,R]),Object(i.useEffect)((function(){return t.isInit&&t.isConnected&&t.connectedAccount&&ee&&!(null===ee||void 0===ee?void 0:ee.balanceOf)&&te((function(e){return t.supportedTokens.find((function(t){return U.gt(t.balanceOf,"0")&&e.contract.toLowerCase()===t.contract.toLowerCase()}))||e})),function(){}}),[t.isInit,t.connectedAccount,t.isConnected,t.supportedTokens,ee]);var Qe=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){var a,c,r,o,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.supportedTokens){e.next=2;break}return e.abrupt("return");case 2:if(!(n.length>0)){e.next=14;break}if(!/^0x[a-fA-F0-9]{40}$/.test(n[0])||(null===(a=n[0])||void 0===a?void 0:a.toLowerCase())===(null===R||void 0===R||null===(c=R.contract)||void 0===c?void 0:c.toLowerCase())){e.next=8;break}return e.next=6,t.searchToken(n[0]);case 6:s=e.sent,q(s);case 8:if(!n[1]||!/^0x[a-fA-F0-9]{40}$/.test(n[1])||(null===(r=n[1])||void 0===r?void 0:r.toLowerCase())===(null===ee||void 0===ee||null===(o=ee.contract)||void 0===o?void 0:o.toLowerCase())){e.next=14;break}return e.next=11,t.searchToken(n[1]);case 11:return i=e.sent,e.next=14,$e(i,"paired");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[$e,t,null===ee||void 0===ee?void 0:ee.contract,null===R||void 0===R?void 0:R.contract]);Object(i.useEffect)((function(){if(!(!t.isInit||!_.pathname.includes("/swap/")||!t.supportedTokens>0||!t.supportedPools>0||c)){var e=_.pathname.replace("/swap/","").split("/");return r(!0),Qe(e).then((function(e){w.push({pathname:"/swap"}),r(!1)})),function(){}}}),[t.isInit,t.supportedPools,t.supportedTokens,w,c,_.pathname,Qe]);var et=function(){var e=Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isAllowanceEnough(R.contract,G,R.decimals);case 2:return(null===(n=e.sent)||void 0===n?void 0:n.isEnough)&&K(null===n||void 0===n?void 0:n.allowanceAmount),v||k(!(null===n||void 0===n?void 0:n.isEnough)),e.abrupt("return",null===n||void 0===n?void 0:n.isEnough);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=Object(b.a)(h.a.mark((function e(){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(R.contract);case 2:(n=e.sent)&&(j(!!n),k(!n),a=setInterval(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:e.sent&&clearInterval(a);case 4:case"end":return e.stop()}}),e)}))),2500));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){return H&&U.gt(G,"0")&&U.gt((null===R||void 0===R?void 0:R.balanceOf)||"0",G)&&U.gt(G,z||"0")&&!g&&(U.eq(null===R||void 0===R?void 0:R.contract,"0")?(k(!1),j(!0),K(1157920892373162e62)):t.isAllowanceEnough(R.contract,G,R.decimals).then((function(e){U.gt(null===e||void 0===e?void 0:e.allowanceAmount,"0")&&(K(null===e||void 0===e?void 0:e.allowanceAmount),j(!0)),v||k(!(null===e||void 0===e?void 0:e.isEnough))}))),function(){}}),[v,t,H,R,G,z,g]),Object(i.useEffect)((function(){var e;return(null===je||void 0===je?void 0:je.chainId)!==(null===(e=t.currentNetwork)||void 0===e?void 0:e.chainId)&&me((function(e){var n;return e&&(null===e||void 0===e?void 0:e.chainId)===(null===(n=t.currentNetwork)||void 0===n?void 0:n.chainId)?e:(q(null),D(null),te(null),J(""),re(""),I([]),ke({value:"0.5",message:""}),De([]),S([]),w.push({pathname:"/swap"}),t.currentNetwork)})),function(){}}),[t.currentNetwork,null===je||void 0===je?void 0:je.chainId,w]);var nt=function(){var e=Object(b.a)(h.a.mark((function e(n){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!v){e.next=19;break}return j(!1),e.prev=3,e.next=6,t.swap(G,ce,[R,ee],null===Oe||void 0===Oe?void 0:Oe.value,ye,Re);case 6:a=e.sent,Ge(a),ze(!0),J("0"),re("0"),c=setTimeout((function(){ze(!1),clearTimeout(c)}),5e3),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),ve(e.t0),le(!0);case 18:j(!0);case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=+t.target.value<0?"0":t.target.value,ke({value:n,message:"".concat(U.gt(n,1)?"Your transaction may be frontrun":"")}),e.next=4,Je(H,Object(p.a)(Object(p.a)({},R),{},{amount:G}),Object(p.a)(Object(p.a)({},ee),{},{amount:ce}),{value:n,message:"".concat(U.gt(n,1)?"Your transaction may be frontrun":""),lastAmountChangeType:Re});case 4:a=e.sent,De(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ke({value:"0.1",message:""}),e.next=3,Je(H,Object(p.a)(Object(p.a)({},R),{},{amount:G}),Object(p.a)(Object(p.a)({},ee),{},{amount:ce}),{value:"0.1",message:""},Re);case 3:t=e.sent,De(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(l.a.Fragment,{children:[Ve&&Object(O.jsx)(wt.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:Ve,autoHideDuration:6e3,onClose:function(){return ze(!1)},message:"Swap ".concat("selected"===Re?"exact":""," ").concat(null===We||void 0===We?void 0:We.token0AmountChange," ").concat(null===We||void 0===We?void 0:We.token0.symbol," for ").concat("paired"===Re?"exact":""," ").concat(null===We||void 0===We?void 0:We.token1AmountChange," ").concat(null===We||void 0===We?void 0:We.token1.symbol),action:function(e){var n,a;return Object(O.jsxs)(l.a.Fragment,{children:[("0x1"===(null===(n=t.currentNetwork)||void 0===n?void 0:n.chainId)||"0x3"===(null===(a=t.currentNetwork)||void 0===a?void 0:a.chainId))&&Object(O.jsx)(St.a,{color:"secondary",size:"small",onClick:function(){var n,a;return window.open("0x3"===(null===(n=t.currentNetwork)||void 0===n?void 0:n.chainId)?"https://ropsten.etherscan.io/tx/".concat(e):"0x1"===(null===(a=t.currentNetwork)||void 0===a?void 0:a.chainId)?"https://etherscan.io/tx/".concat(e):"","_blank")},children:"View on Explorer"}),Object(O.jsx)(yt.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return ze(!1)},children:Object(O.jsx)(Ct.a,{fontSize:"small"})})]})}(null===We||void 0===We?void 0:We.transactionHash)}),ie&&Object(O.jsx)(ge,{message:"From Swap.js ".concat((null===pe||void 0===pe?void 0:pe.message)||(null===pe||void 0===pe?void 0:pe.toString())),onConfirm:function(){return le(!1)}}),Object(O.jsxs)("form",{className:"page",onSubmit:nt,children:[Object(O.jsxs)("div",{className:"header-bar",children:[Object(O.jsx)("div",{className:"header",children:"Swap"}),Object(O.jsx)(Ae,{shrink:!0})]}),Object(O.jsxs)("div",{className:Ie.a.container,children:[Object(O.jsx)("div",{className:Ie.a.main,children:Object(O.jsx)(ht,{selectedPool:H,selectedCoin:R,selectedCoinAmount:G,pairedCoin:ee,pairedCoinAmount:ce,coinUpdateHandler:$e,changeAmountHandler:Xe,tokenExchangerHander:Ze,slippage:Oe,slippageChangeHander:at,slippageAutoHander:ct,deadline:ye,deadlineChangeHander:function(e){var t=+e.target.value<0?"0":e.target.value;Ne(t)},approveHandler:tt,isApprove:v,displayApproveSelectedCoin:g,details:He,isLoading:c,poolInsufficient:Te,allowanceAmount:z})}),Object(O.jsxs)("div",{className:Ie.a.sub,children:[H&&Object(O.jsx)(_t,{data:C}),Object(O.jsx)(Ot,{histories:P,isLoading:H&&c})]})]})]})]})},At=n(10),Pt=n.n(At),It=l.a.createContext({isLoading:!1,fiat:{dollarSign:"$",symbol:"USD"},fiats:[],updateFiat:function(e){},getFiat:function(e){},getPrice:function(e){}}),Lt=function(e){return Object(O.jsxs)("div",{className:"".concat(Pt.a["title-bar"]," ").concat(Pt.a.token),children:[Object(O.jsx)("div",{className:Pt.a.leading,children:"#"}),Object(O.jsxs)("div",{className:Pt.a["title-box"],children:[Object(O.jsx)("div",{className:Pt.a.title,children:"Name"}),Object(O.jsx)("div",{className:Pt.a.icon})]}),Object(O.jsxs)("div",{className:Pt.a["title-box"],children:[Object(O.jsx)("div",{className:Pt.a.title,children:"Price"}),Object(O.jsx)("div",{className:Pt.a.icon})]}),Object(O.jsxs)("div",{className:Pt.a["title-box"],children:[Object(O.jsx)("div",{className:Pt.a.title,children:"Price change"}),Object(O.jsx)("div",{className:Pt.a.icon})]}),Object(O.jsxs)("div",{className:Pt.a["title-box"],children:[Object(O.jsx)("div",{className:Pt.a.title,children:"Volume 24H"}),Object(O.jsx)("div",{className:Pt.a.icon})]})]})},Et=function(e){var t,n,a=Object(i.useContext)(It),c=Object(u.e)();return Object(O.jsxs)("div",{className:"".concat(Pt.a.tile," ").concat(Pt.a.token),onClick:function(){var t;t=e.token,console.log("option",t),c.push({pathname:"/asset/".concat(t.contract)})},children:[Object(O.jsx)("div",{className:Pt.a.index,children:"".concat(e.index+1)}),Object(O.jsxs)("div",{className:Pt.a.group,children:[Object(O.jsx)("div",{className:Pt.a.icon,children:Object(O.jsx)("img",{src:e.token.iconSrc,alt:"".concat(e.token.symbol)})}),Object(O.jsx)("div",{className:Pt.a.title,children:e.token.symbol})]}),Object(O.jsx)("div",{className:Pt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(X(a.getPrice(e.token.priceToEth.value),6)||"--")}),Object(O.jsxs)("div",{className:"".concat(Pt.a.data," ").concat(e.token.priceToEth.change.includes("-")?Pt.a.decrease:Pt.a.increase),children:[(null===(t=e.token)||void 0===t||null===(n=t.priceToEth)||void 0===n?void 0:n.change)?X(e.token.priceToEth.change.includes("+")||e.token.priceToEth.change.includes("-")?e.token.priceToEth.change.slice(1):e.token.priceToEth.change,6):"--","%"]}),Object(O.jsx)("div",{className:Pt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(X(e.token.volume.value,6)||"--")}),Object(O.jsx)("div",{className:Pt.a.action,children:Object(O.jsx)("a",{className:Pt.a.button,href:"#/swap/".concat(e.token.contract),children:"Swap"})})]})},Ht=function(e){var t=Object(i.useContext)(It);return Object(O.jsxs)("div",{className:"".concat(Pt.a.table," ").concat(Pt.a.token),children:[Object(O.jsx)("div",{className:Pt.a.header,children:"Tokens"}),Object(O.jsxs)("div",{className:Pt.a.container,children:[Object(O.jsx)(Lt,{}),Object(O.jsxs)("div",{className:Pt.a.content,children:[!e.tokens.length&&!e.isLoading&&Object(O.jsx)("div",{className:Pt.a.hint,children:"No token found."}),!!e.tokens.length&&e.tokens.map((function(e,n){return Object(O.jsx)(Et,{index:n,token:e,fiat:t.fiat,onClick:function(){}},e.contract)})),e.isLoading&&Object(O.jsx)(le,{})]})]})]})},Dt=function(e){var t=Object(i.useContext)(m),n=Object(i.useContext)(It),a=function(){var n=Object(b.a)(h.a.mark((function n(a){var c,r,o;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=e.pools.findIndex((function(e){return e.token0.contract===a||e.token1.contract===a})),-1!==c){n.next=9;break}return n.next=4,t.searchToken(a);case 4:o=n.sent,console.log(o),r={token0:o},n.next=10;break;case 9:r=e.options[c];case 10:return n.abrupt("return",r);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"page",children:[Object(O.jsxs)("div",{className:"header-bar",children:[Object(O.jsx)("div",{className:"header",children:"Tokens"}),Object(O.jsx)(Ae,{shrink:!0})]}),Object(O.jsx)(Ze,{className:"page",header:"All Tokens",filterProperty:"name",data:t.supportedTokens,onSelect:function(){},onImport:a,titleBar:Lt,isLoading:t.isLoading,hint:"No token found.",children:function(e){return Et({token:e,index:e.index,fiat:n.fiat,id:e.contract})}})]})},Bt=n(53),Ft=n.n(Bt),Rt=function(){var e,t,n,a,c,r,o=Object(i.useContext)(It),s=Object(i.useContext)(m);return Object(O.jsxs)("div",{className:Ft.a.asset,children:[Object(O.jsx)("div",{className:Ft.a.title,children:"Connected Account"}),Object(O.jsxs)("div",{className:Ft.a.content,children:[s.connectedAccount&&Object(O.jsx)("div",{className:Ft.a.paragraph,children:W(null===(e=s.connectedAccount)||void 0===e?void 0:e.contract,10)}),Object(O.jsxs)("div",{className:Ft.a.icon,children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})]}),s.isLoading?Object(O.jsx)(le,{}):Object(O.jsxs)("div",{className:Ft.a.content,children:[Object(O.jsx)("div",{className:Ft.a.header1,children:"".concat(o.fiat.dollarSign," ").concat(X(o.getPrice(s.totalBalance),6))}),Object(O.jsxs)("div",{className:Ft.a.subtitle,children:[Object(O.jsx)("div",{className:Ft.a.header2,children:"".concat(X((null===(t=s.connectedAccount)||void 0===t?void 0:t.balanceOf)||"0",4)||"--"," ").concat((null===(n=s.currentNetwork)||void 0===n||null===(a=n.nativeCurrency)||void 0===a?void 0:a.symbol)||"--")}),Object(O.jsx)("div",{className:Ft.a.header2,children:"".concat((null===(c=s.connectedAccount)||void 0===c?void 0:c.balanceOf)?X(o.getPrice(null===(r=s.connectedAccount)||void 0===r?void 0:r.balanceOf)||"0",4):"--")})]})]})]})},qt=n(253),Ut=n.n(qt),Mt=n(21),Vt=n.n(Mt),zt=function(e){return Object(O.jsxs)("div",{className:Vt.a["title-bar"],children:[Object(O.jsxs)("div",{className:Vt.a["title-box"],children:[Object(O.jsx)("div",{className:Vt.a.title,children:"TOKEN"}),Object(O.jsx)("div",{className:Vt.a.icon})]}),Object(O.jsxs)("div",{className:Vt.a["title-box"],children:[Object(O.jsx)("div",{className:Vt.a.title,children:"MYSHARE"}),Object(O.jsx)("div",{className:Vt.a.icon})]}),Object(O.jsxs)("div",{className:Vt.a["title-box"],children:[Object(O.jsx)("div",{className:Vt.a.title,children:"TVL"}),Object(O.jsx)("div",{className:Vt.a.icon})]}),Object(O.jsxs)("div",{className:Vt.a["title-box"],children:[Object(O.jsx)("div",{className:Vt.a.title,children:"IRR"}),Object(O.jsx)("div",{className:Vt.a.icon})]}),Object(O.jsxs)("div",{className:Vt.a["title-box"],children:[Object(O.jsx)("div",{className:Vt.a.title,children:"REWARD"}),Object(O.jsx)("div",{className:Vt.a.icon})]})]})},Kt=function(e){var t,n,a,c=Object(u.e)();return Object(O.jsxs)("div",{className:"".concat(Vt.a.tile," ").concat((null===(t=e.pool)||void 0===t?void 0:t.pending)?Vt.a.pending:""),onClick:function(){var t;(t=e.pool).poolContract&&c.push({pathname:"/pool/".concat(t.poolContract)})},children:[Object(O.jsxs)("div",{className:Vt.a.group,children:[Object(O.jsxs)("div",{className:Vt.a.icons,children:[Object(O.jsx)("div",{className:Vt.a.icon,children:Object(O.jsx)("img",{src:e.pool.token0.iconSrc,alt:"".concat(e.pool.token0.symbol)})}),Object(O.jsx)("div",{className:Vt.a.icon,children:Object(O.jsx)("img",{src:e.pool.token1.iconSrc,alt:"".concat(e.pool.token1.symbol)})})]}),Object(O.jsxs)("div",{className:Vt.a.title,children:[(null===(n=e.pool)||void 0===n?void 0:n.pending)&&Object(O.jsx)(le,{className:"small"}),e.pool.name]})]}),Object(O.jsx)("div",{className:Vt.a.data,children:"".concat(X(U.mult(e.pool.share,"100"),4),"%")}),Object(O.jsx)("div",{className:Vt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(X(e.pool.tvl.value,6)||"--")}),Object(O.jsxs)("div",{className:Vt.a.data,children:["".concat(X(U.mult(e.pool.irr,"100"),4)||"--")," %"]}),Object(O.jsx)("div",{className:Vt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.pool.reward||"0")}),Object(O.jsxs)("div",{className:Vt.a.action,children:[Object(O.jsx)("a",{className:Vt.a.button,href:"#/add-liquidity/".concat(e.pool.token0.contract,"/").concat(e.pool.token1.contract),children:"Add"}),Object(O.jsx)("a",{className:Vt.a.button,href:(null===(a=e.pool)||void 0===a?void 0:a.pending)?"#/assets":"#/redeem-liquidity/".concat(e.pool.poolContract),children:"Remove"})]})]})},Yt=function(e){var t=Object(i.useContext)(It);return Object(O.jsxs)("div",{className:Vt.a.list,children:[Object(O.jsx)("div",{className:Vt.a.title,children:"Pools"}),Object(O.jsxs)("div",{className:Vt.a.container,children:[Object(O.jsx)(zt,{}),Object(O.jsxs)("div",{className:Vt.a.content,children:[!e.invests.length&&!e.isLoading&&Object(O.jsx)("div",{className:Vt.a.hint,children:"No token found."}),!!e.invests.length&&e.invests.map((function(e){return Object(O.jsx)(Kt,{pool:e,fiat:t.fiat},"".concat(e.poolContract,"-").concat(Z(6)))})),e.isLoading&&Object(O.jsx)(le,{})]})]})]})},Wt=n(24),Gt=n.n(Wt),Jt=function(e){return Object(O.jsxs)("div",{className:Gt.a["title-bar"],children:[Object(O.jsxs)("div",{className:Gt.a["title-box"],children:[Object(O.jsx)("div",{className:Gt.a.title,children:"TOKEN"}),Object(O.jsx)("div",{className:Gt.a.icon})]}),Object(O.jsxs)("div",{className:Gt.a["title-box"],children:[Object(O.jsx)("div",{className:Gt.a.title,children:"PRICE"}),Object(O.jsx)("div",{className:Gt.a.icon})]}),Object(O.jsxs)("div",{className:Gt.a["title-box"],children:[Object(O.jsx)("div",{className:Gt.a.title,children:"PRICE 24H"}),Object(O.jsx)("div",{className:Gt.a.icon})]}),Object(O.jsxs)("div",{className:Gt.a["title-box"],children:[Object(O.jsx)("div",{className:Gt.a.title,children:"BALANCE"}),Object(O.jsx)("div",{className:Gt.a.icon})]}),Object(O.jsxs)("div",{className:Gt.a["title-box"],children:[Object(O.jsx)("div",{className:Gt.a.title,children:"inFIAT"}),Object(O.jsx)("div",{className:Gt.a.icon})]})]})},Xt=function(e){var t,n,a=Object(i.useContext)(It),c=Object(u.e)();return Object(O.jsxs)("div",{className:Gt.a.tile,onClick:function(){var t;t=e.token,console.log("option",t),c.push({pathname:"/asset/".concat(t.contract)})},children:[Object(O.jsxs)("div",{className:Gt.a.group,children:[Object(O.jsx)("div",{className:Gt.a.icon,children:Object(O.jsx)("img",{src:e.token.iconSrc,alt:"".concat(e.token.symbol)})}),Object(O.jsx)("div",{className:Gt.a.title,children:e.token.symbol})]}),Object(O.jsx)("div",{className:Gt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(X(a.getPrice(e.token.priceToEth.value),6)||"--")}),Object(O.jsxs)("div",{className:"".concat(Gt.a.data," ").concat(e.token.priceToEth.change.includes("-")?Gt.a.decrease:Gt.a.increase),children:[(null===(t=e.token)||void 0===t||null===(n=t.priceToEth)||void 0===n?void 0:n.change)?X(e.token.priceToEth.change.includes("+")||e.token.priceToEth.change.includes("-")?U.mult(e.token.priceToEth.change.slice(1),"100"):U.mult(e.token.priceToEth.change,"100"),4):"--","%"]}),Object(O.jsx)("div",{className:Gt.a.data,children:"".concat(X(e.token.balanceOf,6)," ").concat(e.token.symbol)}),Object(O.jsx)("div",{className:Gt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(X(a.getPrice(e.token.balanceOf),6))}),Object(O.jsx)("div",{className:Gt.a.action,children:Object(O.jsx)("a",{className:Gt.a.button,href:"#/swap/".concat(e.token.contract),children:"Swap"})})]})},Zt=function(e){var t=Object(i.useContext)(It);return Object(O.jsxs)("div",{className:Gt.a.list,children:[Object(O.jsx)("div",{className:Gt.a.title,children:"Tokens"}),Object(O.jsxs)("div",{className:Gt.a.container,children:[Object(O.jsx)(Jt,{}),Object(O.jsxs)("div",{className:Gt.a.content,children:[!e.tokens.length&&!e.isLoading&&Object(O.jsx)("div",{className:Gt.a.hint,children:"No token found."}),!!e.tokens.length&&e.tokens.map((function(e){return Object(O.jsx)(Xt,{token:e,fiat:t.fiat},e.contract)})),e.isLoading&&Object(O.jsx)(le,{})]})]})]})},$t=function(e){var t=Object(i.useContext)(m),n=Object(i.useState)([]),a=Object(s.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)([]),l=Object(s.a)(o,2),u=l[0],d=l[1];return Object(i.useEffect)((function(){return t.isConnected?r(t.supportedTokens.filter((function(e){return U.gt(e.balanceOf,0)}))):t.isConnected||r([]),function(){}}),[t.isConnected,t.supportedTokens]),Object(i.useEffect)((function(){return t.isConnected?d(t.supportedPools.filter((function(e){return U.gt(e.share,0)}))):t.isConnected||d([]),function(){}}),[t.isConnected,t.supportedPools]),Object(O.jsxs)("div",{className:"page",children:[Object(O.jsxs)("div",{className:"header-bar",children:[Object(O.jsx)("div",{className:"header",children:"MyAssets"}),Object(O.jsx)(Ae,{shrink:!0})]}),Object(O.jsxs)("div",{className:Ut.a.container,children:[Object(O.jsx)(Zt,{tokens:c,isLoading:t.isLoading}),Object(O.jsx)(Yt,{invests:u,isLoading:t.isLoading}),Object(O.jsx)(Ot,{histories:t.isConnected?t.histories:[],isLoading:t.isLoading})]})]})},Qt=n(134),en=n.n(Qt),tn=n(66),nn=n.n(tn),an=function(e){var t,n,a,c,r,o,s,l,u,d,p,v,h,b=Object(i.useContext)(m);return Object(O.jsxs)("div",{className:nn.a.earn,children:[Object(O.jsxs)("main",{className:nn.a.main,children:[Object(O.jsx)(vt,{slippage:e.slippage,slippageAutoHander:e.slippageAutoHander,slippageChangeHander:e.slippageChangeHander,deadline:e.deadline,deadlineChangeHander:e.deadlineChangeHander}),Object(O.jsx)(ct,{selected:e.selectedCoin,value:e.selectedCoinAmount,onSelect:function(t){return e.coinUpdateHandler({active:t,type:"selected"})},onChange:function(t){return e.changeAmountHandler({activeAmount:t,type:"selected",pool:e.selectedPool})},options:b.supportedTokens}),Object(O.jsx)("div",{className:"icon",children:Object(O.jsx)("div",{children:"+"})}),Object(O.jsx)(ct,{selected:e.pairedCoin,value:e.pairedCoinAmount,onSelect:function(t){return e.coinUpdateHandler({passive:t,type:"paired"})},onChange:function(t){return e.changeAmountHandler({passiveAmount:t,type:"paired",pool:e.selectedPool})},options:b.supportedTokens}),e.selectedPool&&Object(O.jsx)("div",{className:nn.a.details,children:null===(t=e.details)||void 0===t?void 0:t.map((function(e){return Object(O.jsxs)("div",{className:nn.a.detail,children:[Object(O.jsx)("div",{className:nn.a.value,children:e.value}),Object(O.jsx)("div",{className:nn.a.label,children:e.title})]},Z(6))}))}),Object(O.jsxs)("div",{className:nn.a.button,children:[Object(O.jsxs)("div",{className:nn.a["approve-button-container"],children:[e.displayApproveSelectedCoin&&!e.selectedCoinIsApprove&&Object(O.jsxs)(xe,{type:"button",onClick:function(){var t;return e.approveHandler(null===(t=e.selectedCoin)||void 0===t?void 0:t.contract,"selected")},children:["Approve ",null===(n=e.selectedCoin)||void 0===n?void 0:n.symbol]}),e.displayApprovePairedCoin&&!e.pairedCoinIsApprove&&Object(O.jsxs)(xe,{type:"button",onClick:function(){var t;return e.approveHandler(null===(t=e.pairedCoin)||void 0===t?void 0:t.contract,"paired")},children:["Approve ",null===(a=e.pairedCoin)||void 0===a?void 0:a.symbol]})]}),Object(O.jsx)(xe,{type:"submit",disabled:e.isLoading||!(null===(c=e.selectedCoin)||void 0===c?void 0:c.balanceOf)||!(null===(r=e.pairedCoin)||void 0===r?void 0:r.balanceOf)||!e.selectedCoinAmount||!e.pairedCoinAmount||U.gt(e.selectedCoinAmount,null===(o=e.selectedCoin)||void 0===o?void 0:o.balanceOf)||U.gt(e.pairedCoinAmount,null===(s=e.pairedCoin)||void 0===s?void 0:s.balanceOf)||U.gt(e.selectedCoinAmount,e.selectedCoinAllowance)||U.gt(e.pairedCoinAmount,e.pairedCoinAllowance),children:e.isLoading||e.selectedCoinIsApprove&&!U.gt(e.selectedCoinAllowance,"0")||e.pairedCoinIsApprove&&!U.gt(e.pairedCoinAllowance,"0")?"Loading...":e.selectedCoin&&e.pairedCoin?!(null===(l=e.selectedCoin)||void 0===l?void 0:l.balanceOf)||U.gt(e.selectedCoinAmount,null===(u=e.selectedCoin)||void 0===u?void 0:u.balanceOf)?"Insufficient ".concat((null===(d=e.selectedCoin)||void 0===d?void 0:d.symbol)||""," balance"):!(null===(p=e.pairedCoin)||void 0===p?void 0:p.balanceOf)||U.gt(e.pairedCoinAmount,null===(v=e.pairedCoin)||void 0===v?void 0:v.balanceOf)?"Insufficient ".concat((null===(h=e.pairedCoin)||void 0===h?void 0:h.symbol)||""," balance"):"Confirm":"Select Token"})]})]}),Object(O.jsx)("div",{className:"sub",children:Object(O.jsx)(st,{title:"Summary",data:e.summary})})]})},cn=function(e){var t=Object(i.useContext)(m),n=Object(i.useState)({value:"0.5",message:""}),a=Object(s.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)([]),d=Object(s.a)(o,2),v=d[0],j=d[1],x=Object(i.useState)("30"),f=Object(s.a)(x,2),g=f[0],k=f[1],_=Object(i.useState)(null),w=Object(s.a)(_,2),y=w[0],N=w[1],C=Object(i.useState)(null),S=Object(s.a)(C,2),T=S[0],A=S[1],P=Object(i.useState)(""),I=Object(s.a)(P,2),L=I[0],E=I[1],H=Object(i.useState)("0"),D=Object(s.a)(H,2),B=D[0],F=D[1],R=Object(i.useState)(!1),q=Object(s.a)(R,2),M=q[0],V=q[1],z=Object(i.useState)(!1),K=Object(s.a)(z,2),Y=K[0],W=K[1],G=Object(i.useState)(null),J=Object(s.a)(G,2),Z=J[0],$=J[1],ee=Object(i.useState)(""),te=Object(s.a)(ee,2),ne=te[0],ae=te[1],ce=Object(i.useState)("0"),re=Object(s.a)(ce,2),oe=re[0],se=re[1],ie=Object(i.useState)(!1),le=Object(s.a)(ie,2),ue=le[0],de=le[1],pe=Object(i.useState)(!1),ve=Object(s.a)(pe,2),he=ve[0],be=ve[1],je=Object(u.e)(),me=Object(u.f)(),xe=Object(i.useState)(!1),fe=Object(s.a)(xe,2),Oe=fe[0],ke=fe[1],_e=Object(i.useState)([]),we=Object(s.a)(_e,2),ye=we[0],Ne=we[1],Ce=Object(i.useState)([]),Se=Object(s.a)(Ce,2),Te=Se[0],Pe=Se[1],Ie=Object(i.useState)(!1),Le=Object(s.a)(Ie,2),Ee=Le[0],He=Le[1],De=Object(i.useState)(null),Be=Object(s.a)(De,2),Fe=Be[0],Re=Be[1],qe=Object(i.useState)(t.currentNetwork),Ue=Object(s.a)(qe,2),Me=Ue[0],Ve=Ue[1],ze=Object(i.useState)(!1),Ke=Object(s.a)(ze,2),Ye=Ke[0],We=Ke[1],Ge=Object(i.useState)(null),Je=Object(s.a)(Ge,2),Xe=Je[0],Ze=Je[1],$e=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){var a,c,r,o,s,i,l,u,d,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=n.pool,u=n.selectedCoin,d=n.pairedCoin,n.slippage,console.log("dataUpdateHandler selectedCoin",u),console.log("dataUpdateHandler pairedCoin",d),Ne(l?[{title:"".concat((null===l||void 0===l||null===(a=l.token0)||void 0===a?void 0:a.symbol)||"--"," per ").concat((null===l||void 0===l||null===(c=l.token1)||void 0===c?void 0:c.symbol)||"--"),value:"".concat(X(U.div(null===l||void 0===l?void 0:l.poolBalanceOfToken1,null===l||void 0===l?void 0:l.poolBalanceOfToken0),8))},{title:"".concat((null===l||void 0===l||null===(r=l.token1)||void 0===r?void 0:r.symbol)||"--"," per ").concat((null===l||void 0===l||null===(o=l.token0)||void 0===o?void 0:o.symbol)||"--"),value:"".concat(X(U.div(null===l||void 0===l?void 0:l.poolBalanceOfToken0,null===l||void 0===l?void 0:l.poolBalanceOfToken1),8))},{title:"".concat((null===l||void 0===l?void 0:l.share)?X(U.mult(null===l||void 0===l?void 0:l.share,100),4):"0"," %"),value:"Your pool share",explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."}]:[]),Pe(l?[{title:null===l||void 0===l||null===(s=l.token0)||void 0===s?void 0:s.symbol,value:U.plus(null===l||void 0===l?void 0:l.poolBalanceOfToken0,l.reverse?(null===d||void 0===d?void 0:d.amount)||"0":(null===u||void 0===u?void 0:u.amount)||"0")},{title:null===l||void 0===l||null===(i=l.token1)||void 0===i?void 0:i.symbol,value:U.plus(null===l||void 0===l?void 0:l.poolBalanceOfToken1,l.reverse?(null===u||void 0===u?void 0:u.amount)||"0":(null===d||void 0===d?void 0:d.amount)||"0")},{title:"Share of the pool",value:"".concat((null===u||void 0===u?void 0:u.amount)?X(U.mult(U.div(null===u||void 0===u?void 0:u.amount,U.plus(null===l||void 0===l?void 0:l.poolBalanceOfToken0,(null===u||void 0===u?void 0:u.contract)===(null===l||void 0===l?void 0:l.token0.contract)?(null===u||void 0===u?void 0:u.amount)||"0":(null===d||void 0===d?void 0:d.amount)||"0")),100),4):"0"," %"),explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."},{title:"Total yield",value:"--",explain:"Trade transaction fee collected by liquidity providers."}]:[{title:"Initial prices",value:"1 ".concat((null===u||void 0===u?void 0:u.symbol)||"--"," \u2248 ").concat((null===u||void 0===u?void 0:u.amount)&&(null===d||void 0===d?void 0:d.amount)?U.div(null===u||void 0===u?void 0:u.amount,null===d||void 0===d?void 0:d.amount):"--"," ").concat((null===d||void 0===d?void 0:d.symbol)||"--"),explain:"Estimated price of the swap, not the final price that the swap is executed."},{title:"Initial prices",value:"1 ".concat((null===d||void 0===d?void 0:d.symbol)||"--"," \u2248 ").concat((null===u||void 0===u?void 0:u.amount)&&(null===d||void 0===d?void 0:d.amount)?U.div(null===d||void 0===d?void 0:d.amount,null===u||void 0===u?void 0:u.amount):"--"," ").concat((null===u||void 0===u?void 0:u.symbol)||"--"),explain:"Estimated price of the swap, not the final price that the swap is executed."},{title:"Share of the pool",value:"".concat((null===u||void 0===u?void 0:u.amount)&&(null===d||void 0===d?void 0:d.amount)?"100":"0"," %"),explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."},{title:"Total yield",value:"--",explain:"Trade transaction fee collected by liquidity providers."}]),!l){e.next=10;break}return e.next=8,t.getPoolHistory(l.poolContract);case 8:p=e.sent,j(p);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),Qe=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){var a,r,o,s,i,l,u,d,v;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.activeAmount,r=n.passiveAmount,o=n.type,s=n.active,i=n.passive,l=n.pool,u=s||T,d=i||Z,e.t0=o,e.next="selected"===e.t0?6:"paired"===e.t0?11:15;break;case 6:return E(a),console.log("formateAddLiquidity updateSelectedAmount",a),v=t.formateAddLiquidity({pool:l,tokenA:u,tokenB:d,amountADesired:a,amountBDesired:ne,type:o}),ae(v.amountBDesired),e.abrupt("break",16);case 11:return ae(r),v=t.formateAddLiquidity({pool:l,tokenA:u,tokenB:d,amountADesired:L,amountBDesired:r,type:o}),E(v.amountADesired),e.abrupt("break",16);case 15:return e.abrupt("break",16);case 16:return e.next=18,$e({pool:l,selectedCoin:Object(p.a)(Object(p.a)({},u),{},{amount:v.amountADesired}),pairedCoin:Object(p.a)(Object(p.a)({},d),{},{amount:v.amountBDesired}),slippage:c});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,$e,Z,ne,T,L,c]),et=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){var a,r,o,s,i,l,u,d,v;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.active,r=n.passive,o=n.type,i=a||T,l=r||Z,N(null),Ne([]),Pe([]),j([]),e.t0=o,e.next="selected"===e.t0?10:"paired"===e.t0?15:17;break;case 10:return s=Q(a,Z,t.supportedTokens),i=(u=s).active,l=u.passive,e.abrupt("break",18);case 15:return i?(s=Q(r,i,t.supportedTokens),l=(d=s).active,i=d.passive):(i=t.supportedTokens.find((function(e){var n;return U.gt(r.contract,0)?U.gt(e.contract,0):!U.gt(e.contract,0)&&e.contract!==(null===(n=t.nativeCurrency)||void 0===n?void 0:n.contract)})),l=r),e.abrupt("break",18);case 17:return e.abrupt("break",18);case 18:if(A(i),$(l),!i||!l){e.next=34;break}return ke(!0),e.prev=22,e.next=25,t.searchPoolByTokens({token0:i,token1:l});case 25:v=e.sent,N(v),e.next=34;break;case 29:e.prev=29,e.t1=e.catch(22),console.log(e.t1),window.ethereum||He(!0),ke(!1);case 34:return e.next=36,$e({pool:v,selectedCoin:Object(p.a)(Object(p.a)({},i),{},{amount:L}),pairedCoin:Object(p.a)(Object(p.a)({},l),{},{amount:ne}),slippage:c});case 36:return e.next=38,Qe({pool:v,activeAmount:L,passiveAmount:ne,type:o,active:i,passive:l});case 38:ke(!1);case 39:case"end":return e.stop()}}),e,null,[[22,29]])})));return function(t){return e.apply(this,arguments)}}(),[Qe,t,$e,Z,ne,T,L,c]),tt=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({value:"0.5",message:""}),e.next=3,$e({pool:y,selectedCoin:Object(p.a)(Object(p.a)({},T),{},{amount:L}),pairedCoin:Object(p.a)(Object(p.a)({},Z),{},{amount:ne}),slippage:{value:"0.5",message:""}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=+t.target.value<0?"0":t.target.value,r({value:n,message:"".concat(U.gt(n,1)?"Your transaction may be frontrun":"")}),e.next=4,$e({pool:y,selectedCoin:Object(p.a)(Object(p.a)({},T),{},{amount:L}),pairedCoin:Object(p.a)(Object(p.a)({},Z),{},{amount:ne}),slippage:{value:n,message:""}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(b.a)(h.a.mark((function e(n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!M){e.next=22;break}return V(!1),e.prev=3,e.next=6,t.provideLiquidity({tokenA:T,tokenB:Z,amountADesired:L,amountBDesired:ne,slippage:null===c||void 0===c?void 0:c.value,deadline:g,create:!y,reverse:!!y&&y.reverse});case 6:a=e.sent,Ze(a),E("0"),ae("0"),V(!1),de(!1),We(!0),r=setTimeout((function(){We(!1),clearTimeout(r)}),5e3),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(3),console.log("error",e.t0),Re(e.t0),He(!0);case 21:V(!0);case 22:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),ct=Object(i.useCallback)(Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isAllowanceEnough(T.contract,L,T.decimals);case 2:return(null===(n=e.sent)||void 0===n?void 0:n.isEnough)&&(F(null===n||void 0===n?void 0:n.allowanceAmount),V(!0)),M||W(!(null===n||void 0===n?void 0:n.isEnough)),e.abrupt("return",null===n||void 0===n?void 0:n.isEnough);case 6:case"end":return e.stop()}}),e)}))),[t,null===T||void 0===T?void 0:T.contract,null===T||void 0===T?void 0:T.decimals,L,M]),rt=Object(i.useCallback)(Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isAllowanceEnough(Z.contract,ne,Z.decimals);case 2:return(null===(n=e.sent)||void 0===n?void 0:n.isEnough)&&(se(null===n||void 0===n?void 0:n.allowanceAmount),de(!0)),ue||be(!(null===n||void 0===n?void 0:n.isEnough)),e.abrupt("return",null===n||void 0===n?void 0:n.isEnough);case 6:case"end":return e.stop()}}),e)}))),[t,null===Z||void 0===Z?void 0:Z.contract,null===Z||void 0===Z?void 0:Z.decimals,ne,ue]),ot=function(){var e=Object(b.a)(h.a.mark((function e(n,a){var c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(n);case 2:if(!(c=e.sent)){e.next=16;break}e.t0=a,e.next="selected"===e.t0?7:"paired"===e.t0?11:15;break;case 7:return V(!!c),W(!c),r=setInterval(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:e.sent&&clearInterval(r);case 4:case"end":return e.stop()}}),e)}))),2500),e.abrupt("break",16);case 11:return de(!!c),be(!c),r=setInterval(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt();case 2:e.sent&&clearInterval(r);case 4:case"end":return e.stop()}}),e)}))),2500),e.abrupt("break",16);case 15:return e.abrupt("break",16);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){return(null===T||void 0===T?void 0:T.balanceOf)&&U.gt(L||"0","0")&&U.gt(T.balanceOf,L)&&U.gt(L,B||"0")&&!Y&&(U.gt(null===T||void 0===T?void 0:T.contract,"0")?ct():(W(!1),V(!0),F(1157920892373162e62))),function(){}}),[Y,ct,null===T||void 0===T?void 0:T.balanceOf,null===T||void 0===T?void 0:T.contract,B,L]),Object(i.useEffect)((function(){return(null===Z||void 0===Z?void 0:Z.balanceOf)&&U.gt(ne||"0","0")&&U.gt(Z.balanceOf,ne)&&U.gt(ne,oe||"0")&&!he&&(U.gt(null===Z||void 0===Z?void 0:Z.contract,"0")?rt():(be(!1),de(!0),se(1157920892373162e62))),function(){}}),[he,rt,null===Z||void 0===Z?void 0:Z.balanceOf,null===Z||void 0===Z?void 0:Z.contract,oe,ne]),Object(i.useEffect)((function(){return t.isInit&&t.isConnected&&t.connectedAccount&&T&&!(null===T||void 0===T?void 0:T.balanceOf)&&A((function(e){return t.supportedTokens.find((function(t){return U.gt(t.balanceOf,"0")&&e.contract.toLowerCase()===t.contract.toLowerCase()}))||e})),function(){}}),[t.isInit,t.connectedAccount,t.isConnected,t.supportedTokens,T]),Object(i.useEffect)((function(){return t.isInit&&t.isConnected&&t.connectedAccount&&Z&&!(null===Z||void 0===Z?void 0:Z.balanceOf)&&$((function(e){return t.supportedTokens.find((function(t){return U.gt(t.balanceOf,"0")&&e.contract.toLowerCase()===t.contract.toLowerCase()}))||e})),function(){}}),[t.isInit,t.connectedAccount,t.isConnected,t.supportedTokens,Z]);var st=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){var a,c,r,o,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.supportedTokens){e.next=2;break}return e.abrupt("return");case 2:if(!/^0x[a-fA-F0-9]{40}$/.test(n[0])||(null===(a=n[0])||void 0===a?void 0:a.toLowerCase())===(null===T||void 0===T||null===(c=T.contract)||void 0===c?void 0:c.toLowerCase())){e.next=7;break}return e.next=5,t.searchToken(n[0]);case 5:s=e.sent,A(s);case 7:if(!n[1]||!/^0x[a-fA-F0-9]{40}$/.test(n[1])||(null===(r=n[1])||void 0===r?void 0:r.toLowerCase())===(null===Z||void 0===Z||null===(o=Z.contract)||void 0===o?void 0:o.toLowerCase())){e.next=13;break}return e.next=10,t.searchToken(n[1]);case 10:return i=e.sent,e.next=13,et({active:s,passive:i,type:"paired"});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[et,t,null===Z||void 0===Z?void 0:Z.contract,null===T||void 0===T?void 0:T.contract]);return Object(i.useEffect)((function(){if(!(!t.isInit||!me.pathname.includes("/add-liquidity/")||!t.supportedTokens>0||!t.supportedPools>0||Oe)){var e=me.pathname.replace("/add-liquidity/","").split("/");return ke(!0),st(e).then((function(e){je.push({pathname:"/add-liquidity"}),ke(!1)})),function(){}}}),[t.isInit,t.supportedPools,t.supportedTokens,Oe,je,me.pathname,st]),Object(i.useEffect)((function(){var e;return t.isInit&&(null===Me||void 0===Me?void 0:Me.chainId)!==(null===(e=t.currentNetwork)||void 0===e?void 0:e.chainId)&&Ve((function(e){var n;return console.log("prevState",e),console.log("connectorCtx.currentNetwork",t.currentNetwork),e&&e.chainId===(null===(n=t.currentNetwork)||void 0===n?void 0:n.chainId)?e:(A(null),N(null),$(null),E(""),ae(""),j([]),r({value:"0.5",message:""}),$e({pool:null,selectedCoin:null,pairedCoin:null}),t.currentNetwork)})),function(){}}),[t.isInit,t.currentNetwork,null===Me||void 0===Me?void 0:Me.chainId,$e]),Object(O.jsxs)(l.a.Fragment,{children:[Ye&&Object(O.jsx)(wt.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:Ye,autoHideDuration:6e3,onClose:function(){return We(!1)},message:"Add ".concat(null===Xe||void 0===Xe?void 0:Xe.token0AmountChange," ").concat(null===Xe||void 0===Xe?void 0:Xe.token0.symbol," &  ").concat(null===Xe||void 0===Xe?void 0:Xe.token1AmountChange," ").concat(null===Xe||void 0===Xe?void 0:Xe.token1.symbol," to pool."),action:function(e){var n,a;return Object(O.jsxs)(l.a.Fragment,{children:[("0x1"===(null===(n=t.currentNetwork)||void 0===n?void 0:n.chainId)||"0x3"===(null===(a=t.currentNetwork)||void 0===a?void 0:a.chainId))&&Object(O.jsx)(St.a,{color:"secondary",size:"small",onClick:function(){var n,a;return window.open("0x3"===(null===(n=t.currentNetwork)||void 0===n?void 0:n.chainId)?"https://ropsten.etherscan.io/tx/".concat(e):"0x1"===(null===(a=t.currentNetwork)||void 0===a?void 0:a.chainId)?"https://etherscan.io/tx/".concat(e):"","_blank")},children:"View on Explorer"}),Object(O.jsx)(yt.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return We(!1)},children:Object(O.jsx)(Ct.a,{fontSize:"small"})})]})}(null===Xe||void 0===Xe?void 0:Xe.transactionHash)}),Ee&&Object(O.jsx)(ge,{message:"From AddLiquidity.js ".concat((null===Fe||void 0===Fe?void 0:Fe.message)||(null===Fe||void 0===Fe?void 0:Fe.toString())),onConfirm:function(){return He(!1)}}),Object(O.jsxs)("form",{className:"page",onSubmit:at,children:[Object(O.jsxs)("div",{className:"header-bar",children:[Object(O.jsx)("div",{className:"header",children:"Add"}),Object(O.jsx)(Ae,{shrink:!0})]}),Object(O.jsxs)("div",{className:en.a.container,children:[Object(O.jsx)("div",{className:en.a.main,children:Object(O.jsx)(an,{selectedPool:y,selectedCoin:T,selectedCoinAmount:L,selectedCoinAllowance:B,pairedCoin:Z,pairedCoinAmount:ne,pairedCoinAllowance:oe,coinUpdateHandler:et,changeAmountHandler:Qe,approveHandler:ot,selectedCoinIsApprove:M,displayApproveSelectedCoin:Y,pairedCoinIsApprove:ue,displayApprovePairedCoin:he,slippage:c,slippageChangeHander:nt,slippageAutoHander:tt,deadline:g,deadlineChangeHander:function(e){var t=+e.target.value<0?"0":e.target.value;k(t)},details:ye,summary:Te,isLoading:Oe})}),Object(O.jsx)("div",{className:en.a.sub,children:Object(O.jsx)(Ot,{histories:v,isLoading:y&&Oe})})]})]})]})},rn=n(135),on=n.n(rn),sn=n(49),ln=n.n(sn),un=function(e){var t=Z(6);return Object(O.jsxs)("div",{className:"".concat(ln.a.input," ").concat(!1===e.isValid?ln.a.invalid:""," ").concat(e.className?ln.a[e.className]:""),children:[Object(O.jsx)("label",{htmlFor:t,className:ln.a.label,children:e.label}),Object(O.jsxs)("div",{className:ln.a["input-controller"],children:[Object(O.jsx)("input",{id:t,type:"number",value:e.value,onInput:function(t){console.log("onIput",t.target.value);var n=t.target.value;e.onChange(+n)},readOnly:!!e.readOnly,step:"any"}),Object(O.jsx)("div",{className:ln.a["input-hint"]+(""!==e.value&&+e.value===+e.max?" "+ln.a.show:""),children:"MAX"})]}),!e.removeDetail&&Object(O.jsxs)(l.a.Fragment,{children:[Object(O.jsxs)("div",{className:ln.a.detail,children:[Object(O.jsx)("div",{children:"Available:"}),Object(O.jsx)("div",{className:ln.a["input-maximum"],children:X("".concat(e.max),14)}),e.symbol&&Object(O.jsx)("div",{className:ln.a.symbol,children:e.symbol})]}),Object(O.jsx)("div",{className:ln.a.message,children:Object(O.jsx)("div",{children:e.message})})]})]})},dn=n(82),pn=n.n(dn),vn=n(35),hn=n.n(vn),bn=function(e){var t,n,a,c;return Object(O.jsxs)("div",{className:hn.a.tile,onClick:function(){return e.onSelect()},children:[Object(O.jsxs)("div",{className:hn.a.group,children:[Object(O.jsxs)("div",{className:hn.a.icons,children:[Object(O.jsx)("div",{className:hn.a.icon,children:Object(O.jsx)("img",{src:e.pool.token0.iconSrc,alt:e.pool.token0.symbol})}),Object(O.jsx)("div",{className:hn.a.icon,children:Object(O.jsx)("img",{src:e.pool.token1.iconSrc,alt:e.pool.token1.symbol})})]}),Object(O.jsx)("div",{className:hn.a.name,children:"".concat(e.pool.token0.symbol,"/").concat(e.pool.token1.symbol)})]}),Object(O.jsx)("div",{className:hn.a.data,children:"".concat((null===(t=e.pool)||void 0===t?void 0:t.share)?X(U.mult(e.pool.share,100),4):"0"," %")}),Object(O.jsxs)("div",{className:hn.a.data,children:[X(null===(n=e.pool)||void 0===n?void 0:n.yield,4)||"--"," %"]}),Object(O.jsx)("div",{className:hn.a.data,children:"".concat(e.fiat.dollarSign," ").concat(X(null===(a=e.pool)||void 0===a||null===(c=a.volume)||void 0===c?void 0:c.value,6)||"--")})]})},jn=n(107),mn=n.n(jn),xn=function(e){return Object(O.jsxs)("div",{className:mn.a.pair,onClick:e.onSelect,children:[Object(O.jsx)("div",{className:mn.a.icon,children:Object(O.jsx)("img",{src:e.token0.iconSrc,alt:e.token0.symbol})}),Object(O.jsx)("div",{className:mn.a.icon,children:Object(O.jsx)("img",{src:e.token1.iconSrc,alt:e.token1.symbol})}),Object(O.jsx)("div",{className:mn.a.name,children:e.name})]})},fn=function(e){var t,n,a,c,r=Object(i.useContext)(It),o=Object(i.useState)(!1),u=Object(s.a)(o,2),d=u[0],p=u[1];return Object(O.jsxs)(l.a.Fragment,{children:[d&&Object(O.jsx)(S,{title:"Select Pool",onCancel:function(){return p(!1)},children:Object(O.jsx)(Ze,{onSelect:function(t){e.onSelect(t),p(!1)},data:e.pools,filterProperty:"name",children:function(t){return bn({pool:t,fiat:r.fiat,onSelect:function(){return e.onSelect(t)}})}})}),Object(O.jsxs)("div",{className:pn.a.remove,children:[Object(O.jsxs)("main",{className:pn.a.main,children:[Object(O.jsxs)("div",{className:pn.a.header,children:[e.selectedPool&&Object(O.jsx)(xn,{token0:e.selectedPool.token0,token1:e.selectedPool.token1,name:e.selectedPool.name,onSelect:function(){return p(!0)}}),Object(O.jsx)(vt,{slippage:e.slippage,slippageAutoHander:e.slippageAutoHander,slippageChangeHander:e.slippageChangeHander,deadline:e.deadline,deadlineChangeHander:e.deadlineChangeHander})]}),Object(O.jsxs)("div",{className:pn.a.content,children:[Object(O.jsx)(un,{className:"pannel",max:(null===(t=e.selectedPool)||void 0===t?void 0:t.balanceOf)||"0",symbol:"",onChange:e.changeAmountHandler,value:e.shareAmount}),+e.shareAmount>0&&e.coinOptions.map((function(e){return Object(O.jsx)(ct,{label:"Coin",selected:e,value:e.amount,readOnly:!0,removeDetail:!0,onSelect:function(){}},e.contract)}))]}),Object(O.jsxs)("div",{className:pn.a.button,children:[Object(O.jsx)("div",{className:pn.a["approve-button-container"],children:e.displayApprovePoolContract&&!e.poolContractIsApprove&&Object(O.jsxs)(xe,{type:"button",onClick:e.approveHandler,children:["Approve ",e.selectedPool.name]})}),Object(O.jsx)(xe,{type:"submit",disabled:e.isLoading||!(null===(n=e.selectedPool)||void 0===n?void 0:n.balanceOf)||!e.shareAmount||U.gt(e.shareAmount,(null===(a=e.selectedPool)||void 0===a?void 0:a.balanceOf)||"0")||U.gt(e.shareAmount,e.poolAllowance),children:e.isLoading||e.poolContractIsApprove&&!U.gt(e.poolAllowance,"0")?"Loading...":U.gt(e.shareAmount,(null===(c=e.selectedPool)||void 0===c?void 0:c.balanceOf)||"0")?"Insufficient share amount":"Confirm"})]})]}),Object(O.jsx)("div",{className:"sub",children:Object(O.jsx)(st,{title:"Summary",data:e.details})})]})]})},On=function(e,t){var n,a,c,r,o,s;return[{title:null===e||void 0===e||null===(n=e.token0)||void 0===n?void 0:n.symbol,value:null===e||void 0===e?void 0:e.poolBalanceOfToken0},{title:null===e||void 0===e||null===(a=e.token1)||void 0===a?void 0:a.symbol,value:null===e||void 0===e?void 0:e.poolBalanceOfToken1},{title:"Take share",value:"".concat((null===e||void 0===e?void 0:e.balanceOf)?X(U.mult(U.div(t,null===e||void 0===e?void 0:e.balanceOf),100),4):"--"," %")},{title:"Price",value:"1 ".concat((null===e||void 0===e||null===(c=e.token0)||void 0===c?void 0:c.symbol)||"--"," \u2248 ").concat(e?X(U.div(null===e||void 0===e?void 0:e.poolBalanceOfToken1,null===e||void 0===e?void 0:e.poolBalanceOfToken0),4):"--"," ").concat((null===e||void 0===e||null===(r=e.token1)||void 0===r?void 0:r.symbol)||"--")},{title:"Price",value:"1 ".concat((null===e||void 0===e||null===(o=e.token1)||void 0===o?void 0:o.symbol)||"--"," \u2248 ").concat(e?X(U.div(null===e||void 0===e?void 0:e.poolBalanceOfToken0,null===e||void 0===e?void 0:e.poolBalanceOfToken1),4):"--"," ").concat((null===e||void 0===e||null===(s=e.token0)||void 0===s?void 0:s.symbol)||"--")},{title:"Your pool share",value:"".concat((null===e||void 0===e?void 0:e.share)?X(U.mult(null===e||void 0===e?void 0:e.share,100),4):"0"," %"),explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."}]},gn=function(e){var t=Object(i.useContext)(m),n=Object(i.useState)(null),a=Object(s.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)([]),d=Object(s.a)(o,2),v=d[0],j=d[1],x=Object(i.useState)(""),f=Object(s.a)(x,2),g=f[0],k=f[1],_=Object(i.useState)("0"),w=Object(s.a)(_,2),y=w[0],N=w[1],C=Object(u.e)(),S=Object(u.f)(),T=Object(i.useState)(!1),A=Object(s.a)(T,2),P=A[0],I=A[1],L=Object(i.useState)(!1),E=Object(s.a)(L,2),H=E[0],D=E[1],B=Object(i.useState)(null),F=Object(s.a)(B,2),R=F[0],q=F[1],M=Object(i.useState)(!1),V=Object(s.a)(M,2),z=V[0],K=(V[1],Object(i.useState)([])),Y=Object(s.a)(K,2),W=Y[0],G=Y[1],J=Object(i.useState)([]),X=Object(s.a)(J,2),Z=X[0],Q=X[1],ee=Object(i.useState)({value:"5",message:""}),te=Object(s.a)(ee,2),ne=te[0],ae=te[1],ce=Object(i.useState)("30"),re=Object(s.a)(ce,2),oe=re[0],se=re[1],ie=Object(i.useState)(!1),le=Object(s.a)(ie,2),ue=le[0],de=le[1],pe=Object(i.useState)(null),ve=Object(s.a)(pe,2),he=ve[0],be=ve[1],je=Object(i.useState)(!1),me=Object(s.a)(je,2),xe=me[0],fe=me[1],Oe=Object(i.useState)(null),ke=Object(s.a)(Oe,2),_e=ke[0],we=ke[1];Object(i.useEffect)((function(){var e,n=null===(e=t.supportedPools)||void 0===e?void 0:e.filter((function(e){return U.gt(e.share,"0")}));return G(n),function(){}}),[t.supportedPools]),Object(i.useEffect)((function(){return t.isInit&&t.isConnected&&t.connectedAccount&&c&&!(null===c||void 0===c?void 0:c.balanceOf)&&r((function(e){return t.supportedPools.find((function(t){return U.gt(t.balanceOf,"0")&&e.poolContract.toLowerCase()===t.poolContract.toLowerCase()}))||e})),function(){}}),[t.isInit,t.connectedAccount,t.isConnected,t.supportedPools,c]);var ye=function(){var e=Object(b.a)(h.a.mark((function e(n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(n),C.push({pathname:"/redeem-liquidity/".concat(n.poolContract)}),e.next=4,t.getPoolHistory(n.poolContract);case 4:a=e.sent,Q(a),g&&Ne(g);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(e){var t=$(e,(null===c||void 0===c?void 0:c.balanceOf)||"0");k(t);var n=0===+t?null:+t>0;if(n){q(n);var a=[Object(p.a)(Object(p.a)({},c.token0),{},{amount:U.mult(U.div(t,c.totalSupply),c.poolBalanceOfToken0)}),Object(p.a)(Object(p.a)({},c.token1),{},{amount:U.mult(U.div(t,c.totalSupply),c.poolBalanceOfToken1)})];j(a)}},Ce=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=+t.target.value<0?"0":t.target.value,ae({value:n,message:"".concat(U.gt(n,1)?"Your transaction may be frontrun":"")});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(b.a)(h.a.mark((function e(n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log("submitHandler"),!H){e.next=34;break}if(D(!1),e.prev=4,U.gt(c.token0.contract,0)){e.next=11;break}return e.next=8,t.removeLiquidityETH(c,c.token1,g,U.mult(U.div(g,c.totalSupply),c.poolBalanceOfToken1),U.mult(U.div(g,c.totalSupply),c.poolBalanceOfToken0),null===ne||void 0===ne?void 0:ne.value,oe);case 8:e.t0=e.sent,e.next=21;break;case 11:if(U.gt(c.token1.contract,0)){e.next=17;break}return e.next=14,t.removeLiquidityETH(c,c.token0,g,U.mult(U.div(g,c.totalSupply),c.poolBalanceOfToken0),U.mult(U.div(g,c.totalSupply),c.poolBalanceOfToken1),null===ne||void 0===ne?void 0:ne.value,oe);case 14:e.t1=e.sent,e.next=20;break;case 17:return e.next=19,t.takeLiquidity(c,g,U.mult(U.div(g,c.totalSupply),c.poolBalanceOfToken0),U.mult(U.div(g,c.totalSupply),c.poolBalanceOfToken1),null===ne||void 0===ne?void 0:ne.value,oe);case 19:e.t1=e.sent;case 20:e.t0=e.t1;case 21:a=e.t0,console.log("takeLiquidityResult",a),we(a),Ne("0"),fe(!0),r=setTimeout((function(){fe(!1),clearTimeout(r)}),5e3),e.next=33;break;case 29:e.prev=29,e.t2=e.catch(4),be(e.t2),de(!0);case 33:D(!0);case 34:case"end":return e.stop()}}),e,null,[[4,29]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(b.a)(h.a.mark((function e(){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===c||void 0===c?void 0:c.poolContract){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.approve(c.poolContract);case 4:(n=e.sent)&&(D(n),I(!n),a=setInterval(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:e.sent&&clearInterval(a);case 4:case"end":return e.stop()}}),e)}))),2500));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=Object(i.useCallback)(Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isAllowanceEnough(c.poolContract,g,c.decimals);case 2:return n=e.sent,console.log("swap allowance",n),(null===n||void 0===n?void 0:n.isEnough)&&(N(null===n||void 0===n?void 0:n.allowanceAmount),D(!0)),H||I(!(null===n||void 0===n?void 0:n.isEnough)),e.abrupt("return",null===n||void 0===n?void 0:n.isEnough);case 7:case"end":return e.stop()}}),e)}))),[t,H,null===c||void 0===c?void 0:c.decimals,null===c||void 0===c?void 0:c.poolContract,g]);Object(i.useEffect)((function(){return t.isInit&&t.isConnected&&t.connectedAccount&&c&&!(null===c||void 0===c?void 0:c.balanceOf)&&r((function(e){return t.supportedPools.find((function(t){return U.gt(t.balanceOf,"0")&&e.poolContract.toLowerCase()===t.poolContract.toLowerCase()}))||e})),function(){}}),[t.isInit,t.connectedAccount,t.isConnected,t.supportedPools,c]),Object(i.useEffect)((function(){return R&&U.gt(g,y)&&!P&&Pe(),function(){}}),[P,Pe,R,y,g]);var Ie=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.supportedPools.find((function(e){return n.toLowerCase()===e.poolContract.toLowerCase()})),r(a),!a){e.next=7;break}return e.next=5,t.getPoolHistory(a.poolContract);case 5:c=e.sent,Q(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(i.useEffect)((function(){if(t.isInit&&S.pathname.includes("/redeem-liquidity/")&&(null===c||void 0===c?void 0:c.poolContract.toLowerCase())!==S.pathname.replace("/redeem-liquidity/","").toLowerCase()){var e=S.pathname.replace("/redeem-liquidity/","");return console.log("getPoolInfo poolContract",e),/^0x[a-fA-F0-9]{40}$/.test(e)?Ie(e):C.push({pathname:"/"}),function(){}}}),[t.isInit,t.supportedPools,Ie,C,S.pathname,null===c||void 0===c?void 0:c.poolContract]),Object(O.jsxs)(l.a.Fragment,{children:[xe&&Object(O.jsx)(wt.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:xe,autoHideDuration:6e3,onClose:function(){return fe(!1)},message:"Take ".concat(null===_e||void 0===_e?void 0:_e.token0AmountChange," ").concat(null===_e||void 0===_e?void 0:_e.token0.symbol," &  ").concat(null===_e||void 0===_e?void 0:_e.token1AmountChange," ").concat(null===_e||void 0===_e?void 0:_e.token1.symbol," from pool."),action:function(e){var n,a;return Object(O.jsxs)(l.a.Fragment,{children:[("0x1"===(null===(n=t.currentNetwork)||void 0===n?void 0:n.chainId)||"0x3"===(null===(a=t.currentNetwork)||void 0===a?void 0:a.chainId))&&Object(O.jsx)(St.a,{color:"secondary",size:"small",onClick:function(){var n,a;return window.open("0x3"===(null===(n=t.currentNetwork)||void 0===n?void 0:n.chainId)?"https://ropsten.etherscan.io/tx/".concat(e):"0x1"===(null===(a=t.currentNetwork)||void 0===a?void 0:a.chainId)?"https://etherscan.io/tx/".concat(e):"","_blank")},children:"View on Explorer"}),Object(O.jsx)(yt.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return fe(!1)},children:Object(O.jsx)(Ct.a,{fontSize:"small"})})]})}(null===_e||void 0===_e?void 0:_e.transactionHash)}),ue&&Object(O.jsx)(ge,{message:"From Remove.js ".concat((null===he||void 0===he?void 0:he.message)||(null===he||void 0===he?void 0:he.toString())),onConfirm:function(){return de(!1)}}),Object(O.jsxs)("form",{className:"page",onSubmit:Se,children:[Object(O.jsxs)("div",{className:"header-bar",children:[Object(O.jsx)("div",{className:"header",children:"Remove"}),Object(O.jsx)(Ae,{shrink:!0})]}),Object(O.jsxs)("div",{className:on.a.container,children:[Object(O.jsx)("div",{className:on.a.main,children:Object(O.jsx)(fn,{selectedPool:c,coinOptions:v,pools:W,onSelect:ye,isLoading:z,approveHandler:Te,shareAmount:g,changeAmountHandler:Ne,displayApprovePoolContract:P,poolContractIsApprove:H,details:On(c,g),slippage:ne,slippageChangeHander:Ce,slippageAutoHander:function(){ae({value:"5",message:""})},deadline:oe,deadlineChangeHander:function(e){var t=+e.target.value<0?"0":e.target.value;se(t)},poolAllowance:y})}),Object(O.jsx)("div",{className:on.a.sub,children:Object(O.jsx)(Ot,{histories:Z,isLoading:c&&z})})]})]})]})},kn=function(e){return Object(O.jsxs)("div",{className:"".concat(Pt.a["title-bar"]," ").concat(Pt.a.invest),children:[Object(O.jsx)("div",{className:Pt.a.leading,children:"#"}),Object(O.jsxs)("div",{className:Pt.a["title-box"],children:[Object(O.jsx)("div",{className:Pt.a.title,children:"Pool"}),Object(O.jsx)("div",{className:Pt.a.icon})]}),Object(O.jsxs)("div",{className:Pt.a["title-box"],children:[Object(O.jsx)("div",{className:Pt.a.title,children:"TVL"}),Object(O.jsx)("div",{className:Pt.a.icon})]}),Object(O.jsxs)("div",{className:Pt.a["title-box"],children:[Object(O.jsx)("div",{className:Pt.a.title,children:"IRR"}),Object(O.jsx)("div",{className:Pt.a.icon})]})]})},_n=function(e){var t,n,a,c,r,o=Object(u.e)();return Object(O.jsxs)("div",{className:"".concat(Pt.a.tile," ").concat((null===(t=e.pool)||void 0===t?void 0:t.pending)?Pt.a.pending:""," ").concat(Pt.a.invest),onClick:function(){var t;(t=e.pool).poolContract&&o.push({pathname:"/pool/".concat(t.poolContract)})},children:[Object(O.jsx)("div",{className:Pt.a.index,children:"".concat(e.index+1)}),Object(O.jsxs)("div",{className:Pt.a.group,children:[Object(O.jsxs)("div",{className:Pt.a.icons,children:[Object(O.jsx)("div",{className:Pt.a.icon,children:Object(O.jsx)("img",{src:null===(n=e.pool.token0)||void 0===n?void 0:n.iconSrc,alt:"".concat(e.pool.token0.symbol)})}),Object(O.jsx)("div",{className:Pt.a.icon,children:Object(O.jsx)("img",{src:null===(a=e.pool.token1)||void 0===a?void 0:a.iconSrc,alt:"".concat(e.pool.token1.symbol)})})]}),Object(O.jsxs)("div",{className:Pt.a.title,children:[(null===(c=e.pool)||void 0===c?void 0:c.pending)&&Object(O.jsx)(le,{className:"small"}),e.pool.name]})]}),Object(O.jsx)("div",{className:Pt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(X(e.pool.tvl.value,6)||"--")}),Object(O.jsxs)("div",{className:Pt.a.data,children:["".concat((null===(r=e.pool)||void 0===r?void 0:r.irr)?X(U.mult(e.pool.irr,"100"),2):"--")," ","%"]}),Object(O.jsx)("div",{className:Pt.a.action,children:Object(O.jsx)("a",{className:Pt.a.button,href:"#/add-liquidity/".concat(e.pool.token0.contract,"/").concat(e.pool.token1.contract),children:"Invest"})})]})},wn=function(e){var t=Object(i.useContext)(It);return Object(O.jsxs)("div",{className:"".concat(Pt.a.table," ").concat(Pt.a.invest),children:[Object(O.jsx)("div",{className:Pt.a.header,children:"Pools"}),Object(O.jsxs)("div",{className:Pt.a.container,children:[Object(O.jsx)(kn,{}),Object(O.jsxs)("div",{className:Pt.a.content,children:[!e.pools.length&&!e.isLoading&&Object(O.jsx)("div",{className:Pt.a.hint,children:"No pool found."}),!!e.pools.length&&e.pools.map((function(e,n){return Object(O.jsx)(_n,{index:n,pool:e,fiat:t.fiat,onClick:function(){}},"".concat(n,"-").concat(e.poolContract))})),e.isLoading&&Object(O.jsx)(le,{})]})]})]})},yn=function(e){var t=Object(i.useContext)(m),n=Object(i.useContext)(It),a=function(){var n=Object(b.a)(h.a.mark((function n(a){var c,r,o;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=e.pools.findIndex((function(e){return e.token0.contract.toLowerCase()===a.toLowerCase()||e.token1.contract.toLowerCase()===a.toLowerCase()})),-1!==c){n.next=9;break}return n.next=4,t.searchToken(a);case 4:o=n.sent,console.log(o),r={token0:o},n.next=10;break;case 9:r=e.options[c];case 10:return n.abrupt("return",r);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"page",children:[Object(O.jsxs)("div",{className:"header-bar",children:[Object(O.jsx)("div",{className:"header",children:"Pools"}),Object(O.jsx)(Ae,{shrink:!0})]}),Object(O.jsx)(Ze,{className:"page",header:"All Pools",filterProperty:"name",data:t.supportedPools,onSelect:function(){},onImport:a,titleBar:kn,isLoading:t.isLoading||n.isLoading,hint:"No pool found.",children:function(e){return _n({pool:e,index:e.index,fiat:n.fiat,id:e.contract})}})]})},Nn=n(125),Cn=n.n(Nn),Sn=function(e){return{options:{chart:{type:"area",toolbar:{show:!1}},title:{text:"TVL",align:"left",style:{color:"#c3c5cb"}},noData:{text:"Loading..."},grid:{show:!1,xaxis:{lines:{show:!1}}},yaxis:{show:!1,labels:{formatter:function(e){return"$".concat(X(function(e){var t;return Math.abs(e)<1?(t=parseInt(e.toString().split("e-")[1]))&&(e*=Math.pow(10,t-1),e="0."+new Array(t).join("0")+e.toString().substring(2)):(t=parseInt(e.toString().split("+")[1]))>20&&(t-=20,e/=Math.pow(10,t),e+=new Array(t+1).join("0")),e}(e),4))}}},xaxis:{categories:e?e.map((function(e){return e.date})):[],tickAmount:12,labels:{rotate:0,axisTicks:{show:!1},style:{color:"#c3c5cb"}},axisBorder:{show:!1}},stroke:{curve:"straight",width:1},dataLabels:{enabled:!1}},series:[{name:"TVL",data:(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return e.value})):[]}]}},Tn=function(e){var t=Object(i.useState)(Sn([])),n=Object(s.a)(t,2),a=n[0],c=n[1],r=Object(i.useContext)(m);return Object(i.useEffect)((function(){return c(Sn(r.tvlChartData)),function(){}}),[r.tvlChartData]),Object(O.jsx)("div",{className:Cn.a.chart,children:Object(O.jsx)(kt.a,{options:a.options,series:a.series,type:"area"})})},An=function(e){return{options:{chart:{id:"basic-bar",toolbar:{show:!1}},title:{text:"Volume 24H",align:"left",style:{color:"#c3c5cb"}},noData:{text:"Loading..."},grid:{show:!1,xaxis:{lines:{show:!1}}},yaxis:{show:!1,labels:{formatter:function(e){return"$".concat(X(e,4))}}},xaxis:{categories:e?e.map((function(e){return e.date})):[],tickAmount:12,labels:{rotate:0,axisTicks:{show:!1},style:{color:"#c3c5cb"}},axisBorder:{show:!1}},dataLabels:{enabled:!1}},series:[{name:"Volume",data:e?e.map((function(e){return e.value})):[]}]}},Pn=function(e){var t=Object(i.useState)(An([])),n=Object(s.a)(t,2),a=n[0],c=n[1],r=Object(i.useContext)(m);return Object(i.useEffect)((function(){return c(An(r.volumeChartData)),function(){}}),[r.volumeChartData]),Object(O.jsx)("div",{className:Cn.a.chart,children:Object(O.jsx)(kt.a,{options:a.options,series:a.series,type:"bar"})})},In=n(62),Ln=n.n(In),En=function(e){var t=Object(i.useContext)(m);return Object(O.jsxs)("div",{className:"page",children:[Object(O.jsxs)("div",{className:"header-bar",children:[Object(O.jsx)("div",{className:"header",children:"Overview"}),Object(O.jsx)(Ae,{shrink:!0})]}),Object(O.jsxs)("div",{className:Ln.a.chart,children:[Object(O.jsx)(Tn,{}),Object(O.jsx)(Pn,{})]}),Object(O.jsx)("div",{className:Ln.a.summary,children:t.overview.map((function(e){return Object(O.jsxs)("div",{className:Ln.a.group,children:[Object(O.jsxs)("div",{className:Ln.a.title,children:[e.title," :"]}),Object(O.jsxs)("div",{className:Ln.a.data,children:[Object(O.jsx)("div",{className:Ln.a.value,children:X(e.data.value,3)}),Object(O.jsxs)("div",{className:"".concat(Ln.a.change," ").concat(e.data.change.includes("-")?Ln.a.decrease:Ln.a.increase),children:["(",X(e.data.change.includes("+")||e.data.change.includes("-")?e.data.change.slice(1):e.data.change,3),"%)"]})]})]},Z(6))}))}),Object(O.jsx)(Ht,{tokens:t.supportedTokens,isLoading:t.isLoading}),Object(O.jsx)(wn,{pools:t.supportedPools,isLoading:t.isLoading})]})},Hn=n(171),Dn=n(255),Bn=n(172),Fn=n(173),Rn=n.p+"static/media/logo512.68bf591d.png",qn=n(254),Un=n(25),Mn=n.n(Un),Vn=function(e){var t=Object(i.useContext)(m),n=Object(u.f)();return Object(O.jsxs)(l.a.Fragment,{children:[Object(O.jsxs)("div",{className:Mn.a.brand,children:[Object(O.jsx)("div",{className:Mn.a.logo,children:Object(O.jsx)("img",{src:Rn,alt:"LOGO"})})," ","TideBit Swap"]}),t.isConnected&&Object(O.jsx)(Rt,{}),Object(O.jsxs)("div",{className:"".concat(Mn.a.menuOption," ").concat("#/charts"===n.hash?Mn.a.active:""),children:[Object(O.jsx)("div",{className:Mn.a.menuOptionIcon,children:Object(O.jsx)(Hn.a,{size:"1.5em"})}),Object(O.jsx)("a",{className:Mn.a.menuOptionText,href:"/#/charts",children:"overview"})]}),Object(O.jsxs)("div",{className:"".concat(Mn.a.menuOption," ").concat(n.hash.includes("tokens")?Mn.a.active:""),children:[Object(O.jsx)("div",{className:Mn.a.menuOptionIcon,children:Object(O.jsx)(Dn.a,{size:"1.5em"})}),Object(O.jsx)("a",{className:Mn.a.menuOptionText,href:"#/tokens",children:"tokens"})]}),Object(O.jsxs)("div",{className:"".concat(Mn.a.menuOption," ").concat(n.hash.includes("pools")?Mn.a.active:""),children:[Object(O.jsx)("div",{className:Mn.a.menuOptionIcon,children:Object(O.jsx)(Bn.a,{size:"1.5em"})}),Object(O.jsx)("a",{className:Mn.a.menuOptionText,href:"#/pools",children:"pools"})]}),Object(O.jsxs)("div",{className:"".concat(Mn.a.menuOption," ").concat(n.hash.includes("stakes")?Mn.a.active:""),children:[Object(O.jsx)("div",{className:Mn.a.menuOptionIcon,children:Object(O.jsx)(Bn.a,{size:"1.5em"})}),Object(O.jsx)("a",{className:Mn.a.menuOptionText,href:"#/stakes",children:"stakes"})]}),Object(O.jsxs)("div",{className:"".concat(Mn.a.menuOption," ").concat(n.hash.includes("assets")?Mn.a.active:""),children:[Object(O.jsx)("div",{className:Mn.a.menuOptionIcon,children:Object(O.jsx)(Fn.a,{size:"1.5em"})}),Object(O.jsx)("a",{className:Mn.a.menuOptionText,href:"#/assets",children:"my assets"})]}),Object(O.jsxs)("div",{className:"".concat(Mn.a.menuOption," ").concat("#/"===n.hash||n.hash.includes("swap")?Mn.a.active:""),children:[Object(O.jsx)("div",{className:Mn.a.menuOptionIcon,children:Object(O.jsx)(Hn.b,{size:"1.5em"})}),Object(O.jsx)("a",{className:Mn.a.menuOptionText,href:"#/swap",children:"swap"})]}),Object(O.jsxs)("div",{className:"".concat(Mn.a.menuOption," ").concat(n.hash.includes("add-liquidity")?Mn.a.active:""),children:[Object(O.jsx)("div",{className:Mn.a.menuOptionIcon,children:Object(O.jsx)(Fn.b,{size:"1.5em"})}),Object(O.jsx)("a",{className:Mn.a.menuOptionText,href:"#/add-liquidity",children:"liquidity"})]})]})},zn=function(e){return Object(O.jsxs)("div",{className:Mn.a.footer,children:[Object(O.jsxs)("div",{children:["v",qn.version," BETA"]}),Object(O.jsx)("div",{children:"\xa92021 TideBit. All rights reserved."}),Object(O.jsx)("div",{children:"Power By CAFECA"})]})},Kn=function(e){return Object(O.jsx)(l.a.Fragment,{children:c.a.createPortal(Object(O.jsxs)("div",{className:"menu",children:[Object(O.jsx)(Vn,{}),Object(O.jsx)(zn,{})]}),document.getElementById("side-menu"))})},Yn=n(11),Wn=n.n(Yn),Gn=function(e){return Object(O.jsxs)(l.a.Fragment,{children:[Object(O.jsx)("div",{className:"".concat(Pt.a.button," ").concat(e.filterType===P?Pt.a.active:""),onClick:function(){return e.onFilter(P)},children:"All"}),Object(O.jsx)("div",{className:"".concat(Pt.a.button," ").concat(e.filterType===I?Pt.a.active:""),onClick:function(){return e.onFilter(I)},children:"Swaps"}),Object(O.jsx)("div",{className:"".concat(Pt.a.button," ").concat(e.filterType===L?Pt.a.active:""),onClick:function(){return e.onFilter(L)},children:"Adds"}),Object(O.jsx)("div",{className:"".concat(Pt.a.button," ").concat(e.filterType===E?Pt.a.active:""),onClick:function(){return e.onFilter(E)},children:"Removes"})]})},Jn=function(e){return Object(O.jsxs)("div",{className:Pt.a["title-bar"],children:[Object(O.jsxs)("div",{className:Pt.a["header-bar"],children:[Object(O.jsx)("div",{className:Pt.a.title,children:"Type"}),Object(O.jsx)(Gn,{onFilter:e.onFilter,filterType:e.filterType})]}),Object(O.jsxs)("div",{className:Pt.a["title-box"],children:[Object(O.jsx)("div",{className:Pt.a["title-box"],children:"Token Amount"}),Object(O.jsx)("div",{className:Pt.a.icon})]}),Object(O.jsxs)("div",{className:Pt.a["title-box"],children:[Object(O.jsx)("div",{className:Pt.a["title-box"],children:"Token Amount"}),Object(O.jsx)("div",{className:Pt.a.icon})]}),Object(O.jsxs)("div",{className:Pt.a["title-box"],children:[Object(O.jsx)("div",{className:Pt.a["title-box"],children:"Time"}),Object(O.jsx)("div",{className:Pt.a.icon})]})]})},Xn=function(e){var t=Object(i.useState)(P),n=Object(s.a)(t,2),a=n[0],c=n[1],r=Object(i.useState)(e.histories),o=Object(s.a)(r,2),l=o[0],u=o[1];return Object(i.useEffect)((function(){return console.log("filterType",a),console.log("Histories",e.histories),function(e,t){var n=e===P?t:t.filter((function(t){return t.type===e}));u(n),c(e)}(a,e.histories),function(){}}),[a,e.histories]),Object(O.jsxs)("div",{className:"".concat(Pt.a.table," ").concat(Pt.a.history),children:[Object(O.jsx)("div",{className:Pt.a.header,children:"Transactions"}),Object(O.jsxs)("div",{className:Pt.a["header-bar"],children:[Object(O.jsx)("div",{className:Pt.a.header,children:"Transactions"}),Object(O.jsx)(ft,{onFilter:c,filterType:a})]}),Object(O.jsxs)("div",{className:Pt.a.container,children:[Object(O.jsx)(Jn,{onFilter:c,filterType:a}),Object(O.jsxs)("div",{className:Pt.a.content,children:[!l.length&&!e.isLoading&&Object(O.jsx)("div",{className:Pt.a.hint,children:"No record found."}),!!l.length&&l.map((function(e,t){return Object(O.jsx)(xt,{history:e,index:t+1},e.id)})),e.isLoading&&Object(O.jsx)(le,{})]})]})]})},Zn=function(e){var t,n,a,c,r,o,d,p,v,j,x,f,g,k,_,w,y,N,C,S,T,A,P=Object(i.useContext)(m),I=Object(i.useContext)(It),L=Object(u.f)(),E=Object(u.e)(),H=Object(i.useState)(!0),D=Object(s.a)(H,2),B=D[0],F=D[1],R=Object(i.useState)(null),q=Object(s.a)(R,2),M=q[0],V=q[1],z=Object(i.useState)([]),K=Object(s.a)(z,2),Y=K[0],W=K[1],G=Object(i.useState)([]),J=Object(s.a)(G,2),Z=J[0],$=J[1],Q=Object(i.useState)([]),ee=Object(s.a)(Q,2),te=ee[0],ne=ee[1];Object(i.useEffect)((function(){if(M){var e=P.supportedPools.filter((function(e){return e.token0.id===M.id||e.token1.id===M.id||e.token0Contract===M.contract||e.token1Contract===M.contract}));ne(e)}return function(){}}),[P.supportedPools,M]);var ae=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return/^0x[a-fA-F0-9]{40}$/.test(t)||E.push({pathname:"/"}),e.next=3,P.searchToken(t);case 3:if(n=e.sent,console.log("token:",n),console.log("token?.contract:",null===n||void 0===n?void 0:n.contract),!n){e.next=17;break}return V(n),e.next=10,P.getTokenPriceData(t);case 10:return a=e.sent,W(a),e.next=14,P.getTokenHistory(t);case 14:c=e.sent,console.log("getTokenHistory histories",c),$(c);case 17:F(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P,E]);return Object(i.useEffect)((function(){return P.isInit&&L.pathname.includes("/asset/")&&(null===M||void 0===M?void 0:M.contract)!==L.pathname.replace("/asset/","")&&ae(L.pathname.replace("/asset/","")),function(){}}),[P.isInit,ae,L.pathname,null===M||void 0===M?void 0:M.contract]),Object(O.jsxs)(l.a.Fragment,{children:[B&&Object(O.jsx)(Ne,{}),Object(O.jsxs)("div",{className:"page",children:[Object(O.jsxs)("div",{className:"header-bar",children:[Object(O.jsx)("div",{className:"header",children:"Token"}),Object(O.jsx)(Ae,{shrink:!0})]}),Object(O.jsx)("div",{className:Wn.a.leading,children:Object(O.jsxs)("div",{className:Wn.a.group,children:[Object(O.jsx)("div",{className:Wn.a.icon,children:Object(O.jsx)("img",{src:null===M||void 0===M?void 0:M.iconSrc,alt:null===M||void 0===M?void 0:M.symbol})}),Object(O.jsx)("div",{className:Wn.a.title,children:"".concat((null===M||void 0===M?void 0:M.name)?null===M||void 0===M?void 0:M.name:"--"," (").concat((null===M||void 0===M?void 0:M.symbol)?null===M||void 0===M?void 0:M.symbol:"--",")")})]})}),Object(O.jsxs)("div",{className:Wn.a.leading,children:[Object(O.jsxs)("div",{className:Wn.a.group,children:[Object(O.jsx)("div",{className:"".concat(Wn.a.data," ").concat(Wn.a.bold),children:"".concat(I.fiat.dollarSign," ").concat((null===M||void 0===M||null===(t=M.price)||void 0===t?void 0:t.value)?X(null===M||void 0===M?void 0:M.price.value,12):"--")}),Object(O.jsxs)("div",{className:"".concat(Wn.a.data," ").concat((null===M||void 0===M?void 0:M.price.change.includes("-"))?Wn.a.decrease:Wn.a.increase),children:[(null===M||void 0===M||null===(n=M.price)||void 0===n?void 0:n.change)?X(U.mult((null===M||void 0===M||null===(a=M.price)||void 0===a?void 0:a.change.includes("+"))||(null===M||void 0===M||null===(c=M.price)||void 0===c?void 0:c.change.includes("-"))?null===M||void 0===M||null===(r=M.price)||void 0===r?void 0:r.change.slice(1):null===M||void 0===M||null===(o=M.price)||void 0===o?void 0:o.change,"100"),3):"--","%"]})]}),Object(O.jsxs)("div",{className:Wn.a.action,children:[Object(O.jsx)("a",{className:Wn.a.tag,href:"#/add-liquidity/".concat(null===M||void 0===M?void 0:M.contract),children:"Add Liquidity"}),Object(O.jsx)("a",{className:Wn.a.tag,href:"#/swap/".concat(null===M||void 0===M?void 0:M.contract),children:"Swap"})]})]}),Object(O.jsxs)("div",{className:Wn.a.main,children:[Object(O.jsxs)("div",{className:Wn.a.container,children:[Object(O.jsxs)("div",{className:Wn.a["data-detail"],children:[Object(O.jsx)("div",{className:Wn.a["data-title"],children:"TVL"}),Object(O.jsx)("div",{className:Wn.a["data-value"],children:"".concat(I.fiat.dollarSign," ").concat((null===M||void 0===M||null===(d=M.tvl)||void 0===d?void 0:d.value)?X(null===M||void 0===M?void 0:M.tvl.value,8):"--")}),Object(O.jsxs)("div",{className:"".concat(Wn.a["data-change"]," ").concat((null===M||void 0===M||null===(p=M.tvl)||void 0===p?void 0:p.change.includes("-"))?Wn.a.decrease:Wn.a.increase),children:[(null===M||void 0===M||null===(v=M.tvl)||void 0===v?void 0:v.change)?X(U.mult((null===M||void 0===M||null===(j=M.tvl)||void 0===j?void 0:j.change.includes("+"))||(null===M||void 0===M||null===(x=M.tvl)||void 0===x?void 0:x.change.includes("-"))?null===M||void 0===M||null===(f=M.tvl)||void 0===f?void 0:f.change.slice(1):null===M||void 0===M||null===(g=M.tvl)||void 0===g?void 0:g.change,"100"),3):"--","%"]})]}),Object(O.jsxs)("div",{className:Wn.a["data-detail"],children:[Object(O.jsx)("div",{className:Wn.a["data-title"],children:"24h Trading Vol"}),Object(O.jsx)("div",{className:Wn.a["data-value"],children:"".concat(I.fiat.dollarSign," ").concat((null===M||void 0===M||null===(k=M.volume)||void 0===k?void 0:k.value)?X(null===M||void 0===M?void 0:M.volume.value,8):"--")}),Object(O.jsxs)("div",{className:"".concat(Wn.a["data-change"]," ").concat((null===M||void 0===M||null===(_=M.volume)||void 0===_?void 0:_.change.includes("-"))?Wn.a.decrease:Wn.a.increase),children:[(null===M||void 0===M||null===(w=M.volume)||void 0===w?void 0:w.change)?X(U.mult((null===M||void 0===M||null===(y=M.volume)||void 0===y?void 0:y.change.includes("+"))||(null===M||void 0===M||null===(N=M.volume)||void 0===N?void 0:N.change.includes("-"))?null===M||void 0===M||null===(C=M.volume)||void 0===C?void 0:C.change.slice(1):null===M||void 0===M||null===(S=M.volume)||void 0===S?void 0:S.change,"100"),3):"--","%"]})]}),Object(O.jsxs)("div",{className:Wn.a["data-detail"],children:[Object(O.jsx)("div",{className:Wn.a["data-title"],children:"7d Trading Vol"}),Object(O.jsx)("div",{className:Wn.a["data-value"],children:"".concat(I.fiat.dollarSign," ").concat((null===M||void 0===M?void 0:M.swap7Day)?X(null===M||void 0===M?void 0:M.swap7Day,8):"--")}),Object(O.jsx)("div",{className:"".concat(Wn.a["data-change"])})]}),Object(O.jsxs)("div",{className:Wn.a["data-detail"],children:[Object(O.jsx)("div",{className:Wn.a["data-title"],children:"24h Fees"}),Object(O.jsxs)("div",{className:Wn.a["data-value"],children:["$",(null===M||void 0===M||null===(T=M.fee24)||void 0===T?void 0:T.value)?X(null===M||void 0===M||null===(A=M.fee24)||void 0===A?void 0:A.value,4):"--"]}),Object(O.jsx)("div",{className:Wn.a["data-change"]})]})]}),Object(O.jsx)("div",{className:Wn.a.container,children:Object(O.jsx)("div",{className:Wn.a.chart,children:Object(O.jsx)(_t,{data:Y})})})]}),Object(O.jsx)(wn,{pools:te,isLoading:M&&B||P.isLoading}),Object(O.jsx)(Xn,{histories:Z,isLoading:M&&B||P.isLoading})]})]})},$n=function(e){var t,n,a,c,r,o,d,p,v,j,x,f,g,k,_,w,y,N,C,S,T,A,P,I,L,E,H,D,B,F,R,q,M,V,z,K,Y,W,G,J=Object(i.useContext)(m),Z=Object(i.useContext)(It),$=Object(u.f)(),Q=Object(u.e)(),ee=Object(i.useState)(!0),te=Object(s.a)(ee,2),ne=te[0],ae=te[1],ce=Object(i.useState)(null),re=Object(s.a)(ce,2),oe=re[0],se=re[1],ie=Object(i.useState)("--"),le=Object(s.a)(ie,2),ue=le[0],de=le[1],pe=Object(i.useState)("--"),ve=Object(s.a)(pe,2),he=ve[0],be=ve[1],je=Object(i.useState)([]),me=Object(s.a)(je,2),xe=me[0],fe=me[1],Oe=Object(i.useState)([]),ge=Object(s.a)(Oe,2),ke=ge[0],_e=ge[1],we=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,c,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return/^0x[a-fA-F0-9]{40}$/.test(t)||Q.push({pathname:"/"}),e.next=3,J.searchPoolByPoolContract(t);case 3:if(!(n=e.sent)){e.next=37;break}return se(n),e.prev=6,e.next=9,J.getAmountsOut("1",[n.token0,n.token1]);case 9:a=e.sent,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),console.log("getPoolInfo error",e.t0),a="--";case 16:return de(a),e.prev=17,e.next=20,J.getAmountsOut("1",[n.token1,n.token0]);case 20:c=e.sent,e.next=27;break;case 23:e.prev=23,e.t1=e.catch(17),console.log("getPoolInfo error",e.t1),c="--";case 27:return be(c),e.next=30,J.getPoolPriceData(t);case 30:return r=e.sent,fe(r),e.next=34,J.getPoolHistory(t);case 34:o=e.sent,console.log("getPoolHistory histories",o),_e(o);case 37:ae(!1);case 38:case"end":return e.stop()}}),e,null,[[6,12],[17,23]])})));return function(t){return e.apply(this,arguments)}}(),[J,Q]);return Object(i.useEffect)((function(){return console.log('location.pathname.includes("/pool/")',$.pathname.includes("/pool/")),console.log('location.pathname.replace("/pool/", "")',$.pathname.replace("/pool/","")),console.log('pool?.poolContract !== location.pathname.replace("/pool/", "")',(null===oe||void 0===oe?void 0:oe.poolContract)!==$.pathname.replace("/pool/","")),J.isInit&&$.pathname.includes("/pool/")&&(null===oe||void 0===oe?void 0:oe.poolContract)!==$.pathname.replace("/pool/","")&&J.supportedPools.length>0&&we($.pathname.replace("/pool/","")).then((function(e){})),function(){}}),[J.supportedPools.length,we,$.pathname,null===oe||void 0===oe?void 0:oe.poolContract,J.isInit]),Object(O.jsxs)(l.a.Fragment,{children:[ne&&Object(O.jsx)(Ne,{}),Object(O.jsxs)("div",{className:"page ".concat(Wn.a.pool),children:[Object(O.jsxs)("div",{className:"header-bar",children:[Object(O.jsx)("div",{className:"header",children:"Pool"}),Object(O.jsx)(Ae,{shrink:!0})]}),Object(O.jsx)("div",{className:Wn.a.leading,children:Object(O.jsxs)("div",{className:Wn.a.group,children:[Object(O.jsxs)("div",{className:Wn.a.icons,children:[Object(O.jsx)("div",{className:Wn.a.icon,children:Object(O.jsx)("img",{src:null===oe||void 0===oe||null===(t=oe.token0)||void 0===t?void 0:t.iconSrc,alt:null===oe||void 0===oe||null===(n=oe.token0)||void 0===n?void 0:n.symbol})}),Object(O.jsx)("div",{className:Wn.a.icon,children:Object(O.jsx)("img",{src:null===oe||void 0===oe||null===(a=oe.token1)||void 0===a?void 0:a.iconSrc,alt:null===oe||void 0===oe||null===(c=oe.token1)||void 0===c?void 0:c.symbol})})]}),Object(O.jsx)("div",{className:Wn.a.title,children:(null===oe||void 0===oe?void 0:oe.name)||"--"}),Object(O.jsxs)("div",{className:"".concat(Wn.a.tag," ").concat((null===oe||void 0===oe||null===(r=oe.irr)||void 0===r?void 0:r.includes("-"))?Wn.a.decrease:Wn.a.increase),children:[(null===oe||void 0===oe?void 0:oe.irr)?X(U.mult(null===oe||void 0===oe?void 0:oe.irr,"100"),2):"--","%"]})]})}),Object(O.jsxs)("div",{className:Wn.a["sub-leading"],children:[Object(O.jsxs)("div",{className:Wn.a.group,children:[Object(O.jsxs)("div",{className:"".concat(Wn.a.tag),children:[Object(O.jsx)("div",{className:Wn.a.icon,children:Object(O.jsx)("img",{src:null===oe||void 0===oe||null===(o=oe.token0)||void 0===o?void 0:o.iconSrc,alt:null===oe||void 0===oe||null===(d=oe.token0)||void 0===d?void 0:d.symbol})}),Object(O.jsx)("div",{children:"1 ".concat((null===oe||void 0===oe||null===(p=oe.token0)||void 0===p?void 0:p.symbol)||""," = ").concat(X(ue,8)," ").concat((null===oe||void 0===oe||null===(v=oe.token1)||void 0===v?void 0:v.symbol)||"")})]}),Object(O.jsxs)("div",{className:"".concat(Wn.a.tag),children:[Object(O.jsx)("div",{className:Wn.a.icon,children:Object(O.jsx)("img",{src:null===oe||void 0===oe||null===(j=oe.token1)||void 0===j?void 0:j.iconSrc,alt:null===oe||void 0===oe||null===(x=oe.token1)||void 0===x?void 0:x.symbol})}),Object(O.jsx)("div",{children:"1 ".concat((null===oe||void 0===oe||null===(f=oe.token1)||void 0===f?void 0:f.symbol)||""," = ").concat(X(he,8)," ").concat((null===oe||void 0===oe||null===(g=oe.token0)||void 0===g?void 0:g.symbol)||"")})]})]}),Object(O.jsxs)("div",{className:Wn.a.action,children:[Object(O.jsx)("a",{className:Wn.a.tag,href:"#/add-liquidity/".concat(null===oe||void 0===oe||null===(k=oe.token0)||void 0===k?void 0:k.contract,"/").concat(null===oe||void 0===oe||null===(_=oe.token1)||void 0===_?void 0:_.contract),children:"Add Liquidity"}),Object(O.jsx)("a",{className:Wn.a.tag,href:"#/swap/".concat(null===oe||void 0===oe||null===(w=oe.token0)||void 0===w?void 0:w.contract,"/").concat(null===oe||void 0===oe||null===(y=oe.token1)||void 0===y?void 0:y.contract),children:"Swap"})]})]}),Object(O.jsxs)("div",{className:Wn.a.main,children:[Object(O.jsxs)("div",{className:Wn.a.container,children:[Object(O.jsxs)("div",{className:Wn.a.info,children:[Object(O.jsx)("div",{className:Wn.a["info-title"],children:"Total Tokens Locked"}),Object(O.jsxs)("div",{className:Wn.a["info-tile"],children:[Object(O.jsxs)("div",{className:Wn.a.group,children:[Object(O.jsx)("div",{className:Wn.a.icon,children:Object(O.jsx)("img",{src:null===oe||void 0===oe||null===(N=oe.token0)||void 0===N?void 0:N.iconSrc,alt:null===oe||void 0===oe||null===(C=oe.token0)||void 0===C?void 0:C.symbol})}),Object(O.jsx)("div",{className:Wn.a.title,children:null===oe||void 0===oe||null===(S=oe.token0)||void 0===S?void 0:S.symbol})]}),Object(O.jsx)("div",{className:Wn.a["info-value"],children:(null===oe||void 0===oe?void 0:oe.poolBalanceOfToken0)?X(null===oe||void 0===oe?void 0:oe.poolBalanceOfToken0,6):"--"})]}),Object(O.jsxs)("div",{className:Wn.a["info-tile"],children:[Object(O.jsxs)("div",{className:Wn.a.group,children:[Object(O.jsx)("div",{className:Wn.a.icon,children:Object(O.jsx)("img",{src:null===oe||void 0===oe||null===(T=oe.token1)||void 0===T?void 0:T.iconSrc,alt:null===oe||void 0===oe||null===(A=oe.token1)||void 0===A?void 0:A.symbol})}),Object(O.jsx)("div",{className:Wn.a.title,children:null===oe||void 0===oe||null===(P=oe.token1)||void 0===P?void 0:P.symbol})]}),Object(O.jsx)("div",{className:Wn.a["info-value"],children:(null===oe||void 0===oe?void 0:oe.poolBalanceOfToken1)?X(null===oe||void 0===oe?void 0:oe.poolBalanceOfToken1,6):"--"})]})]}),Object(O.jsxs)("div",{className:Wn.a["data-detail"],children:[Object(O.jsx)("div",{className:Wn.a["data-title"],children:"TVL"}),Object(O.jsx)("div",{className:Wn.a["data-value"],children:"".concat(Z.fiat.dollarSign," ").concat((null===oe||void 0===oe||null===(I=oe.tvl)||void 0===I?void 0:I.value)?X(null===oe||void 0===oe?void 0:oe.tvl.value,8):"--")}),Object(O.jsxs)("div",{className:"".concat(Wn.a["data-change"]," ").concat((null===oe||void 0===oe||null===(L=oe.tvl)||void 0===L?void 0:L.change.includes("-"))?Wn.a.decrease:Wn.a.increase),children:[(null===oe||void 0===oe||null===(E=oe.tvl)||void 0===E?void 0:E.change)?X(U.mult((null===oe||void 0===oe||null===(H=oe.tvl)||void 0===H?void 0:H.change.includes("+"))||(null===oe||void 0===oe||null===(D=oe.tvl)||void 0===D?void 0:D.change.includes("-"))?null===oe||void 0===oe||null===(B=oe.tvl)||void 0===B?void 0:B.change.slice(1):null===oe||void 0===oe||null===(F=oe.tvl)||void 0===F?void 0:F.change,"100"),3):"--","%"]})]}),Object(O.jsxs)("div",{className:Wn.a["data-detail"],children:[Object(O.jsx)("div",{className:Wn.a["data-title"],children:"Volume 24h"}),Object(O.jsx)("div",{className:Wn.a["data-value"],children:"".concat(Z.fiat.dollarSign," ").concat((null===oe||void 0===oe||null===(R=oe.volume)||void 0===R?void 0:R.value)?X(null===oe||void 0===oe?void 0:oe.volume.value,8):"--")}),Object(O.jsxs)("div",{className:"".concat(Wn.a["data-change"]," ").concat((null===oe||void 0===oe||null===(q=oe.volume)||void 0===q?void 0:q.change.includes("-"))?Wn.a.decrease:Wn.a.increase),children:[(null===oe||void 0===oe||null===(M=oe.volume)||void 0===M?void 0:M.change)?X(U.mult((null===oe||void 0===oe||null===(V=oe.volume)||void 0===V?void 0:V.change.includes("+"))||(null===oe||void 0===oe||null===(z=oe.volume)||void 0===z?void 0:z.change.includes("-"))?null===oe||void 0===oe||null===(K=oe.volume)||void 0===K?void 0:K.change.slice(1):null===oe||void 0===oe||null===(Y=oe.volume)||void 0===Y?void 0:Y.change,"100"),3):"--","%"]})]}),Object(O.jsxs)("div",{className:Wn.a["data-detail"],children:[Object(O.jsx)("div",{className:Wn.a["data-title"],children:"24h Fees"}),Object(O.jsxs)("div",{className:Wn.a["data-value"],children:["$",(null===oe||void 0===oe||null===(W=oe.fee24)||void 0===W?void 0:W.value)?X(null===oe||void 0===oe||null===(G=oe.fee24)||void 0===G?void 0:G.value,4):"--"]}),Object(O.jsx)("div",{className:Wn.a["data-change"]})]})]}),Object(O.jsx)("div",{className:Wn.a.container,children:Object(O.jsx)("div",{className:Wn.a.chart,children:Object(O.jsx)(_t,{data:xe})})})]}),Object(O.jsx)(Xn,{histories:ke,isLoading:oe&&ne||J.isLoading})]})]})},Qn=n(29),ea=n.n(Qn),ta=function(e){var t=Object(i.useContext)(m),n=Object(u.f)();return Object(O.jsxs)("div",{className:ea.a.navigator,children:[Object(O.jsx)("div",{className:"".concat(ea.a.menuOption," ").concat("#/"===n.hash||n.hash.includes("swap")?ea.a.active:""),children:Object(O.jsx)("a",{className:ea.a.menuOptionText,href:"#/swap",children:"swap"})}),Object(O.jsx)("div",{className:"".concat(ea.a.menuOption," ").concat(n.hash.includes("add-liquidity")?ea.a.active:""),children:Object(O.jsx)("a",{className:ea.a.menuOptionText,href:"#/add-liquidity",children:"pool"})}),Object(O.jsx)("div",{className:"".concat(ea.a.menuOption," ").concat(n.hash.includes("stakes")?ea.a.active:""),children:Object(O.jsx)("a",{className:ea.a.menuOptionText,href:"#/stakes",children:"stakes"})}),Object(O.jsx)("div",{className:"".concat(ea.a.menuOption," ").concat("#/charts"===n.hash?ea.a.active:""),children:Object(O.jsx)("a",{className:ea.a.menuOptionText,href:"/#/charts",children:"overview"})}),t.isConnected&&t.connectedAccount&&Object(O.jsx)("div",{className:"".concat(ea.a.menuOption," ").concat(n.hash.includes("assets")?ea.a.active:""),children:Object(O.jsx)("a",{className:ea.a.menuOptionText,href:"#/assets",children:"assets"})})]})},na=function(e){var t=Object(i.useContext)(m);return Object(O.jsx)(l.a.Fragment,{children:c.a.createPortal(Object(O.jsxs)("div",{className:"".concat(ea.a.container," ").concat(t.isConnected&&t.connectedAccount?ea.a.connected:""),children:[Object(O.jsx)(ta,{}),window.ethereum&&(!t.isConnected||!t.connectedAccount)&&Object(O.jsx)(Se,{className:"".concat(ea.a.menuOption," ").concat(ea.a.highlight)})]}),document.getElementById("side-menu"))})},aa=n(8),ca=n.n(aa),ra=n(101),oa=n.n(ra),sa=function(e){var t=Object(i.useState)(window.innerWidth),n=Object(s.a)(t,2),a=n[0],c=n[1],r=function(e){console.log(e.target.value)};return Object(i.useEffect)((function(){var e=function(){return c(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a<648?function(e){var t,n,a;return Object(O.jsxs)("div",{value:e.data.name,className:ca.a.option+" "+ca.a.shrink,children:[Object(O.jsxs)("div",{className:"".concat(ca.a.main," ").concat(e.data.checked?ca.a.checked:""),htmlFor:e.data.id,onClick:e.clickHandler,children:[Object(O.jsxs)("div",{className:ca.a.pair,children:[Object(O.jsx)("div",{className:ca.a.icon,children:Object(O.jsx)("img",{src:e.data.stakedToken.iconSrc,alt:"".concat(e.data.stakedToken.symbol)})}),Object(O.jsx)("div",{className:ca.a.icon,children:Object(O.jsx)("img",{src:e.data.rewardToken.iconSrc,alt:"".concat(e.data.rewardToken.symbol)})}),Object(O.jsxs)("div",{className:ca.a.data,children:[Object(O.jsx)("div",{className:ca.a.name,children:"Earn ".concat(e.data.rewardToken.symbol)}),Object(O.jsx)("div",{className:ca.a.detail,children:"Stake ".concat(e.data.stakedToken.symbol)})]})]}),Object(O.jsxs)("div",{className:"".concat(ca.a.profit," ").concat(ca.a.data),children:[Object(O.jsx)("div",{className:ca.a.title,children:"".concat(e.data.rewardToken.symbol," Earned")}),Object(O.jsx)("div",{className:ca.a.inCrypto,children:X(e.data.pendingReward.inCrypto,4)}),Object(O.jsx)("div",{className:ca.a.inFiat,children:"".concat(X(e.data.pendingReward.inFiat,4)," ").concat(null===(t=e.fiat)||void 0===t?void 0:t.symbol)})]}),Object(O.jsxs)("div",{className:"".concat(ca.a.apy," ").concat(ca.a.data),children:[Object(O.jsx)("div",{className:ca.a.title,children:"APY"}),Object(O.jsx)("div",{className:ca.a.data,children:Object(O.jsx)("div",{className:ca.a.value,children:"".concat(X(U.mult(e.data.APY,"100"),4)," %")})})]}),Object(O.jsx)("div",{className:ca.a.toggle,children:"\u276f"})]}),Object(O.jsxs)("div",{className:ca.a.sub,children:[Object(O.jsxs)("div",{className:ca.a.container,children:[Object(O.jsx)("div",{className:ca.a.title,children:"".concat(e.data.rewardToken.symbol," Earned")}),Object(O.jsxs)("div",{className:ca.a.row,children:[Object(O.jsxs)("div",{className:ca.a["input-controller"],children:[Object(O.jsx)("input",{id:Z(6),type:"number",value:e.data.pendingReward.inCrypto,readOnly:!0,placeholder:"0.0",step:"any"}),Object(O.jsx)("div",{className:ca.a.balance,children:"".concat(e.data.pendingReward.inFiat," ").concat(e.fiat.symbol)})]}),Object(O.jsx)("button",{className:ca.a.operation,type:"button",onClick:e.openHarvestDialogHandler,disabled:!e.isConnected||!U.gt(e.data.pendingReward.inCrypto,"0"),children:"Harvest"})]})]}),e.isConnected?U.gt(e.data.staked.inCrypto||"0","0")?Object(O.jsxs)("div",{className:ca.a.container,children:[Object(O.jsx)("div",{className:ca.a.title,children:"".concat(e.data.stakedToken.symbol," Staked")}),Object(O.jsxs)("div",{className:ca.a.row,children:[Object(O.jsxs)("div",{className:"".concat(ca.a.staked," ").concat(ca.a.data),children:[Object(O.jsx)("div",{className:ca.a.inCrypto,children:X(e.data.staked.inCrypto,4)}),Object(O.jsx)("div",{className:ca.a.inFiat,children:"".concat(X(e.data.staked.inFiat,4)," ").concat(null===(n=e.fiat)||void 0===n?void 0:n.symbol)})]}),Object(O.jsxs)("div",{className:ca.a.row,children:[Object(O.jsx)("button",{className:ca.a.operation,type:"button",onClick:function(){return e.openStakeDialogHandler("stake")},children:"+"}),Object(O.jsx)("button",{className:ca.a.operation,type:"button",onClick:function(){return e.openStakeDialogHandler("unstake")},children:"-"})]})]})]}):U.gt(e.data.allowanceAmount,"0")?Object(O.jsxs)("div",{className:ca.a.container,children:[Object(O.jsx)("div",{className:ca.a.title,children:"Stake ".concat(e.data.stakedToken.symbol)}),Object(O.jsx)("button",{className:ca.a.operation,type:"button",onClick:e.onClick,children:"Stake"})]}):Object(O.jsxs)("div",{className:ca.a.container,children:[Object(O.jsx)("div",{className:ca.a.title,children:"Enable Pool"}),Object(O.jsx)("button",{className:ca.a.operation,type:"button",onClick:e.approveStakeSpendToken,disabled:!e.data.isLive,children:"Enable"})]}):Object(O.jsxs)("div",{className:ca.a.container,children:[Object(O.jsx)("div",{className:ca.a.title}),Object(O.jsx)(Se,{})]}),Object(O.jsxs)("div",{className:"".concat(ca.a.apy," ").concat(ca.a.data),children:[Object(O.jsx)("div",{className:ca.a.title,children:"APY"}),Object(O.jsxs)("div",{className:ca.a.row,children:[Object(O.jsx)("div",{className:ca.a.value,children:"".concat(X(U.mult(e.data.APY,"100"),4)," %")}),Object(O.jsx)("div",{className:ca.a["tool-controller"],onClick:e.openROICaculatorHandler,children:Object(O.jsx)(oa.a,{fontSize:"medium"})})]})]}),Object(O.jsxs)("div",{className:"".concat(ca.a.staked," ").concat(ca.a.data),children:[Object(O.jsx)("div",{className:ca.a.title,children:"Total staked"}),Object(O.jsx)("div",{className:ca.a.value,children:"".concat(X(e.data.totalStaked,4)," ").concat(e.data.stakedToken.symbol)})]}),Object(O.jsxs)("div",{className:"".concat(ca.a.blocks," ").concat(ca.a.data),children:[Object(O.jsx)("div",{className:ca.a.title,children:"Ends in"}),Object(O.jsx)("div",{className:ca.a.value,children:"".concat(J(e.data.end)," blocks")})]}),Object(O.jsxs)("div",{className:ca.a.links,children:[Object(O.jsx)("div",{children:"Max. stake per user: ".concat(e.data.poolLimitPerUser," ").concat(e.data.stakedToken.symbol)}),Object(O.jsx)("a",{className:ca.a.link,href:"#/asset/".concat(e.data.stakedToken.contract),children:"See Token Info"}),Object(O.jsx)("a",{className:ca.a.link,href:"".concat(e.data.projectSite),target:"_blank",rel:"noreferrer",children:"View Project Site"}),Object(O.jsx)("a",{className:ca.a.link,href:"".concat(_e.explorer[null===(a=e.currentNetwork)||void 0===a?void 0:a.chainId],"/address/").concat(e.data.contract),target:"_blank",rel:"noreferrer",children:"View Contract"})]})]})]},e.data.id)}(Object(p.a)(Object(p.a)({},e),{},{changeHandler:r})):function(e){var t,n,a;return Object(O.jsxs)("div",{value:e.data.name,className:ca.a.option+" "+ca.a.expand,children:[Object(O.jsxs)("div",{className:"".concat(ca.a.main," ").concat(e.data.checked?ca.a.checked:""),htmlFor:e.data.id,onClick:e.clickHandler,children:[Object(O.jsxs)("div",{className:ca.a.pair,children:[Object(O.jsx)("div",{className:ca.a.icon,children:Object(O.jsx)("img",{src:e.data.stakedToken.iconSrc,alt:"".concat(e.data.stakedToken.symbol)})}),Object(O.jsx)("div",{className:ca.a.icon,children:Object(O.jsx)("img",{src:e.data.rewardToken.iconSrc,alt:"".concat(e.data.rewardToken.symbol)})}),Object(O.jsxs)("div",{className:ca.a.data,children:[Object(O.jsx)("div",{className:ca.a.name,children:"Earn ".concat(e.data.rewardToken.symbol)}),Object(O.jsx)("div",{className:ca.a.detail,children:"Stake ".concat(e.data.stakedToken.symbol)})]})]}),Object(O.jsxs)("div",{className:"".concat(ca.a.profit," ").concat(ca.a.data),children:[Object(O.jsx)("div",{className:ca.a.title,children:"".concat(e.data.rewardToken.symbol," Earned")}),Object(O.jsx)("div",{className:ca.a.inCrypto,children:X(e.data.pendingReward.inCrypto,4)}),Object(O.jsx)("div",{className:ca.a.inFiat,children:"".concat(X(e.data.pendingReward.inFiat,4)," ").concat(null===(t=e.fiat)||void 0===t?void 0:t.symbol)})]}),Object(O.jsxs)("div",{className:"".concat(ca.a.staked," ").concat(ca.a.data),children:[Object(O.jsx)("div",{className:ca.a.title,children:"Total staked"}),Object(O.jsx)("div",{className:ca.a.value,children:"".concat(X(e.data.totalStaked,4)," ").concat(e.data.stakedToken.symbol)})]}),Object(O.jsxs)("div",{className:"".concat(ca.a.apy," ").concat(ca.a.data),children:[Object(O.jsx)("div",{className:ca.a.title,children:"APY"}),Object(O.jsxs)("div",{className:ca.a.row,children:[Object(O.jsxs)("div",{className:ca.a.value,children:[X(U.mult(e.data.APY,"100"),4)," %"]}),Object(O.jsx)("div",{className:ca.a["tool-controller"],onClick:e.openROICaculatorHandler,children:Object(O.jsx)(oa.a,{fontSize:"medium"})})]})]}),Object(O.jsxs)("div",{className:"".concat(ca.a.blocks," ").concat(ca.a.data),children:[Object(O.jsx)("div",{className:ca.a.title,children:"Ends in"}),Object(O.jsx)("div",{className:ca.a.value,children:"".concat(J(e.data.end)," blocks")})]}),Object(O.jsx)("div",{className:ca.a.toggle,children:"\u276f"})]}),Object(O.jsxs)("div",{className:ca.a.sub,children:[Object(O.jsxs)("div",{className:ca.a.links,children:[Object(O.jsx)("div",{children:"Max. stake per user: ".concat(e.data.poolLimitPerUser," ").concat(e.data.stakedToken.symbol)}),Object(O.jsx)("a",{className:ca.a.link,href:"#/asset/".concat(e.data.stakedToken.contract),children:"See Token Info"}),Object(O.jsx)("a",{className:ca.a.link,href:"".concat(e.data.projectSite),target:"_blank",rel:"noreferrer",children:"View Project Site"}),Object(O.jsx)("a",{className:ca.a.link,href:"".concat(_e.explorer[null===(n=e.currentNetwork)||void 0===n?void 0:n.chainId],"/address/").concat(e.data.contract),target:"_blank",rel:"noreferrer",children:"View Contract"})]}),Object(O.jsxs)("div",{className:ca.a.container,children:[Object(O.jsx)("div",{className:ca.a.title,children:"".concat(e.data.rewardToken.symbol," Earned")}),Object(O.jsxs)("div",{className:ca.a.row,children:[Object(O.jsxs)("div",{className:ca.a["input-controller"],children:[Object(O.jsx)("input",{id:Z(6),type:"number",value:e.data.pendingReward.inCrypto,readOnly:!0,placeholder:"0.0",step:"any"}),Object(O.jsx)("div",{className:ca.a.balance,children:"".concat(e.data.pendingReward.inFiat," ").concat(e.fiat.symbol)})]}),Object(O.jsx)("button",{className:ca.a.operation,type:"button",onClick:e.openHarvestDialogHandler,disabled:!e.isConnected||!U.gt(e.data.pendingReward.inCrypto,"0"),children:"Harvest"})]})]}),e.isConnected?U.gt(e.data.staked.inCrypto,"0")?Object(O.jsxs)("div",{className:ca.a.container,children:[Object(O.jsx)("div",{className:ca.a.title,children:"".concat(e.data.stakedToken.symbol," Staked")}),Object(O.jsxs)("div",{className:ca.a.row,children:[Object(O.jsxs)("div",{className:"".concat(ca.a.staked," ").concat(ca.a.data),children:[Object(O.jsx)("div",{className:ca.a.inCrypto,children:X(e.data.staked.inCrypto,4)}),Object(O.jsx)("div",{className:ca.a.inFiat,children:"".concat(X(e.data.staked.inFiat,4)," ").concat(null===(a=e.fiat)||void 0===a?void 0:a.symbol)})]}),Object(O.jsxs)("div",{className:ca.a.row,children:[Object(O.jsx)("button",{className:ca.a.operation,type:"button",onClick:function(){return e.openStakeDialogHandler("stake")},children:"+"}),Object(O.jsx)("button",{className:ca.a.operation,type:"button",onClick:function(){return e.openStakeDialogHandler("unstake")},children:"-"})]})]})]}):U.gt(e.data.stakedToken.allowance,"0")?Object(O.jsxs)("div",{className:ca.a.container,children:[Object(O.jsx)("div",{className:ca.a.title,children:"Stake ".concat(e.data.stakedToken.symbol)}),Object(O.jsx)("button",{className:ca.a.operation,type:"button",onClick:function(){return e.openStakeDialogHandler("stake")},children:"Stake"})]}):Object(O.jsxs)("div",{className:ca.a.container,children:[Object(O.jsx)("div",{className:ca.a.title,children:"Enable Pool"}),Object(O.jsx)("button",{className:ca.a.operation,type:"button",onClick:e.approveStakeSpendToken,disabled:!e.data.isLive,children:"Enable"})]}):Object(O.jsx)("div",{className:ca.a.container,children:Object(O.jsx)(Se,{className:ca.a.connect})})]})]},e.data.id)}(Object(p.a)(Object(p.a)({},e),{},{changeHandler:r}))},ia=n(7),la=n.n(ia),ua=n(256),da=n.n(ua),pa=n(258),va=n.n(pa),ha=n(257),ba=n.n(ha),ja=n(260),ma=n.n(ja),xa=n(259),fa=n.n(xa),Oa=n(452),ga=function(e){var t,n,a,c,r,o,u,d,v,j,x,f,g=Object(i.useContext)(m),k=Object(i.useContext)(It),_=Object(i.useRef)(),w=Object(i.useState)({key:Object.keys(A)[0],value:Object.values(A)[0]}),y=Object(s.a)(w,2),N=y[0],C=y[1],P=Object(i.useState)(""),I=Object(s.a)(P,2),L=I[0],E=I[1],H=Object(i.useState)([]),D=Object(s.a)(H,2),B=D[0],F=D[1],R=Object(i.useState)(!0),q=Object(s.a)(R,2),M=q[0],V=q[1],z=Object(i.useState)(!1),K=Object(s.a)(z,2),Y=K[0],W=K[1],G=Object(i.useState)(!1),J=Object(s.a)(G,2),$=J[0],Q=J[1],ee=Object(i.useState)(null),te=Object(s.a)(ee,2),ne=te[0],ae=te[1],ce=Object(i.useState)(null),re=Object(s.a)(ce,2),oe=re[0],se=re[1],ie=Object(i.useState)(null),ue=Object(s.a)(ie,2),de=ue[0],pe=ue[1],ve=Object(i.useState)(!1),he=Object(s.a)(ve,2),be=he[0],je=he[1],me=Object(i.useState)(!1),fe=Object(s.a)(me,2),Oe=fe[0],ke=fe[1],we=Object(i.useState)(!1),ye=Object(s.a)(we,2),Ne=ye[0],Ce=ye[1],Se=Object(i.useState)(!1),Te=Object(s.a)(Se,2),Pe=Te[0],Ie=Te[1],Le=Object(i.useState)(!1),Ee=Object(s.a)(Le,2),He=Ee[0],De=Ee[1],Be=Object(i.useState)(!1),Re=Object(s.a)(Be,2),qe=Re[0],Ue=Re[1],Me=Object(i.useState)(!1),ze=Object(s.a)(Me,2),Ke=ze[0],Ye=ze[1],We=Object(i.useState)("0.0"),Ge=Object(s.a)(We,2),Je=Ge[0],Xe=Ge[1],Ze=Object(i.useState)("0"),$e=Object(s.a)(Ze,2),Qe=$e[0],et=$e[1],tt=Object(i.useState)("0"),nt=Object(s.a)(tt,2),at=nt[0],ct=nt[1],rt=Object(i.useState)(!0),ot=Object(s.a)(rt,2),st=ot[0],it=ot[1],lt=Object(i.useState)("1D"),ut=Object(s.a)(lt,2),dt=ut[0],pt=ut[1],vt=Object(i.useState)("1D"),ht=Object(s.a)(vt,2),bt=ht[0],jt=ht[1],mt=Object(i.useState)(!1),xt=Object(s.a)(mt,2),ft=xt[0],Ot=xt[1],gt=Object(i.useState)(null),kt=Object(s.a)(gt,2),_t=kt[0],Nt=kt[1],St=Object(i.useState)(null),Tt=Object(s.a)(St,2),At=Tt[0],Pt=Tt[1],Lt=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(t.target.value.replace(/[^0-9A-Za-z]/gi,"")),!/^0x[a-fA-F0-9]{40}$/.test(t.target.value)){e.next=9;break}return e.next=4,g.searchStake(t.target.value);case 4:n=e.sent,console.log("searchStake",n),n&&F([n]),e.next=11;break;case 9:a=g.supportedStakes.filter((function(e){var t,n,a,c;return!_.current||e.contract.replace("0x","").toLowerCase().includes(_.current.value.toLowerCase())||(null===e||void 0===e||null===(t=e.stakedToken)||void 0===t||null===(n=t.symbol)||void 0===n?void 0:n.toLowerCase().includes(_.current.value.toLowerCase()))||(null===e||void 0===e||null===(a=e.earn)||void 0===a||null===(c=a.symbol)||void 0===c?void 0:c.toLowerCase().includes(_.current.value.toLowerCase()))})).filter((function(e){return M?e.isLive:!e.isLive})).filter((function(e){return Y?U.gt(e.staked.inCrypto,"0"):e})),F((function(e){return a.map((function(t){var n=e.find((function(e){return e.id===t.id}));return Object(p.a)(Object(p.a)({},t),{},{checked:!!(null===n||void 0===n?void 0:n.checked)})}))}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Et=function(e,t){e?et(t):Xe(t)},Ht=function(e){console.log("option",e),ae(e),je(!0)},Dt=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.approve(t.stakedToken.contract,t.contract);case 3:n=e.sent,console.log("approveStakeSpendToken",n),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Pt(e.t0),Q(!0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=de,e.next="stake"===e.t0?4:"unstake"===e.t0?10:16;break;case 4:return console.log("depositToken selectedStake",ne,oe),e.next=7,g.deposit(ne.contract,ne.stakedToken,oe);case 7:return t=e.sent,Nt({message:"Success deposit ".concat(oe," ").concat(ne.stakedToken.symbol," to ").concat(ne.contract),transactionHash:t}),e.abrupt("break",17);case 10:return console.log("withdrawToken selectedStake",ne,oe),e.next=13,g.withdraw(ne.contract,ne.stakedToken,oe);case 13:return t=e.sent,Nt({message:"Success withdraw ".concat(oe," ").concat(ne.stakedToken.symbol," from ").concat(ne.contract),transactionHash:t}),e.abrupt("break",17);case 16:throw Error("wrong type");case 17:Ce(!0),e.next=24;break;case 20:e.prev=20,e.t1=e.catch(0),Pt(e.t1),Q(!0);case 24:ke(!1),se("0");case 26:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("harvestToken option",t),e.prev=1,e.next=4,g.deposit(ne.contract,ne.rewardToken,"0");case 4:n=e.sent,Nt({message:"Success harvest ".concat(ne.pendingReward.inCrypto," ").concat(ne.rewardToken.symbol," from ").concat(ne.contract),transactionHash:n}),Ce(!0),Ie(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),Pt(e.t0),Q(!0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e=g.supportedStakes.filter((function(e){var t,n,a,c;return!_.current||e.contract.replace("0x","").toLowerCase().includes(_.current.value.toLowerCase())||(null===e||void 0===e||null===(t=e.stakedToken)||void 0===t||null===(n=t.symbol)||void 0===n?void 0:n.toLowerCase().includes(_.current.value.toLowerCase()))||(null===e||void 0===e||null===(a=e.earn)||void 0===a||null===(c=a.symbol)||void 0===c?void 0:c.toLowerCase().includes(_.current.value.toLowerCase()))})).filter((function(e){return M?e.isLive:!e.isLive})).filter((function(e){return Y?U.gt(e.staked.inCrypto,"0"):e}));return F((function(t){return e.map((function(e){var n=t.find((function(t){return t.id===e.id}));return Object(p.a)(Object(p.a)({},e),{},{checked:!!(null===n||void 0===n?void 0:n.checked)})}))})),function(){}}),[g.supportedStakes,M,Y]);var Rt;return Object(O.jsxs)(l.a.Fragment,{children:[Ne&&Object(O.jsx)(wt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:Ne,autoHideDuration:6e3,onClose:function(){return Ce(!1)},message:null===_t||void 0===_t?void 0:_t.message,action:(Rt=null===_t||void 0===_t?void 0:_t.transactionHash,Object(O.jsxs)(l.a.Fragment,{children:[Object(O.jsx)(xe,{color:"secondary",size:"small",onClick:function(){var e;return window.open("".concat(_e.explorer[null===(e=g.currentNetwork)||void 0===e?void 0:e.chainId],"/tx/").concat(Rt),"_blank")},children:"View on Explorer"}),Object(O.jsx)(yt.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return Ne(!1)},children:Object(O.jsx)(Ct.a,{fontSize:"small"})})]}))}),$&&Object(O.jsx)(ge,{message:"From Stakes.js ".concat((null===At||void 0===At?void 0:At.message)||(null===At||void 0===At?void 0:At.toString())),onConfirm:function(){return Q(!1)}}),Pe&&Object(O.jsx)(S,{className:la.a.dialog,title:"".concat(ne.rewardToken.symbol," Harvest"),onCancel:function(){return ft?null:Ie(!1)},children:Object(O.jsxs)("div",{className:la.a.container,children:[Object(O.jsxs)("div",{className:la.a["input-controller"],children:[Object(O.jsxs)("div",{className:"".concat(la.a.content," ").concat(la.a.row),children:[Object(O.jsx)("div",{className:la.a.title,children:"Harvesting:"}),Object(O.jsx)("div",{className:la.a.balance,children:"~".concat(X(null===ne||void 0===ne||null===(t=ne.pendingReward)||void 0===t?void 0:t.inFiat,18)||"--"," ").concat(k.fiat.symbol)})]}),Object(O.jsx)("div",{className:"".concat(la.a.content," ").concat(la.a.row),children:Object(O.jsx)("input",{id:Z(6),type:"number",value:null===ne||void 0===ne||null===(n=ne.pendingReward)||void 0===n?void 0:n.inCrypto,placeholder:"0.0",step:"any",readOnly:!0})})]}),Object(O.jsxs)("div",{className:"".concat(la.a.action,"  ").concat(la.a.row),children:[Object(O.jsx)(xe,{onClick:function(){Ie(!1)},disabled:ft,children:"Cancel"}),Object(O.jsx)(xe,{onClick:Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ot(!0),e.next=3,Ft(ne);case 3:Ot(!1),Ie(!1);case 5:case"end":return e.stop()}}),e)}))),disabled:ft,children:ft?Object(O.jsx)(le,{}):"Confirm"})]})]})}),Oe&&Object(O.jsx)(S,{className:la.a.dialog,title:"".concat("stake"===de?"Stake LP tokens":"unstake"===de?"Unstake LP tokens":"Error"),onCancel:function(){ke(!1),se("0")},children:Object(O.jsxs)("div",{className:la.a.container,children:[Object(O.jsxs)("div",{className:la.a["input-controller"],children:[Object(O.jsxs)("div",{className:"".concat(la.a.content," ").concat(la.a.row),children:[Object(O.jsx)("div",{className:la.a.title,children:"stake"===de?"Stake":"unstake"===de?"Unstake":"Error"}),Object(O.jsx)("div",{className:la.a.balance,children:"Balance: ".concat(X(null===ne||void 0===ne||null===(a=ne.stakedToken)||void 0===a?void 0:a.balanceOf,18)||"--")})]}),Object(O.jsxs)("div",{className:"".concat(la.a.content," ").concat(la.a.row),children:[Object(O.jsx)("input",{id:Z(6),type:"number",value:oe,onInput:function(e){var t,n;console.log(e.target.value);var a=U.gt(e.target.value,(null===ne||void 0===ne||null===(t=ne.stakedToken)||void 0===t?void 0:t.balanceOf)||"0")?(null===ne||void 0===ne||null===(n=ne.stakedToken)||void 0===n?void 0:n.balanceOf)||"0":e.target.value;se(a)},placeholder:"0.0",step:"any"}),Object(O.jsxs)("div",{className:"".concat(la.a.hint," ").concat(la.a.row),children:[U.eq(oe||"0",(null===ne||void 0===ne||null===(c=ne.stakedToken)||void 0===c?void 0:c.balanceOf)||"0")&&Object(O.jsx)("div",{className:la.a.tag,children:"Max"}),Object(O.jsx)("div",{children:"".concat(null===ne||void 0===ne||null===(r=ne.stakedToken)||void 0===r?void 0:r.symbol)})]})]})]}),"stake"===de&&Object(O.jsxs)("div",{className:"".concat(la.a.content," ").concat(la.a.row),children:[Object(O.jsx)("div",{children:"Annual ROI at current rates:"}),Object(O.jsxs)("div",{className:"".concat(la.a.hint," ").concat(la.a.row),children:[Object(O.jsx)("div",{children:"".concat(k.fiat.dollarSign," 0.90")}),Object(O.jsx)("div",{className:la.a["tool-controller"],onClick:function(){return Ht(ne)},children:Object(O.jsx)(oa.a,{fontSize:"large"})})]})]}),Object(O.jsxs)("div",{className:"".concat(la.a.action,"  ").concat(la.a.row),children:[Object(O.jsx)(xe,{onClick:function(){ke(!1),se("0")},children:"Cancel"}),Object(O.jsx)(xe,{onClick:Bt,children:"Confirm"})]})]})}),be&&Object(O.jsxs)(S,{className:"".concat(la.a.dialog," ").concat(la.a.roi),title:"ROI Calculator",onCancel:function(){je(!1),De(!1),Xe("0"),et("0"),ct("0"),it(!1),Ue(!1),Ye(!1)},children:[Object(O.jsxs)("div",{className:la.a.container,children:[Object(O.jsxs)("div",{className:la.a["header-container"],children:[Object(O.jsx)("div",{className:la.a.header,children:"".concat(null===ne||void 0===ne||null===(o=ne.stakedToken)||void 0===o?void 0:o.symbol," STAKED")}),Object(O.jsx)("div",{className:la.a["input-controller"],children:Object(O.jsxs)("div",{className:"".concat(la.a["input-container"]," ").concat(la.a.row),children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"".concat(la.a.content," ").concat(la.a.row),children:[Object(O.jsx)("input",{id:Z(6),type:"number",value:qe?Qe:Je,onInput:function(e){return Et(qe,e.target.value)},placeholder:"0.0",step:"any"}),Object(O.jsx)("div",{className:"".concat(la.a.hint," ").concat(la.a.row),children:Object(O.jsx)("div",{children:"".concat(qe?k.fiat.symbol:null===ne||void 0===ne||null===(u=ne.stakedToken)||void 0===u?void 0:u.symbol)})})]}),Object(O.jsx)("div",{className:"".concat(la.a.content," ").concat(la.a.row),children:Object(O.jsx)("div",{className:la.a.amount,children:"".concat(X(qe?Je:Qe,18)," ").concat(qe?null===ne||void 0===ne||null===(d=ne.stakedToken)||void 0===d?void 0:d.symbol:k.fiat.symbol)})})]}),Object(O.jsx)("div",{className:la.a.swap,onClick:function(){Ue((function(e){return!e}))},children:Object(O.jsx)(da.a,{fontSize:"large"})})]})}),Object(O.jsxs)("div",{className:"".concat(la.a.tags," ").concat(la.a.row),children:[Object(O.jsx)("div",{className:la.a.tag,onClick:function(){return Et(!0,"100")},children:"$100"}),Object(O.jsx)("div",{className:la.a.tag,onClick:function(){return Et(!0,"1000")},children:"$1000"}),Object(O.jsx)("div",{className:la.a.tag,onClick:function(){var e,t;return Et(!1,U.plus((null===ne||void 0===ne||null===(e=ne.stakedToken)||void 0===e?void 0:e.balanceOf)||"0",(null===ne||void 0===ne||null===(t=ne.staked)||void 0===t?void 0:t.inCrypto)||"0"))},children:"My Balance"}),Object(O.jsxs)("div",{className:"".concat(la.a.tooltip),children:[Object(O.jsx)("div",{children:"?"}),Object(O.jsx)("div",{className:"".concat(la.a.tooltiptext),children:'"My Balance" here includes both '.concat(null===ne||void 0===ne||null===(v=ne.stakedToken)||void 0===v?void 0:v.symbol," in your wallet, and\n                    ").concat(null===ne||void 0===ne||null===(j=ne.stakedToken)||void 0===j?void 0:j.symbol," already staked in this pool.")})]})]})]}),Object(O.jsxs)("div",{className:la.a.condition,children:[Object(O.jsx)("div",{className:la.a.header,children:"STAKED FOR"}),Object(O.jsxs)("div",{className:"".concat(la.a.tabs," ").concat(la.a.row),children:[Object(O.jsx)("div",{className:"".concat(la.a.tab," ").concat("1D"===dt?la.a.active:""),onClick:function(){return pt("1D")},children:"1D"}),Object(O.jsx)("div",{className:"".concat(la.a.tab," ").concat("7D"===dt?la.a.active:""),onClick:function(){return pt("7D")},children:"7D"}),Object(O.jsx)("div",{className:"".concat(la.a.tab," ").concat("30D"===dt?la.a.active:""),onClick:function(){return pt("30D")},children:"30D"}),Object(O.jsx)("div",{className:"".concat(la.a.tab," ").concat("1Y"===dt?la.a.active:""),onClick:function(){return pt("1Y")},children:"1Y"}),Object(O.jsx)("div",{className:"".concat(la.a.tab," ").concat("5Y"===dt?la.a.active:""),onClick:function(){return pt("5Y")},children:"5Y"})]})]}),Object(O.jsxs)("div",{className:la.a.condition,children:[Object(O.jsx)("div",{className:la.a.header,children:"COMPOUNDING EVERY"}),Object(O.jsxs)("div",{className:"".concat(la.a.content," ").concat(la.a.row),children:[Object(O.jsxs)("label",{className:la.a.controller,htmlFor:"stakeOption-compunding",children:[Object(O.jsx)("input",{type:"checkbox",name:"shrink-pool-option",id:"stakeOption-compunding",className:la.a.checkbox,checked:st,onClick:function(){return it((function(e){return!e}))}}),Object(O.jsx)("span",{class:la.a.checkmark})]}),Object(O.jsxs)("div",{className:"".concat(la.a.tabs," ").concat(la.a.row," ").concat(st?"":la.a.disabled),children:[Object(O.jsx)("div",{className:"".concat(la.a.tab," ").concat(st&&"1D"===bt?la.a.active:""),onClick:function(){return st?jt("1D"):null},children:"1D"}),Object(O.jsx)("div",{className:"".concat(la.a.tab," ").concat(st&&"7D"===bt?la.a.active:""),onClick:function(){return st?jt("7D"):null},children:"7D"}),Object(O.jsx)("div",{className:"".concat(la.a.tab," ").concat(st&&"14D"===bt?la.a.active:""),onClick:function(){return st?jt("14D"):null},children:"14D"}),Object(O.jsx)("div",{className:"".concat(la.a.tab," ").concat(st&&"30D"===bt?la.a.active:""),onClick:function(){return st?jt("30D"):null},children:"30D"})]})]})]}),Object(O.jsx)("div",{className:la.a["icon-container"],children:Ke?Object(O.jsx)(ba.a,{fontSize:"large"}):Object(O.jsx)(va.a,{fontSize:"large"})}),Object(O.jsxs)("div",{className:la.a["input-pannel"],children:[Object(O.jsx)("div",{className:la.a.title,children:"ROI AT CURRENT RATES"}),Object(O.jsxs)("div",{className:"".concat(la.a.content," ").concat(la.a.row," ").concat(la.a["rate-container"]),children:[Ke?Object(O.jsxs)("div",{className:"".concat(la.a.input," ").concat(la.a.row),children:[Object(O.jsx)("div",{children:"$"}),Object(O.jsx)("input",{id:Z(6),type:"number",value:at,onInput:function(e){ct(e.target.value)},placeholder:"0.0",step:"any"})]}):Object(O.jsx)("div",{className:la.a.rate,children:"$".concat(X(at,2))}),Object(O.jsx)("div",{className:la.a["reverse-controller"],onClick:function(){return Ye((function(e){return!e}))},children:Ke?Object(O.jsx)(fa.a,{fontSize:"large"}):Object(O.jsx)(ma.a,{fontSize:"large"})})]}),Object(O.jsx)("div",{children:"~ ".concat("0"," ",(null===ne||void 0===ne||null===(x=ne.stakedToken)||void 0===x?void 0:x.symbol)||"--"," (").concat(X("0",2),"%)")})]})]}),Object(O.jsxs)("div",{className:"".concat(la.a["detail-container"]," ").concat(He?la.a.open:""),children:[Object(O.jsxs)("div",{className:"".concat(la.a["button-container"]," ").concat(la.a.row),onClick:function(){return De((function(e){return!e}))},children:[Object(O.jsx)("div",{className:la.a.button,children:He?"Hide":"Details"}),Object(O.jsx)("div",{className:la.a.icon,children:"\u276f"})]}),Object(O.jsxs)("div",{className:la.a["detail-info"],children:[Object(O.jsxs)("div",{className:"".concat(la.a.detail," ").concat(la.a.row),children:[Object(O.jsx)("div",{className:la.a.title,children:"APR"}),Object(O.jsx)("div",{className:la.a.value})]}),Object(O.jsxs)("div",{className:"".concat(la.a.detail," ").concat(la.a.row),children:[Object(O.jsx)("div",{className:la.a.title,children:"APY (1x daily compound)"}),Object(O.jsx)("div",{className:la.a.value})]}),Object(O.jsxs)("ul",{className:la.a["explain-container"],children:[Object(O.jsx)("li",{className:la.a.explain,children:"Calculated based on current rates."}),Object(O.jsx)("li",{className:la.a.explain,children:"All figures are estimates provided for your convenience only, and by no means represent guaranteed returns."})]}),Object(O.jsx)("a",{href:"#/swap/".concat((null===ne||void 0===ne?void 0:ne.contract)||""),children:"GET ".concat((null===ne||void 0===ne||null===(f=ne.stakedToken)||void 0===f?void 0:f.symbol)||"--")})]})]})]}),Object(O.jsxs)("div",{className:"page",children:[Object(O.jsxs)("div",{className:"header-bar",children:[Object(O.jsx)("div",{className:"header",children:"Stakes"}),Object(O.jsx)(Ae,{shrink:!0})]}),Object(O.jsxs)("div",{className:la.a.expand,children:[Object(O.jsxs)("div",{className:la.a["tool-bar"],children:[Object(O.jsxs)("div",{className:la.a.row,children:[Object(O.jsx)(Oa.a,{inputProps:{"aria-label":"controlled"},checked:Y,onChange:function(){W((function(e){return!e}))}}),Object(O.jsx)("div",{children:"Staked Only"})]}),Object(O.jsxs)("div",{className:"".concat(la.a.tabs," ").concat(la.a.row),children:[Object(O.jsx)("div",{className:"".concat(la.a.tab," ").concat(M?la.a.active:""),onClick:function(){return V(!0)},children:"Live"}),Object(O.jsx)("div",{className:"".concat(la.a.tab," ").concat(M?"":la.a.active),onClick:function(){return V(!1)},children:"Finished"})]})]}),Object(O.jsxs)("div",{className:la.a["tool-bar"],children:[Object(O.jsx)(Ve,{className:la.a.dropdown,label:"Sort by",options:Object.keys(A).map((function(e){return{key:e,value:A[e]}})),selected:N,onSelect:function(e){return function(e,t){switch(C(e),A[e.key]){case A.HOT:case A.TOTALSTAKED:return null===t||void 0===t?void 0:t.sort((function(e,t){return+t.totalStaked-+e.totalStaked}));case A.APR:return null===t||void 0===t?void 0:t.sort((function(e,t){return+t.APY-+e.APY}));case A.EARNED:return null===t||void 0===t?void 0:t.sort((function(e,t){return+t.profit.inFiat-+e.profit.inFiat}));default:return t}}(e,B)},placeholder:"Select Sort",children:function(e){return function(e){return Object(O.jsx)("div",{className:la.a.option,children:e})}(e.value)}}),Object(O.jsxs)("div",{className:la.a.search,children:[Object(O.jsx)("div",{className:la.a.label,children:"Search"}),Object(O.jsx)(Fe,{inputRef:_,value:L,onChange:Lt,placeholder:"Search"})]})]})]}),Object(O.jsxs)("div",{className:la.a.list,children:[B.map((function(e,t){return Object(O.jsx)(sa,{currentNetwork:g.currentNetwork,isConnected:g.isConnected&&g.connectedAccount,data:e,openStakeDialogHandler:function(t){return function(e,t){console.log("openStakeDialogHandler option",e),console.log("openStakeDialogHandler type",t),ae(e),pe(t),ke(!0)}(e,t)},openHarvestDialogHandler:function(){return function(e){ae(e),Ie(!0)}(e)},openROICaculatorHandler:function(){return Ht(e)},approveStakeSpendToken:function(){return Dt(e)},fiat:k.fiat,clickHandler:function(){return function(e,t){console.log(e);var n,a=Object(T.a)(B);n=a[t].id!==e.id?a.findIndex((function(t){return t.id===e.id})):t,a[n].checked=!a[n].checked,F(a)}(e,t)}},e.id)})),g.isLoading&&Object(O.jsx)("div",{className:la.a.container,children:Object(O.jsx)(le,{})})]})]})]})},ka=function(){var e=Object(i.useContext)(m),t=Object(o.b)(),n=t.enqueueSnackbar,a=(t.closeSnackbar,Object(i.useState)(null)),c=Object(s.a)(a,2),p=c[0],v=c[1],h=Object(i.useState)(!1),b=Object(s.a)(h,2),j=b[0],x=b[1];return Object(i.useEffect)((function(){return d.a.initialize("G-151PY7K930"),d.a.pageview("https://staging2-swap.tidebit.network/"),function(){}}),[]),Object(i.useEffect)((function(){return e.notice&&n(e.notice),function(){}}),[e.notice,n]),Object(i.useEffect)((function(){var t,a;(null===(t=e.noticeError)||void 0===t?void 0:t.message)&&n(null===(a=e.noticeError)||void 0===a?void 0:a.message,{variant:"error"});return function(){}}),[e.noticeError,n]),Object(i.useEffect)((function(){return e.error&&(v(e.error),x(!0)),function(){}}),[e.error]),Object(O.jsxs)(l.a.Fragment,{children:[j&&Object(O.jsx)(ge,{message:(null===p||void 0===p?void 0:p.message)||(null===p||void 0===p?void 0:p.toString()),onConfirm:function(){return x(!1)}}),Object(O.jsx)(Kn,{}),Object(O.jsx)(na,{}),Object(O.jsxs)(r.b,{children:[Object(O.jsx)(u.a,{exact:!0,path:"/",children:Object(O.jsx)(Tt,{})}),Object(O.jsx)(u.a,{exact:!0,path:"/charts",children:Object(O.jsx)(En,{})}),Object(O.jsx)(u.a,{path:"/stakes",children:Object(O.jsx)(ga,{})}),Object(O.jsx)(u.a,{path:"/tokens",children:Object(O.jsx)(Dt,{})}),Object(O.jsx)(u.a,{path:"/pools",children:Object(O.jsx)(yn,{})}),Object(O.jsx)(u.a,{path:"/pool",children:Object(O.jsx)($n,{})}),Object(O.jsx)(u.a,{path:"/assets",children:Object(O.jsx)($t,{})}),Object(O.jsx)(u.a,{path:"/asset",children:Object(O.jsx)(Zn,{})}),Object(O.jsx)(u.a,{path:"/swap",children:Object(O.jsx)(Tt,{})}),Object(O.jsx)(u.a,{path:"/add-liquidity",children:Object(O.jsx)(cn,{})}),Object(O.jsx)(u.a,{path:"/redeem-liquidity",children:Object(O.jsx)(gn,{})})]})]})},_a=n(136),wa=n.n(_a),ya=n.p+"static/media/imToken.14ab6720.png",Na=n(426).Subject,Ca=function(){function e(t){Object(D.a)(this,e),this.setMessenger(),this.lastTimeSync=0,this.syncInterval=3e4,this.communicator=t,this.lunar=new wa.a,this.supportedNetworks=_e[_e.status].supportedChains.map((function(e){return wa.a.listBlockchain().find((function(t){return t.chainId===e}))})),this.walletList=this.lunar.env.wallets.map((function(e){switch(e){case"Metamask":return{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/MetaMask_Fox.svg/440px-MetaMask_Fox.svg.png",name:"MetaMask"};case"imToken":return{src:ya,name:"imToken"};case"TideWallet":return{src:ya,name:"TideWallet"};default:return[]}}))}return Object(B.a)(e,[{key:"messenger",get:function(){return this._messenger}},{key:"setMessenger",value:function(){this._messenger||(this._messenger=new Na)}},{key:"getData",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){var c,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}return e.abrupt("return");case 2:return c="0x".concat(V()(t).toString("hex").slice(0,8)),e.prev=3,e.next=6,this.lunar.getData({contract:a,data:"".concat(n?c+n:c)});case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(3),console.error("lunar getData ERROR! ".concat(t," ").concat(c),e.t0),this.messenger.next({evt:"Notice",debug:!0,message:"lunar getData ERROR! ".concat(t,") error: ").concat(e.t0.message)}),e.prev=14,e.next=17,K(c,n,a);case 17:return o=e.sent,this.messenger.next({evt:"Notice",debug:!0,message:"eth_call(funcName: ".concat(t,") result: ").concat(o)}),e.abrupt("return",o);case 22:throw e.prev=22,e.t1=e.catch(14),console.error("eth_call ERROR! ".concat(t," error"),e.t1),this.messenger.next({evt:"Notice",debug:!0,message:"eth_call ERROR! ".concat(t,") error: ").concat(e.t1.message)}),e.t1;case 27:case"end":return e.stop()}}),e,this,[[3,10],[14,22]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,c,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contract,a=t.address,e.prev=1,e.next=4,this.lunar.getBalance({contract:n,address:a});case 4:c=e.sent,e.next=25;break;case 7:return e.prev=7,e.t0=e.catch(1),_e[_e.status].debug&&console.log("getBalance error",e.t0),this.messenger.next({evt:"Notice",message:"Fail to get balance of address(".concat(a,") in contract(").concat(n,")")}),this.messenger.next({evt:"Notice",debug:!0,message:"lunar getBalance error: balance of address(".concat(a,") in contract(").concat(n,") is error: ").concat(e.t0.message)}),e.prev=12,r=a.replace("0x","").padStart(64,"0"),e.next=16,this.getData("balanceOf(address)",r,n);case 16:o=e.sent,c=parseInt(o,16).toString(),this.messenger.next({evt:"Notice",debug:!0,message:"this.getData result: balance of address(".concat(a,") in contract(").concat(n,") is ").concat(c)}),e.next=25;break;case 21:throw e.prev=21,e.t1=e.catch(12),_e[_e.status].debug&&console.log("getBalance error",e.t1),e.t1;case 25:return e.abrupt("return",c);case 26:case"end":return e.stop()}}),e,this,[[1,7],[12,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getNativeCurrency",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,c,r,o,s,i,l,u,d,v,b,j,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}return e.abrupt("return");case 2:if(/^0x[a-fA-F0-9]{40}$/.test(this.routerContract)){e.next=4;break}throw Error("Router contract(".concat(this.routerContract,") is not valid"));case 4:if((null===(n=this.nativeCurrency)||void 0===n?void 0:n.contract)&&!t){e.next=19;break}return _e[_e.status].debug&&console.log("getNativeCurrency this.routerContract",this.routerContract),e.prev=6,e.next=9,this.getData("WETH()",null,this.routerContract);case 9:i=e.sent,_e[_e.status].debug&&console.log("getNativeCurrency contract",i),this.nativeCurrency={contract:"0x".concat(i.slice(26,66)),decimals:this.network.nativeCurrency.decimals,symbol:this.network.nativeCurrency.symbol},_e[_e.status].debug&&console.log("getNativeCurrency this.nativeCurrency",this.nativeCurrency),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(6),_e[_e.status].debug&&console.log("getNativeCurrency error",e.t0),e.t0;case 19:if(/^0x[a-fA-F0-9]{40}$/.test(null===(a=this.nativeCurrency)||void 0===a?void 0:a.contract)){e.next=21;break}throw Error("Did not find native currency contract");case 21:if(!this.isConnected||!(null===(c=this.connectedAccount)||void 0===c?void 0:c.contract)){e.next=39;break}if(/^0x[a-fA-F0-9]{40}$/.test(null===(l=this.connectedAccount)||void 0===l?void 0:l.contract)){e.next=24;break}throw Error("Connected account contract(".concat(null===(u=this.connectedAccount)||void 0===u?void 0:u.contract,") is not valid"));case 24:return e.prev=24,_e[_e.status].debug&&console.log("getNativeCurrency this.connectedAccount?.contract",null===(d=this.connectedAccount)||void 0===d?void 0:d.contract),e.next=28,this.getBalance({contract:null===(v=this.nativeCurrency)||void 0===v?void 0:v.contract,address:null===(b=this.connectedAccount)||void 0===b?void 0:b.contract});case 28:j=e.sent,this.nativeCurrency=Object(p.a)(Object(p.a)({},this.nativeCurrency),{},{balanceOf:j}),_e[_e.status].debug&&console.log("this.getNativeCurrency",this.nativeCurrency),e.next=37;break;case 33:throw e.prev=33,e.t1=e.catch(24),_e[_e.status].debug&&console.log("getNativeCurrency balanceOf error",e.t1),e.t1;case 37:e.next=41;break;case 39:this.nativeCurrency=Object(p.a)(Object(p.a)({},this.nativeCurrency),{},{balanceOf:0}),_e[_e.status].debug&&console.log("this.getNativeCurrency",this.nativeCurrency);case 41:m={evt:"UpdateNativeCurrency",data:this.nativeCurrency},this.messenger.next(m),this.messenger.next({evt:"Notice",debug:!0,message:"success to fetch native currency(".concat(null===(r=this.nativeCurrency)||void 0===r?void 0:r.symbol,") contract(").concat(null===(o=this.nativeCurrency)||void 0===o?void 0:o.contract," and balance ").concat(null===(s=this.nativeCurrency)||void 0===s?void 0:s.balanceOf,")")});case 44:case"end":return e.stop()}}),e,this,[[6,15],[24,33]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getFactoryContract",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}return e.abrupt("return");case 2:if(/^0x[a-fA-F0-9]{40}$/.test(this.routerContract)){e.next=4;break}throw Error("Router contract(".concat(this.routerContract,") is not valid"));case 4:if(this.factoryContract&&!t){e.next=21;break}return e.prev=5,e.next=8,this.getData("factory()",null,this.routerContract);case 8:n=e.sent,_e[_e.status].debug&&console.log("getFactoryContract contract",n),this.factoryContract="0x".concat(n.slice(26,66)),_e[_e.status].debug&&console.log("getFactoryContract this.factoryContract",this.factoryContract),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(5),_e[_e.status].debug&&console.log("getFactoryContract error",e.t0),e.t0;case 18:if(/^0x[a-fA-F0-9]{40}$/.test(this.factoryContract)){e.next=20;break}throw Error("Did not find factory contract");case 20:this.messenger.next({evt:"Notice",debug:!0,message:"success to fetch factory contract(".concat(this.factoryContract)});case 21:case"end":return e.stop()}}),e,this,[[5,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.messenger.next({evt:"Notice",debug:!0,message:"stop syncing"}),clearInterval(this.contractTimer),clearInterval(this.newPoolTimer),this.isInit=!1,this.poolList=[],this.newPools=[],this.assetList=[],this.stakeList=[],this.histories=[],this.factoryContract="",this.nativeCurrency=null,this.messenger.next({evt:"isInit",debug:!0,data:this.isInit}),this.messenger.next({evt:"UpdateNativeCurrency",debug:!0,data:this.nativeCurrency}),this.messenger.next({evt:"UpdateOveriew",debug:!0,data:[]}),this.messenger.next({evt:"UpdateChart",debug:!0,data:{tvl:[],volume:[]}}),this.messenger.next({evt:"UpdateSupportedTokens",debug:!0,data:this.assetList}),this.messenger.next({evt:"UpdateSupportedPools",debug:!0,data:this.poolList}),this.messenger.next({evt:"UpdateSupportedStakes",debug:!0,data:this.stakeList}),this.messenger.next({evt:"UpdateSupportedStakes",debug:!0,data:this.histories}),this.routerContract=null}},{key:"start",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.messenger.next({evt:"Notice",debug:!0,message:"start getContractData"}),e.prev=1,e.next=4,this.getContractData(!0);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),e.t0;case 9:this.contractTimer=setInterval((function(){_e[_e.status].debug&&console.log("sync");try{t.getContractData(!1)}catch(e){t.message({evt:"Notice",message:"getContractData error: ".concat(e.message)})}}),this.syncInterval);case 10:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messenger.next({evt:"Notice",debug:!0,message:"init"}),this.isConnected=!1,this.connectedAccount=null,this.poolList=[],this.newPools=[],this.assetList=[],this.stakeList=[],this.histories=[],this.factoryContract="",this.nativeCurrency=null,this.messenger.next({evt:"Notice",debug:!0,message:"fetch current env chain"}),!window.ethereum){e.next=35;break}return e.next=14,z();case 14:if(t=e.sent,this.messenger.next({evt:"Notice",debug:!0,message:"current env chain is ".concat(t)}),_e[_e.status].debug&&console.log("current env chain is ".concat(t)),!_e[_e.status].supportedChains.includes(t)){e.next=34;break}return this.network=wa.a.listBlockchain().find((function(e){return e.chainId===t})),this.routerContract=_e.routerContract[this.network.chainId],n={evt:"UpdateNetwork",data:this.network},this.messenger.next(n),this.messenger.next({evt:"Notice",debug:!0,message:"current network is ".concat(this.network.key," and corresponding routerContract is ").concat(this.routerContract)}),_e[_e.status].debug&&console.log("current network is ".concat(this.network.key)),e.prev=24,e.next=27,this.start();case 27:e.next=32;break;case 29:throw e.prev=29,e.t0=e.catch(24),e.t0;case 32:e.next=35;break;case 34:throw Error("Current Network is not supported, please switch to one of following network: ".concat(this.supportedNetworks.reduce((function(e,t,n){return"".concat(0===n?e+t.key:e+", "+t.key)}),"")));case 35:case"end":return e.stop()}}),e,this,[[24,29]])})));return function(){return e.apply(this,arguments)}}()},{key:"switchNetwork",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.stop(),e.next=8;break;case 4:throw e.prev=4,e.t0=e.catch(0),_e[_e.status].debug&&console.log("switchNetwork error",e.t0),e.t0;case 8:return e.prev=8,e.next=11,this.lunar.switchBlockchain({blockchain:t});case 11:n=e.sent,this.messenger.next({evt:"Notice",debug:!0,message:"lunar switchBlockchain result: ".concat(n)}),_e[_e.status].debug&&console.log("switchNetwork result",n),e.next=20;break;case 16:throw e.prev=16,e.t1=e.catch(8),_e[_e.status].debug&&console.log("switchNetwork error",e.t1),e.t1;case 20:this.network=t,a={evt:"UpdateNetwork",data:t},this.messenger.next(a),this.messenger.next({evt:"Notice",message:"Update network: ".concat(this.network)}),e.prev=24,this.routerContract=_e.routerContract[t.chainId],this.messenger.next({evt:"Notice",debug:!0,message:"update routerContract ".concat(this.routerContract)}),_e[_e.status].debug&&console.log("switchNetwork this.routerContract",this.routerContract),e.next=34;break;case 30:throw e.prev=30,e.t2=e.catch(24),_e[_e.status].debug&&console.log("set routerContract error",e.t2),e.t2;case 34:return e.next=36,this.start();case 36:case"end":return e.stop()}}),e,this,[[0,4],[8,16],[24,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.network){e.next=2;break}throw Error("current network is ".concat(this.network));case 2:e.prev=2,e.t0=t,e.next="MetaMask"===e.t0?6:"imToken"===e.t0?10:14;break;case 6:return e.next=8,this.lunar.connect({wallet:"Metamask",blockchain:this.network});case 8:case 12:return n=e.sent,e.abrupt("break",15);case 10:return e.next=12,this.lunar.connect({wallet:"imToken",blockchain:this.network});case 14:return e.abrupt("break",15);case 15:e.next=21;break;case 17:throw e.prev=17,e.t1=e.catch(2),_e[_e.status].debug&&console.log("!!!connect in TideTimeSwapContract",e.t1),e.t1;case 21:return this.messenger.next({evt:"Notice",debug:!0,message:"lunar connect result: ".concat(n)}),e.next=24,this.getContractData(!0);case 24:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateHistory",value:function(e){var t=e.id,n=e.type,a=(e.chainId,e.transactionHash),c=e.token0,r=e.token0AmountChange,o=e.token1,s=e.token1AmountChange,i=e.timestamp,l=e.pending;return{id:t,transactionHash:a,type:n,tokenA:Object(p.a)(Object(p.a)({},c),{},{amount:r}),tokenB:Object(p.a)(Object(p.a)({},o),{},{amount:s||"--"}),dateTime:ne(i),pending:l}}},{key:"updateHistories",value:function(e){var t=this.histories.findIndex((function(t){return t.transactionHash.toLowerCase()===e.transactionHash.toLowerCase()}));-1===t?(this.histories=this.histories.concat(e),_e[_e.status].debug&&console.log("this.histories",this.histories)):(this.histories[t]=e,_e[_e.status].debug&&console.log("this.histories",this.histories))}},{key:"updateAssets",value:function(e,t){var n=this.assetList.findIndex((function(t){return e.contract===t.contract}));if(-1===n)this.assetList=this.assetList.concat(e);else if(n&&this.assetList[n].contract===e.contract){var a;(null===(a=this.assetList[n])||void 0===a?void 0:a.update)||(this.assetList[n]=e)}if(t){var c={evt:"UpdateSupportedTokens",data:this.assetList};this.messenger.next(c)}}},{key:"updatePools",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1===(a=n&&U.gt(this.poolList.length,U.minus(n,1))?this.poolList[n].poolContract.toLowerCase()===t.poolContract.toLowerCase()?n:null:this.poolList.findIndex((function(e){return t.poolContract.toLowerCase()===e.poolContract.toLowerCase()})))?(this.poolList=this.poolList.concat(t),_e[_e.status].debug&&console.log("this.poolList",this.poolList)):(this.poolList[a]=t,_e[_e.status].debug&&console.log("this.poolList",this.poolList));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAssetBalanceOf",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U.eq(t.contract,0)){e.next=4;break}e.t0=this.isConnected&&this.connectedAccount?this.connectedAccount.balanceOf:"0",e.next=7;break;case 4:return e.next=6,this.getBalance({contract:t.contract,address:null===(n=this.connectedAccount)||void 0===n?void 0:n.contract});case 6:e.t0=e.sent;case 7:return a=e.t0,e.abrupt("return",Object(p.a)(Object(p.a)({},t),{},{balanceOf:a}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolBalanceOf",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,c,r,o,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.connectedAccount.contract.replace("0x","").padStart(64,"0"),e.next=3,K("balanceOf(address)",n,t.poolContract);case 3:return a=e.sent,c=U.toCurrencyUint(parseInt(a,16),t.decimals),r=U.gt(t.totalSupply,"0")?U.div(c,t.totalSupply):"0",o=U.gt(r,"0")?U.mult(r,t.poolBalanceOfToken0):"0",s=U.gt(r,"0")?U.mult(r,t.poolBalanceOfToken1):"0",i={balanceOf:c,share:r,balanceOfToken0InPool:o,balanceOfToken1InPool:s},e.abrupt("return",Object(p.a)(Object(p.a)({},t),i));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenDetail",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.tokenDetail(this.network.chainId,t.contract);case 3:n=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),_e[_e.status].debug&&console.log("getTokenDetail error",e.t0),e.t0;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolDetail",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.poolDetail(this.network.chainId,t);case 3:n=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),_e[_e.status].debug&&console.log(e.t0),e.t0;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolReserve",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c){var r,o,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("getReserves()",null,t);case 2:return r=e.sent,o=ae(r.replace("0x",""),64),s=U.toCurrencyUint(U.toBn(o[0]),c?a.decimals:n.decimals),i=U.toCurrencyUint(U.toBn(o[1]),c?n.decimals:a.decimals),e.abrupt("return",{poolBalanceOfToken0:s,poolBalanceOfToken1:i});case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"searchToken",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,c,r,o,s,i,l,u,d,v,b,j,m,x,f,O,g;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||(c=this.assetList.findIndex((function(e){return e.contract.toLowerCase()===t.toLowerCase()})),r=-1!==c?this.assetList[c]:null),!r){e.next=3;break}return e.abrupt("return",this.assetList[c]);case 3:if(r){e.next=55;break}return e.prev=4,e.next=7,this.communicator.searchToken(this.network.chainId,t);case 7:(r=e.sent).iconSrc=U.eq(t,0)?"https://www.tidebit.one/icons/eth.png":H,e.next=55;break;case 11:if(e.prev=11,e.t0=e.catch(4),_e[_e.status].debug&&console.log("searchToken error",e.t0),this.messenger.next({evt:"Notice",message:"this.communicator.searchToken fail: ".concat(e.t0.message)}),!window.ethereum){e.next=55;break}return e.prev=16,e.next=19,this.lunar.getAsset({contract:t});case 19:u=e.sent,o=u.symbol,s=u.decimals,i=u.totalSupply,l=u.name,this.messenger.next({evt:"Notice",debug:!0,message:"lunar getAsset result: ".concat(u)}),e.next=54;break;case 27:return e.prev=27,e.t1=e.catch(16),_e[_e.status].debug&&console.log(" this.lunar.getAsset error",e.t1),this.messenger.next({evt:"Notice",debug:!0,message:"lunar getAsset error: ".concat(e.t1.message)}),e.prev=31,e.next=34,this.getData("symbol()",null,t);case 34:return d=e.sent,o=ce(ae(d)[2]),e.next=38,this.getData("decimals()",null,t);case 38:return v=e.sent,s=parseInt(v,16),e.next=42,this.getData("totalSupply()",null,t);case 42:return b=e.sent,i=parseInt(b,16),e.next=46,this.getData("name()",null,t);case 46:j=e.sent,l=ce(ae(j)[2]),e.next=54;break;case 50:throw e.prev=50,e.t2=e.catch(31),_e[_e.status].debug&&console.log(e.t2),e.t2;case 54:r={id:"".concat(this.network.chainId,"-").concat(t),contract:t,iconSrc:U.eq(t,0)?"https://www.tidebit.one/icons/eth.png":H,name:l,symbol:o,decimals:s,totalSupply:i,chainId:this.network.chainId};case 55:return e.prev=55,e.next=58,this.getTokenDetail(r);case 58:x=e.sent,e.next=64;break;case 61:throw e.prev=61,e.t3=e.catch(55),e.t3;case 64:if(_e[_e.status].debug&&console.log("searchToken detail",x),!this.isConnected||!(null===(a=this.connectedAccount)||void 0===a?void 0:a.contract)){e.next=72;break}if(/^0x[a-fA-F0-9]{40}$/.test(null===(f=this.connectedAccount)||void 0===f?void 0:f.contract)){e.next=68;break}throw Error("Connected account contract(".concat(null===(O=this.connectedAccount)||void 0===O?void 0:O.contract,") is not valid"));case 68:return e.next=70,this.getAssetBalanceOf(r);case 70:g=e.sent,m=g.balanceOf;case 72:return r=Object(p.a)(Object(p.a)(Object(p.a)({},r),x),{},{balanceOf:m}),this.updateAssets(r),e.abrupt("return",r);case 75:case"end":return e.stop()}}),e,this,[[4,11],[16,27],[31,50],[55,61]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"searchPoolByPoolContract",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_e[_e.status].debug&&console.log("searchPoolByPoolContract poolContract",t),t){e.next=3;break}return e.abrupt("return",null);case 3:return n=this.poolList.find((function(e){return e.poolContract.toLowerCase()===t.toLowerCase()})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchPoolByTokens",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,c,r,o,s,i,l,u,d,v=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.token0,a=t.token1,c=t.create,(null===n||void 0===n?void 0:n.id)&&(null===a||void 0===a?void 0:a.id)){e.next=3;break}return e.abrupt("return",null);case 3:if(c||((r=this.poolList.find((function(e){var t,c;return e.token0Contract.toLowerCase()===(U.eq(n.contract,0)?null===(t=v.nativeCurrency)||void 0===t?void 0:t.contract.toLowerCase():n.contract.toLowerCase()&&e.token1Contract.toLowerCase()===(U.eq(a.contract,0)?null===(c=v.nativeCurrency)||void 0===c?void 0:c.contract.toLowerCase():a.contract.toLowerCase()))})))?o=!1:(r=this.poolList.find((function(e){var t,c;return e.token1Contract.toLowerCase()===(U.eq(n.contract,0)?null===(t=v.nativeCurrency)||void 0===t?void 0:t.contract.toLowerCase():n.contract.toLowerCase()&&e.token0Contract.toLowerCase()===(U.eq(a.contract,0)?null===(c=v.nativeCurrency)||void 0===c?void 0:c.contract.toLowerCase():a.contract.toLowerCase()))})))&&(o=!0),_e[_e.status].debug&&(console.log("searchPoolByTokens pool",r),console.log("searchPoolByTokens reverse",o))),r){e.next=15;break}return e.prev=5,e.next=8,this.communicator.searchPool(this.network.chainId,U.eq(n.contract,0)?null===(s=this.nativeCurrency)||void 0===s?void 0:s.contract:n.contract,U.eq(a.contract,0)?null===(i=this.nativeCurrency)||void 0===i?void 0:i.contract:a.contract,!!c);case 8:r=e.sent,_e[_e.status].debug&&console.log("searchPoolByTokens pool",r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),_e[_e.status].debug&&console.log("searchPool api throw error",e.t0);case 15:if(!r){e.next=24;break}return void 0===o&&(o=r.token0Contract.toLowerCase()===(U.eq(a.contract,"0")?null===(l=this.nativeCurrency)||void 0===l?void 0:l.contract.toLowerCase():a.contract.toLowerCase())||r.token1Contract.toLowerCase()===(U.eq(n.contract,"0")?null===(u=this.nativeCurrency)||void 0===u?void 0:u.contract.toLowerCase():n.contract.toLowerCase()),_e[_e.status].debug&&console.log("searchPoolByTokens reverse",o)),e.next=19,this.getPoolReserve(r.poolContract,n,a,o);case 19:return d=e.sent,r=Object(p.a)(Object(p.a)({},r),{},{token0:n,token1:a,poolBalanceOfToken0:d.poolBalanceOfToken0,poolBalanceOfToken1:d.poolBalanceOfToken1,name:"".concat(n.symbol,"/").concat(a.symbol),reverse:o}),e.abrupt("return",r);case 24:return e.abrupt("return",null);case 25:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchStake",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenPriceData",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.tokenPriceData(this.network.chainId,t);case 3:return n=e.sent,a=n.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{x:new Date(parseInt(e.x))})})),_e[_e.status].debug&&console.log("getTokenPriceData priceData",a),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),c=Y(),_e[_e.status].debug&&console.log("getTokenPriceData error",e.t0),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolPriceData",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.poolPriceData(this.network.chainId,t);case 3:return n=e.sent,a=n.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{x:new Date(parseInt(e.x))})})),_e[_e.status].debug&&console.log("getPoolPriceData priceData",a),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),c=Y(),_e[_e.status].debug&&console.log("getPoolPriceData error",e.t0),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTVLHistory",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.tvlHistory(this.network.chainId);case 3:return t=e.sent,n=t.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{date:ne(parseInt(e.date)).day})})),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),_e[_e.status].debug&&console.log("getTVLHistory error",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getVolumeData",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.volume24hr(this.network.chainId);case 3:return t=e.sent,n=t.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{date:ne(parseInt(e.date)).day})})),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),_e[_e.status].debug&&console.log("getVolumeData error",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getOverviewData",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,c,r,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.overview(this.network.chainId);case 3:r=e.sent,_e[_e.status].debug&&console.log("getOverviewData",r),o=[{title:"Volume 24H",data:{value:r.volume.value,change:!(null===r||void 0===r||null===(t=r.volume)||void 0===t?void 0:t.change)||isNaN(r.volume.change)?"0":U.mult(r.volume.change,"100")}},{title:"Fees 24H",data:{value:null===(n=r.fee24)||void 0===n?void 0:n.value,change:!(null===r||void 0===r||null===(a=r.fee24)||void 0===a?void 0:a.change)||isNaN(r.fee24.change)?"0":U.mult(r.fee24.change,"100")}},{title:"TVL",data:{value:r.tvl.value,change:!(null===r||void 0===r||null===(c=r.tvl)||void 0===c?void 0:c.change)||isNaN(r.tvl.change)?"0":U.mult(r.tvl.change,"100")}}],s={evt:"UpdateOveriew",data:o},this.messenger.next(s),this.messenger.next({evt:"Notice",debug:!0,message:"success to fetch overiew data"}),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),_e[_e.status].debug&&console.log("getOverviewData error",e.t0),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSupportedStakes",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,c=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.stakeList(this.network.chainId);case 3:n=e.sent,_e[_e.status].debug&&console.log("getSupportedStakes stakes",n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t=e.t0;case 10:return t&&(n=[]),e.next=13,Promise.all(n.map((function(e,t){return new Promise(function(){var t=Object(b.a)(h.a.mark((function t(n,a){var r,o,s,i,l,u,d,v,b,j,m,x,f,O,g,k,_,w;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.stakedToken,s=e.rewardToken,!c.isConnected||!(null===(r=c.connectedAccount)||void 0===r?void 0:r.contract)){t.next=59;break}if(null===(d=c.connectedAccount)||void 0===d?void 0:d.contract){t.next=5;break}throw Error("Connected account contract(".concat(null===(v=c.connectedAccount)||void 0===v?void 0:v.contract,") is not valid"));case 5:return t.prev=5,t.next=8,c.getAssetBalanceOf(o);case 8:b=t.sent,o.balanceOf=b.balanceOf,_e[_e.status].debug&&console.log("getSupportedStakes balanceOfStakedToken balanceOf",o.balanceOf),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),_e[_e.status].debug&&console.log("getSupportedStakes balanceOfStakedToken error",t.t0),a(t.t0);case 17:return t.prev=17,t.next=20,c.isAllowanceEnough(o.contract,"0",o.decimals,e.contract);case 20:j=t.sent,o.allowance=j.allowanceAmount,t.next=28;break;case 24:t.prev=24,t.t1=t.catch(17),_e[_e.status].debug&&console.log("getSupportedStakes stakeAllowanceAmount error",t.t1),a(t.t1);case 28:return t.prev=28,x=null===(m=c.connectedAccount)||void 0===m?void 0:m.contract.replace("0x","").padStart(64,"0"),t.next=32,c.getData("userInfo(address)",x,e.contract);case 32:f=t.sent,O=ae(f.replace("0x",""),64),_e[_e.status].debug&&console.log("getSupportedStakes userInfo",O),i=U.toCurrencyUint(U.toBn(O[0]),o.decimals),_e[_e.status].debug&&console.log("getSupportedStakes userInfo amount",i),l=U.toCurrencyUint(U.toBn(O[1]),s.decimals),t.next=44;break;case 40:t.prev=40,t.t2=t.catch(28),_e[_e.status].debug&&console.log("getSupportedStakes userInfo error",t.t2),a(t.t2);case 44:return t.prev=44,k=null===(g=c.connectedAccount)||void 0===g?void 0:g.contract.replace("0x","").padStart(64,"0"),t.next=48,c.getData("pendingReward(address)",k,e.contract);case 48:_=t.sent,u=U.toCurrencyUint(U.toBn(_),s.decimals),_e[_e.status].debug&&console.log("getSupportedStakes pendingReward",u),t.next=57;break;case 53:t.prev=53,t.t3=t.catch(44),_e[_e.status].debug&&console.log("getSupportedStakes pendingReward error",t.t3),a(t.t3);case 57:t.next=61;break;case 59:o.balanceOf="0",o.allowance="0";case 61:w=Object(p.a)(Object(p.a)({},e),{},{stakedToken:o,rewardToken:s,profit:{inCrypto:l||"0",inFiat:"0"},staked:{inCrypto:i||"0",inFiat:"0"},pendingReward:{inCrypto:u||"0",inFiat:"0"}}),n(w);case 63:case"end":return t.stop()}}),t,null,[[5,13],[17,24],[28,40],[44,53]])})));return function(e,n){return t.apply(this,arguments)}}())}))).catch((function(e){throw console.error(e.message),e}));case 13:n=e.sent,this.stakeList=n,_e[_e.status].debug&&console.log("getSupportedStakes this.stakeList",this.stakeList),a={evt:"UpdateSupportedStakes",data:this.stakeList},this.messenger.next(a),t?(console.log("getSupportedStakes error",t),this.messenger.next({evt:"Error",error:Error("Stake is not supported on current chain")})):this.messenger.next({evt:"Notice",debug:!0,message:"success to fetch supported stakes[".concat(this.stakeList.length,"]")});case 19:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSupportedTokens",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,c,r,o=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="0",e.prev=1,e.next=4,this.communicator.tokenList(this.network.chainId);case 4:n=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("getSupportedTokens error",e.t0),t=e.t0;case 11:return t&&(n=[]),_e[_e.status].debug&&console.log("getSupportedTokens tokens",n),e.next=15,Promise.all(n.map((function(e){return new Promise(function(){var t=Object(b.a)(h.a.mark((function t(n,c){var r,s,i,l,u,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.getTokenDetail(e);case 3:s=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),o.messenger.next({evt:"Error",error:t.t0});case 9:if(i=Object(p.a)(Object(p.a)(Object(p.a)({},e),s),{},{iconSrc:U.eq(e.contract,0)?"https://www.tidebit.one/icons/eth.png":H}),!o.isConnected||!(null===(r=o.connectedAccount)||void 0===r?void 0:r.contract)){t.next=27;break}if(/^0x[a-fA-F0-9]{40}$/.test(null===(l=o.connectedAccount)||void 0===l?void 0:l.contract)){t.next=13;break}throw Error("Connected account contract(".concat(null===(u=o.connectedAccount)||void 0===u?void 0:u.contract,") is not valid"));case 13:return t.prev=13,t.next=16,o.getAssetBalanceOf(i);case 16:d=t.sent,U.gt(d.balanceOf,"0")&&(a=U.plus(a,d.balanceOf)),o.updateAssets(d),n(d),t.next=25;break;case 22:t.prev=22,t.t1=t.catch(13),c(t.t1);case 25:t.next=29;break;case 27:o.updateAssets(i),n(i);case 29:case"end":return t.stop()}}),t,null,[[0,6],[13,22]])})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){throw console.error(e.message),e}))}))).catch((function(e){throw console.error(e.message),e}));case 15:return n=e.sent,c={evt:"UpdateTotalBalance",debug:!0,data:a},this.messenger.next(c),this.assetList=n,_e[_e.status].debug&&console.log("getSupportedTokens this.assetList",this.assetList),r={evt:"UpdateSupportedTokens",debug:!0,data:this.assetList},this.messenger.next(r),t?this.messenger.next({evt:"Error",error:t}):this.messenger.next({evt:"Notice",debug:!0,message:"success to fetch supported tokens[".concat(n.length,"]")}),e.abrupt("return",this.assetList);case 24:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSupportedPools",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,c=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.poolList(this.network.chainId);case 3:n=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),_e[_e.status].debug&&console.log("UpdateSupportedPools error",e.t0),t=e.t0;case 10:return t&&(n=[]),e.next=13,Promise.all(n.map((function(e){return new Promise(function(){var t=Object(b.a)(h.a.mark((function t(n,a){var r,o,s,i,l,u,d,v,b,j,m,x;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.token0Contract===(null===(r=c.nativeCurrency)||void 0===r?void 0:r.contract)&&(i=c.assetList.find((function(e){return U.eq(e.contract,0)}))),t.prev=1,i){t.next=6;break}return t.next=5,c.searchToken(e.token0Contract);case 5:i=t.sent;case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("search token0 error: ".concat(t.t0.message)),a(t.t0);case 12:if(e.token1Contract===(null===(o=c.nativeCurrency)||void 0===o?void 0:o.contract)&&(l=c.assetList.find((function(e){return U.eq(e.contract,0)}))),t.prev=13,l){t.next=18;break}return t.next=17,c.searchToken(e.token1Contract);case 17:l=t.sent;case 18:t.next=24;break;case 20:t.prev=20,t.t1=t.catch(13),console.error("search token1 error: ".concat(t.t1.message)),a(t.t1);case 24:return c.newPools=c.newPools.filter((function(e){return e.id!=="".concat(c.network.chainId,"-").concat(e.poolContract.toLowerCase())})),t.prev=25,t.next=28,c.getPoolReserve(e.poolContract,i,l,!1);case 28:u=t.sent,t.next=35;break;case 31:t.prev=31,t.t2=t.catch(25),console.error("getPoolReserve error: ".concat(t.t2.message)),a(t.t2);case 35:return v=U.toCurrencyUint(e.totalSupply,e.decimals),t.prev=36,t.next=39,c.getPoolDetail(e.poolContract);case 39:d=t.sent,t.next=46;break;case 42:t.prev=42,t.t3=t.catch(36),console.error("getPoolDetail error: ".concat(t.t3.message)),a(t.t3);case 46:if(b=Object(p.a)(Object(p.a)(Object(p.a)({},e),{},{token0:i,token1:l,poolBalanceOfToken0:u.poolBalanceOfToken0,poolBalanceOfToken1:u.poolBalanceOfToken1,name:"".concat(i.symbol,"/").concat(l.symbol)},d),{},{totalSupply:v,reverse:!1}),!c.isConnected||!(null===(s=c.connectedAccount)||void 0===s?void 0:s.contract)){t.next=63;break}if(/^0x[a-fA-F0-9]{40}$/.test(null===(j=c.connectedAccount)||void 0===j?void 0:j.contract)){t.next=50;break}throw Error("Connected account contract(".concat(null===(m=c.connectedAccount)||void 0===m?void 0:m.contract,") is not valid"));case 50:return t.prev=50,t.next=53,c.getPoolBalanceOf(b);case 53:x=t.sent,n(x),t.next=61;break;case 57:t.prev=57,t.t4=t.catch(50),console.error("getPoolBalanceOf error: ".concat(t.t4.message)),a(t.t4);case 61:t.next=64;break;case 63:n(b);case 64:case"end":return t.stop()}}),t,null,[[1,8],[13,20],[25,31],[36,42],[50,57]])})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){throw console.error(e.message),e}))}))).catch((function(e){throw console.error(e.message),e}));case 13:n=e.sent,_e[_e.status].debug&&console.log("getSupportedPools this.newPools",this.newPools),this.poolList=this.newPools.concat(n),_e[_e.status].debug&&console.log("getSupportedPools this.poolList",this.poolList),a={evt:"UpdateSupportedPools",data:this.poolList},this.messenger.next(a),t?this.messenger.next({evt:"Error",error:t}):this.messenger.next({evt:"Notice",debug:!0,message:"success to fetch supported pools[".concat(this.poolList.length,"]")});case 20:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"formateHistory",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,c,r,o,s,i,l,u,d,p,v,b,j,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.type){e.next=13;break}return e.next=3,this.searchToken(t.fromTokenContract);case 3:return n=e.sent,e.next=6,this.searchToken(t.toTokenContract);case 6:return a=e.sent,c=U.toCurrencyUint(t.amountIn,n.decimals),r=U.toCurrencyUint(t.amountOut,a.decimals),o=this.updateHistory({id:t.id,type:I,transactionHash:t.transactionHash,chainId:t.chainId,token0:n,token1:a,token0AmountChange:c,token1AmountChange:r,timestamp:1e3*t.timestamp}),e.abrupt("return",o);case 13:if(1!==t.type){e.next=26;break}return e.next=16,this.searchToken(t.token0Contract);case 16:return s=e.sent,e.next=19,this.searchToken(t.token1Contract);case 19:return i=e.sent,l=U.toCurrencyUint(t.token0AmountIn,s.decimals),u=U.toCurrencyUint(t.token1AmountIn,i.decimals),d=this.updateHistory({id:t.id,type:L,transactionHash:t.transactionHash,chainId:t.chainId,token0:s,token1:i,token0AmountChange:l,token1AmountChange:u,timestamp:1e3*t.timestamp}),e.abrupt("return",d);case 26:if(2!==t.type){e.next=39;break}return e.next=29,this.searchToken(t.token0Contract);case 29:return p=e.sent,e.next=32,this.searchToken(t.token1Contract);case 32:return v=e.sent,b=U.toCurrencyUint(t.token0AmountOut,p.decimals),j=U.toCurrencyUint(t.token1AmountOut,v.decimals),m=this.updateHistory({id:t.id,type:E,transactionHash:t.transactionHash,chainId:t.chainId,token0:p,token1:v,token0AmountChange:b,token1AmountChange:j,timestamp:1e3*t.timestamp}),e.abrupt("return",m);case 39:throw Error("history type is not allowed");case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAddrHistory",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,c,r,o,s=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isConnected||!(null===(t=this.connectedAccount)||void 0===t?void 0:t.contract)){e.next=17;break}if(null===(c=this.connectedAccount)||void 0===c?void 0:c.contract){e.next=3;break}throw Error("Connected account contract(".concat(null===(r=this.connectedAccount)||void 0===r?void 0:r.contract,") is not valid"));case 3:return e.prev=3,e.next=6,this.communicator.addrTransHistory(this.network.chainId,this.connectedAccount.contract);case 6:a=e.sent,_e[_e.status].debug&&console.log("getAddrHistory.histories",a),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),_e[_e.status].debug&&console.log("getAddrHistory error",e.t0),n=e.t0,a=[];case 15:e.next=18;break;case 17:a=[];case 18:return e.next=20,Promise.all(a.map((function(e){return new Promise(function(){var t=Object(b.a)(h.a.mark((function t(n,a){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.formateHistory(e);case 3:c=t.sent,s.updateHistories(c),n(c),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){throw console.error(e.message),e}))}))).catch((function(e){throw console.error(e.message),n}));case 20:a=e.sent,o={evt:"UpdateHistories",data:this.histories},this.messenger.next(o),_e[_e.status].debug&&console.log("this.histories",this.histories),n?this.messenger.next({evt:"Error",error:n}):this.messenger.next({evt:"Notice",debug:!0,message:"success to fetch connected account's historis"});case 25:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getPoolHistory",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.communicator.poolTransHistory(this.network.chainId,t);case 2:return n=e.sent,_e[_e.status].debug&&console.log("getPoolHistory.histories",n),e.next=6,Promise.all(n.map((function(e){return new Promise(function(){var t=Object(b.a)(h.a.mark((function t(n,c){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.formateHistory(e);case 2:r=t.sent,n(r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenHistory",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,c,r=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.communicator.tokenTransHistory(this.network.chainId,t);case 2:return n=e.sent,_e[_e.status].debug&&console.log("getTokenHistory histories",n),e.next=6,Promise.all(n.map((function(e){return new Promise(function(){var t=Object(b.a)(h.a.mark((function t(n,a){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.formateHistory(e);case 2:c=t.sent,n(c);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 6:if(n=e.sent,!U.eq(t,"0")){e.next=17;break}return e.next=10,this.communicator.tokenTransHistory(this.network.chainId,null===(a=this.nativeCurrency)||void 0===a?void 0:a.contract);case 10:return c=e.sent,_e[_e.status].debug&&console.log("getTokenHistory _histories",c),e.next=14,Promise.all(c.map((function(e){return new Promise(function(){var t=Object(b.a)(h.a.mark((function t(n,a){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.formateHistory(e);case 2:c=t.sent,n(c);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 14:c=e.sent,n=n.concat(c),_e[_e.status].debug&&console.log("getTokenHistory histories",n);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConnectInfo",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"eth_accounts"});case 5:t=e.sent,this.messenger.next({evt:"Notice",debug:!0,message:"window.ethereum.request eth_accounts: ".concat(t)}),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:if(!(t.length>0&&/^0x[a-fA-F0-9]{40}$/.test(t[0]))){e.next=41;break}return e.prev=13,e.next=16,this.lunar.connect({wallet:this.lunar.env.wallets[0],blockchain:this.network});case 16:n=e.sent,this.isConnected=!0,_e[_e.status].debug&&console.log("Lunar connect result",n),this.messenger.next({evt:"Notice",debug:!0,message:"Lunar connect result: ".concat(n)}),e.next=27;break;case 22:e.prev=22,e.t1=e.catch(13),this.isConnected=!1,this.connectedAccount=null,this.messenger.next({evt:"Error",message:"Lunar connect error: ".concat(e.t1.message)});case 27:if(!this.isConnected){e.next=39;break}return e.prev=28,e.t2=t[0],e.next=32,this.getBalance({address:t[0]});case 32:e.t3=e.sent,this.connectedAccount={contract:e.t2,balanceOf:e.t3},e.next=39;break;case 36:throw e.prev=36,e.t4=e.catch(28),e.t4;case 39:e.next=43;break;case 41:this.isConnected=!1,this.connectedAccount=null;case 43:a={evt:"UpdateConnectedStatus",data:this.isConnected},this.messenger.next(a),c={evt:"UpdateConnectedAccount",data:this.connectedAccount},this.messenger.next(c),this.messenger.next({evt:"Notice",debug:!0,message:"Connect status: (".concat(this.isConnected?"Connected":"disconnected",")")}),this.isConnected&&this.messenger.next({evt:"Notice",debug:!0,message:"Connected account is: (".concat(this.connectedAccount.contract,"), balance: ").concat(this.connectedAccount.balanceOf)});case 49:case"end":return e.stop()}}),e,this,[[2,9],[13,22],[28,36]])})));return function(){return e.apply(this,arguments)}}()},{key:"getContractData",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,c,r,o,s,i,l,u,d,p,v=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]&&v[0],!(Date.now()-this.lastTimeSync>this.syncInterval||t)){e.next=85;break}if(!window.ethereum){e.next=30;break}return e.prev=4,e.next=7,this.getConnectInfo();case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(4),e.t0;case 12:return e.prev=12,e.next=15,this.getNativeCurrency(t);case 15:e.next=20;break;case 17:throw e.prev=17,e.t1=e.catch(12),e.t1;case 20:return e.prev=20,e.next=23,this.getFactoryContract(t);case 23:e.next=28;break;case 25:throw e.prev=25,e.t2=e.catch(20),e.t2;case 28:e.next=50;break;case 30:return this.isConnected=!1,r={evt:"UpdateConnectedStatus",data:this.isConnected},this.messenger.next(r),this.connectedAccount=null,o={evt:"UpdateConnectedAccount",data:this.connectedAccount},this.messenger.next(o),s={evt:"UpdateNativeCurrency",data:this.nativeCurrency},this.messenger.next(s),this.messenger.next({evt:"Notice",debug:!0,message:"success to fetch native currency(".concat(null===(n=this.nativeCurrency)||void 0===n?void 0:n.symbol,") contract(").concat(null===(a=this.nativeCurrency)||void 0===a?void 0:a.contract," and balance ").concat(null===(c=this.nativeCurrency)||void 0===c?void 0:c.balanceOf,")")}),e.prev=39,e.next=42,this.communicator.contracts(this.network.chainId);case 42:i=e.sent,this.nativeCurrency={contract:"".concat(i.weth),decimals:this.network.nativeCurrency.decimals,symbol:this.network.nativeCurrency.symbol},this.factoryContract=i.factory,e.next=50;break;case 47:throw e.prev=47,e.t3=e.catch(39),e.t3;case 50:return this.isInit=!0,l={evt:"isInit",data:this.isInit},this.messenger.next(l),e.prev=53,e.next=56,this.getOverviewData();case 56:e.next=61;break;case 58:e.prev=58,e.t4=e.catch(53),this.messenger.next({evt:"Error",error:e.t4});case 61:return e.prev=61,e.next=64,this.getTVLHistory();case 64:return u=e.sent,e.next=67,this.getVolumeData();case 67:d=e.sent,p={evt:"UpdateChart",data:{tvl:u,volume:d}},this.messenger.next(p),this.messenger.next({evt:"Notice",debug:!0,message:"success to fetch tvl & volume chart data"}),e.next=76;break;case 73:e.prev=73,e.t5=e.catch(61),this.messenger.next({evt:"Error",error:e.t5});case 76:return e.next=78,this.getSupportedTokens();case 78:return e.next=80,this.getSupportedPools();case 80:return e.next=82,this.getSupportedStakes();case 82:return e.next=84,this.getAddrHistory();case 84:this.lastTimeSync=Date.now();case 85:case"end":return e.stop()}}),e,this,[[4,9],[12,17],[20,25],[39,47],[53,58],[61,73]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAmountIn",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c){var r,o,s,i,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"getAmountIn(uint256,uint256,uint256)",r=U.toSmallestUnitHex(t,n[n.length-1].decimals).padStart(64,"0"),o=U.toSmallestUnitHex(a,n[0].decimals).padStart(64,"0"),s=U.toSmallestUnitHex(c,n[n.length-1].decimals).padStart(64,"0"),i=r+o+s,_e[_e.status].debug&&console.log("getAmountIn data",i),e.prev=6,e.next=9,this.getData("getAmountIn(uint256,uint256,uint256)",i,this.routerContract);case 9:return l=e.sent,u=U.toCurrencyUint(U.toBn(l),n[0].decimals),_e[_e.status].debug&&console.log("getAmountIn amountIn",u),e.abrupt("return",u);case 15:throw e.prev=15,e.t0=e.catch(6),_e[_e.status].debug&&console.log("getAmountIn error",e.t0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[6,15]])})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"getAmountOut",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c){var r,o,s,i,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"getAmountOut(uint256,uint256,uint256)",r=U.toSmallestUnitHex(t,n[0].decimals).padStart(64,"0"),o=U.toSmallestUnitHex(a,n[0].decimals).padStart(64,"0"),s=U.toSmallestUnitHex(c,n[n.length-1].decimals).padStart(64,"0"),i=r+o+s,_e[_e.status].debug&&console.log("getDetails=>getAmountOut data",i),e.prev=6,e.next=9,this.getData("getAmountOut(uint256,uint256,uint256)",i,this.routerContract);case 9:return l=e.sent,_e[_e.status].debug&&console.log("getAmountOut result",l),u=U.toCurrencyUint(U.toBn(l),n[n.length-1].decimals),_e[_e.status].debug&&console.log("getAmountOut amountIn",u),e.abrupt("return",u);case 16:throw e.prev=16,e.t0=e.catch(6),_e[_e.status].debug&&console.log("getAmountIn error",e.t0),e.t0;case 20:case"end":return e.stop()}}),e,this,[[6,16]])})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"getAmountsIn",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,c,r,o,s,i,l,u,d,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _e[_e.status].debug&&console.log("getAmountsIn tokens",n),"getAmountsIn(uint256,address[])",c=U.toSmallestUnitHex(t,n[n.length-1].decimals).split(".")[0].padStart(64,"0"),r=U.toHex(n.length).padStart(64,"0"),o=null===(a=this.nativeCurrency)||void 0===a?void 0:a.contract.replace("0x","").padStart(64,"0"),s=U.gt(n[0].contract,"0")?n[0].contract.replace("0x","").padStart(64,"0"):o,i=U.gt(n[n.length-1].contract,"0")?n[n.length-1].contract.replace("0x","").padStart(64,"0"):o,l=c+"0000000000000000000000000000000000000000000000000000000000000040"+r+s+i,_e[_e.status].debug&&console.log("getAmountsIn data",l),e.prev=9,e.next=12,this.getData("getAmountsIn(uint256,address[])",l,this.routerContract);case 12:return u=e.sent,_e[_e.status].debug&&console.log("getAmountsIn result",u),d=ae(u.replace("0x",""),64)[2],_e[_e.status].debug&&console.log("getAmountsIn parsedResult",d),p=U.toCurrencyUint(U.toBn(d),n[0].decimals),_e[_e.status].debug&&console.log("getAmountsIn amountIn",p),e.abrupt("return",p);case 21:throw e.prev=21,e.t0=e.catch(9),_e[_e.status].debug&&console.log("getAmountsIn error",e.t0),e.t0;case 25:case"end":return e.stop()}}),e,this,[[9,21]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAmountsOut",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,c,r,o,s,i,l,u,d,p,v;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"getAmountsOut(uint256,address[])",c=U.toSmallestUnitHex(t,n[0].decimals).split(".")[0].padStart(64,"0"),r=U.toHex(n.length).padStart(64,"0"),o=null===(a=this.nativeCurrency)||void 0===a?void 0:a.contract.replace("0x","").padStart(64,"0"),s=U.gt(n[0].contract,"0")?n[0].contract.replace("0x","").padStart(64,"0"):o,i=U.gt(n[n.length-1].contract,"0")?n[n.length-1].contract.replace("0x","").padStart(64,"0"):o,l=c+"0000000000000000000000000000000000000000000000000000000000000040"+r+s+i,_e[_e.status].debug&&console.log("getAmountsOut data",l),e.prev=8,e.next=11,this.getData("getAmountsOut(uint256,address[])",l,this.routerContract);case 11:return u=e.sent,_e[_e.status].debug&&console.log("getAmountsOut result",u),d=ae(u.replace("0x",""),64),p=d[d.length-1],_e[_e.status].debug&&console.log("getAmountsOut parsedResult",p),v=U.toCurrencyUint(U.toBn(p),n[n.length-1].decimals),_e[_e.status].debug&&console.log("getAmountsOut amountOut",v),e.abrupt("return",v);case 21:throw e.prev=21,e.t0=e.catch(8),_e[_e.status].debug&&console.log("getAmountsOut error",e.t0),e.t0;case 25:case"end":return e.stop()}}),e,this,[[8,21]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"isAllowanceEnough",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c){var r,o,s,i,l,u,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"allowance(address,address)",s=null===(r=this.connectedAccount)||void 0===r?void 0:r.contract.replace("0x","").padStart(64,"0"),i=c?null===c||void 0===c?void 0:c.replace("0x","").padStart(64,"0"):null===(o=this.routerContract)||void 0===o?void 0:o.replace("0x","").padStart(64,"0"),l=s+i,e.next=6,this.getData("allowance(address,address)",l,t);case 6:return u=e.sent,_e[_e.status].debug&&console.log("allowance result",u),d=U.toCurrencyUint(U.toBn(u),a),_e[_e.status].debug&&console.log("allowance amount",d),e.abrupt("return",{isEnough:U.gt(d,n),allowanceAmount:d});case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"approve",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,c,r,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"approve(address,uint256)",a="0x".concat(V()("approve(address,uint256)").toString("hex").slice(0,8)),c=n?n.replace("0x","").padStart(64,"0"):this.routerContract.replace("0x","").padStart(64,"0"),r="".padEnd(64,"f"),0,o={to:t,amount:0,data:a+c+r},_e[_e.status].debug&&console.log("approve transaction",o),e.prev=8,this.messenger.next({evt:"Notice",debug:!0,message:"lunar send transaction: ".concat(o.toString())}),e.next=12,this.lunar.send(o);case 12:return s=e.sent,this.messenger.next({evt:"Notice",debug:!0,message:"lunar send transaction: ".concat(s)}),_e[_e.status].debug&&console.log("approve result",s),e.abrupt("return",s);case 18:throw e.prev=18,e.t0=e.catch(8),e.t0;case 21:case"end":return e.stop()}}),e,this,[[8,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createPair",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,c,r,o,s,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"createPair(address,address)",a="0x".concat(V()("createPair(address,address)").toString("hex").slice(0,8)),c=t.replace("0x","").padStart(64,"0"),r=n.replace("0x","").padStart(64,"0"),o=a+c+r,s=0,e.prev=6,e.next=9,this.getFactoryContract();case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(6),e.t0;case 14:return i={to:this.factoryContract,amount:s,data:o},this.messenger.next({evt:"Notice",debug:!0,message:"lunar send transaction: ".concat(i)}),e.next=18,this.lunar.send(i);case 18:return l=e.sent,this.messenger.next({evt:"Notice",debug:!0,message:"lunar send transaction: ".concat(l)}),_e[_e.status].debug&&console.log("createPair result",l),e.abrupt("return",l);case 22:case"end":return e.stop()}}),e,this,[[6,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"formateAddLiquidity",value:function(e){var t,n,a=e.pool,c=e.tokenA,r=e.tokenB,o=e.amountADesired,s=e.amountBDesired,i=e.type;if(_e[_e.status].debug&&console.log("formateAddLiquidity pool",a),!a)return{tokenA:c,tokenB:r,amountADesired:o,amountBDesired:s};switch(i){case"selected":return n=o?U.mult(a.reverse?U.div(a.poolBalanceOfToken0,a.poolBalanceOfToken1):U.div(a.poolBalanceOfToken1,a.poolBalanceOfToken0),o):"0",{tokenA:a.token0,tokenB:a.token1,amountADesired:o,amountBDesired:n,pool:a};case"paired":return _e[_e.status].debug&&console.log("formateAddLiquidity",s),t=s?U.mult(a.reverse?U.div(a.poolBalanceOfToken1,a.poolBalanceOfToken0):U.div(a.poolBalanceOfToken0,a.poolBalanceOfToken1),s):"0",{tokenA:a.token0,tokenB:a.token1,amountADesired:t,amountBDesired:s,pool:a};default:throw Error("type cannot be null")}}},{key:"addLiquidityETH",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r){var o,s,i,l,u,d,p,v,b,j,m,x,f,O,g;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _e[_e.status].debug&&(console.log("addLiquidityETH token",t),console.log("addLiquidityETH amountToken",n),console.log("addLiquidityETH amountETH",a)),"addLiquidityETH(address,uint256,uint256,uint256,address,uint256)",s="0x".concat(V()("addLiquidityETH(address,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),i=t.contract.replace("0x","").padStart(64,"0"),l=U.toSmallestUnitHex(n,t.decimals).split(".")[0].padStart(64,"0"),u=U.toHex(Math.floor(U.mult(U.toSmallestUnit(n,t.decimals),U.minus("1",U.div(c||"0.5","100"))))).padStart(64,"0"),_e[_e.status].debug&&console.log("amountTokenMin",u),d=U.toHex(Math.floor(U.mult(U.toSmallestUnit(a,18),U.minus("1",U.div(c||"0.5","100"))))).padStart(64,"0"),_e[_e.status].debug&&console.log("amountETHMin",d),p=null===(o=this.connectedAccount)||void 0===o?void 0:o.contract.replace("0x","").padStart(64,"0"),v=U.toHex(U.plus(Math.round(U.div(Date.now(),1e3)),U.mult(r||"30",60))).padStart(64,"0"),b=s+i+l+u+d+p+v,_e[_e.status].debug&&console.log("data",b),j="".concat(a).split("."),_e[_e.status].debug&&console.log("splitChunk",j),m={to:this.routerContract,amount:j.length>1&&j[1].length>18?"".concat(j[0],".").concat(j[1].substring(0,18)):a,data:b},e.prev=16,_e[_e.status].debug&&console.log("addLiquidityETH transaction",m),this.messenger.next({evt:"Notice",debug:!0,message:"lunar send addLiquidityETH transaction: ".concat(m)}),e.next=21,this.lunar.send(m);case 21:return x=e.sent,this.messenger.next({evt:"Notice",message:"lunar send addLiquidityETH transaction: ".concat(x)}),f={id:"".concat(this.network.chainId,"-").concat(x.toString()),type:L,transactionHash:x.toString(),chainId:this.network.chainId,token0:t,token1:this.assetList.find((function(e){return U.eq(e.contract,"0")})),token0AmountChange:U.mult(n,U.minus("1",U.div(c||"0.5","100"))),token1AmountChange:U.mult(a,U.minus("1",U.div(c||"0.5","100"))),timestamp:Date.now(),pending:!0},O=this.updateHistory(f),this.updateHistories(O),g={evt:"UpdateHistories",data:this.histories},this.messenger.next(g),_e[_e.status].debug&&console.log("addLiquidityETH result",x),e.abrupt("return",f);case 32:throw e.prev=32,e.t0=e.catch(16),_e[_e.status].debug&&console.log("addLiquidityETH error",e.t0),e.t0;case 36:case"end":return e.stop()}}),e,this,[[16,32]])})));return function(t,n,a,c,r){return e.apply(this,arguments)}}()},{key:"addLiquidity",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r,o){var s,i,l,u,d,p,v,b,j,m,x,f,O,g,k,_;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"addLiquidity(address,address,uint256,uint256,uint256,uint256,address,uint256)",i="0x".concat(V()("addLiquidity(address,address,uint256,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),l=t.contract.replace("0x","").padStart(64,"0"),u=n.contract.replace("0x","").padStart(64,"0"),d=U.toSmallestUnitHex(a,t.decimals).split(".")[0].padStart(64,"0"),p=U.toSmallestUnitHex(c,n.decimals).split(".")[0].padStart(64,"0"),v=U.toHex(Math.floor(U.mult(U.toSmallestUnit(a,t.decimals),U.minus("1",U.div(r||"0.5","100"))))).padStart(64,"0"),b=U.toHex(Math.floor(U.mult(U.toSmallestUnit(c,n.decimals),U.minus("1",U.div(r||"0.5","100"))))).padStart(64,"0"),j=null===(s=this.connectedAccount)||void 0===s?void 0:s.contract.replace("0x","").padStart(64,"0"),m=U.toHex(U.plus(Math.round(U.div(Date.now(),1e3)),U.mult(o||"30",60))).padStart(64,"0"),x=i+l+u+d+p+v+b+j+m,0,f={to:this.routerContract,amount:0,data:x},e.prev=13,_e[_e.status].debug&&console.log("addLiquidity transaction",f),this.messenger.next({evt:"Notice",debug:!0,message:"lunar send addLiquidity transaction: ".concat(f)}),e.next=18,this.lunar.send(f);case 18:return O=e.sent,this.messenger.next({evt:"Notice",message:"lunar send addLiquidity transaction: ".concat(O)}),_e[_e.status].debug&&console.log("addLiquidity result",O),g={id:"".concat(this.network.chainId,"-").concat(O.toString()),type:L,transactionHash:O.toString(),chainId:this.network.chainId,token0:t,token1:n,token0AmountChange:U.mult(a,U.minus("1",U.div(r||"0.5","100"))),token1AmountChange:U.mult(c,U.minus("1",U.div(r||"0.5","100"))),timestamp:Date.now(),pending:!0},k=this.updateHistory(g),this.updateHistories(k),_={evt:"UpdateHistories",data:this.histories},this.messenger.next(_),e.abrupt("return",g);case 29:throw e.prev=29,e.t0=e.catch(13),_e[_e.status].debug&&console.log("addLiquidity error",e.t0),e.t0;case 33:case"end":return e.stop()}}),e,this,[[13,29]])})));return function(t,n,a,c,r,o){return e.apply(this,arguments)}}()},{key:"provideLiquidity",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,c,r,o,s,i,l,u,d,v,j=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.tokenA,a=t.tokenB,c=t.amountADesired,r=t.amountBDesired,o=t.slippage,s=t.deadline,i=t.create,l=t.reverse,!U.eq(null===n||void 0===n?void 0:n.contract,0)&&!U.eq(null===a||void 0===a?void 0:a.contract,0)){e.next=14;break}if(!U.eq(null===n||void 0===n?void 0:n.contract,0)){e.next=8;break}return e.next=5,this.addLiquidityETH(a,r,c,o,s);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,this.addLiquidityETH(n,c,r,o,s);case 10:e.t0=e.sent;case 11:u=e.t0,e.next=24;break;case 14:if(!l){e.next=20;break}return e.next=17,this.addLiquidity(a,n,r,c,o,s);case 17:e.t1=e.sent,e.next=23;break;case 20:return e.next=22,this.addLiquidity(n,a,c,r,o,s);case 22:e.t1=e.sent;case 23:u=e.t1;case 24:return _e[_e.status].debug&&console.log("providity Liquidity resule",u),i&&(d={id:"".concat(n.contract.toLowerCase(),"-").concat(a.contract.toLowerCase()),token0:n,token1:a,name:"".concat(n.symbol,"/").concat(a.symbol),poolBalanceOfToken0:c,poolBalanceOfToken1:r,share:1,liquidity:"0",yield:"0",volume:{value:"0",change:"$0"},tvl:{value:"0",change:"$0"},irr:"3",interest24:"0",pending:!0},this.newPools.push(d),_e[_e.status].debug&&console.log(" this.newPools",this.newPools),this.poolList=this.newPools.concat(this.poolList),_e[_e.status].debug&&console.log("!!! getSupportedPools this.poolList after create",this.poolList),v={evt:"UpdateSupportedPools",data:this.poolList},this.messenger.next(v),this.newPoolTimer=setInterval(Object(b.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.searchPoolByTokens({token0:n,token1:a});case 2:t=e.sent,_e[_e.status].debug&&(console.log("create newPool",d),console.log("createed newPool",t)),t&&(c=j.newPools.findIndex((function(e){return e.id="".concat(n.contract.toLowerCase(),"-").concat(a.contract.toLowerCase())})),-1!==c&&(j.newPools[c]=Object(p.a)(Object(p.a)({},d),{},{id:"".concat(j.network.chainId,"-").concat(t.poolContract.toLowerCase()),poolContract:t.poolContract,poolBalanceOfToken0:t.poolBalanceOfToken0,poolBalanceOfToken1:t.poolBalanceOfToken1,pending:!1})),_e[_e.status].debug&&console.log("createed this.newPools[index]",j.newPools[c]),clearInterval(j.newPoolTimer));case 5:case"end":return e.stop()}}),e)}))),1e3)),e.abrupt("return",u);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deposit",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){var c,r,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"deposit(uint256)",c="0x".concat(V()("deposit(uint256)").toString("hex").slice(0,8)),r=U.toSmallestUnitHex(a,n.decimals).split(".")[0].padStart(64,"0"),"0",o={to:t,amount:"0",data:c+r},e.prev=6,_e[_e.status].debug&&console.log("deposit transaction",o),this.messenger.next({evt:"Notice",debug:!0,message:"lunar send deposit transaction: ".concat(o)}),e.next=11,this.lunar.send(o);case 11:return s=e.sent,this.messenger.next({evt:"Notice",message:"lunar send deposittransaction: ".concat(s)}),_e[_e.status].debug&&console.log("deposit result",s),e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(6),e.t0;case 20:case"end":return e.stop()}}),e,this,[[6,17]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a){var c,r,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"withdraw(uint256)",c="0x".concat(V()("withdraw(uint256)").toString("hex").slice(0,8)),r=U.toSmallestUnitHex(a,n.decimals).split(".")[0].padStart(64,"0"),"0",o={to:t,amount:"0",data:c+r},e.prev=6,_e[_e.status].debug&&console.log("withdraw transaction",o),this.messenger.next({evt:"Notice",debug:!0,message:"lunar send withdraw transaction: ".concat(o)}),e.next=11,this.lunar.send(o);case 11:return s=e.sent,this.messenger.next({evt:"Notice",message:"lunar send withdraw transaction: ".concat(s)}),_e[_e.status].debug&&console.log("withdraw result",s),e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(6),e.t0;case 20:case"end":return e.stop()}}),e,this,[[6,17]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"swapETHForExactTokens",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r){var o,s,i,l,u,d,p,v,b,j,m,x,f,O;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getNativeCurrency();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:return"swapETHForExactTokens(uint256,address[],address,uint256)",s="0x".concat(V()("swapETHForExactTokens(uint256,address[],address,uint256)").toString("hex").slice(0,8)),i=U.toSmallestUnitHex(n,a[a.length-1].decimals).split(".")[0].padStart(64,"0"),l=null===(o=this.connectedAccount)||void 0===o?void 0:o.contract.replace("0x","").padStart(64,"0"),u=U.toHex(U.plus(Math.round(U.div(Date.now(),1e3)),U.mult(r||"30",60))).padStart(64,"0"),d=U.toHex(a.length).padStart(64,"0"),p=[this.nativeCurrency].concat(Object(T.a)(a.slice(1))).reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),v=s+i+"0000000000000000000000000000000000000000000000000000000000000080"+l+u+d+p,b=U.mult(t,U.plus("1",U.div(c||"0.5","100"))),_e[_e.status].debug&&(console.log("value",b),console.log("SafeMath.div(value, 18)",U.div(b,18)),console.log('SafeMath.div(value, 18).split(".")',U.div(b,18).split("."))),U.div(b,18).split(".").length>1&&U.div(b,18).split(".")[1].length>18&&(b=U.mult("".concat(U.div(b,18).split(".")[0],".").concat(U.div(b,18).split(".")[1].substring(0,18)),18)),_e[_e.status].debug&&console.log("value",b),j={to:this.routerContract,amount:b,data:v},e.prev=21,this.messenger.next({evt:"Notice",debug:!0,message:"lunar send swapETHForExactTokens transaction: ".concat(j)}),e.next=25,this.lunar.send(j);case 25:return m=e.sent,this.messenger.next({evt:"Notice",message:"lunar send swapETHForExactTokens transaction: ".concat(m)}),x={id:"".concat(this.network.chainId,"-").concat(m.toString()),type:I,transactionHash:m.toString(),chainId:this.network.chainId,token0:a[0],token1:a[a.length-1],token0AmountChange:U.mult(t,U.plus("1",U.div(c||"0.5","100"))),token1AmountChange:n,timestamp:Date.now(),pending:!0},f=this.updateHistory(x),this.updateHistories(f),O={evt:"UpdateHistories",data:this.histories},this.messenger.next(O),_e[_e.status].debug&&console.log("swapExactETHForTokens result",m),e.abrupt("return",x);case 36:throw e.prev=36,e.t1=e.catch(21),_e[_e.status].debug&&console.log("swapExactETHForTokens error",e.t1),e.t1;case 40:case"end":return e.stop()}}),e,this,[[0,5],[21,36]])})));return function(t,n,a,c,r){return e.apply(this,arguments)}}()},{key:"swapExactETHForTokens",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r){var o,s,i,l,u,d,p,v,b,j,m,x,f,O;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getNativeCurrency();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:return"swapExactETHForTokens(uint256,address[],address,uint256)",s="0x".concat(V()("swapExactETHForTokens(uint256,address[],address,uint256)").toString("hex").slice(0,8)),i=U.toHex(Math.floor(U.mult(U.toSmallestUnit(n,a[a.length-1].decimals),U.minus("1",U.div(c||"0.5","100"))))).padStart(64,"0"),l=null===(o=this.connectedAccount)||void 0===o?void 0:o.contract.replace("0x","").padStart(64,"0"),u=U.toHex(U.plus(Math.round(U.div(Date.now(),1e3)),U.mult(r||"30",60))).padStart(64,"0"),d=U.toHex(a.length).padStart(64,"0"),p=[this.nativeCurrency].concat(Object(T.a)(a.slice(1))).reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),v=s+i+"0000000000000000000000000000000000000000000000000000000000000080"+l+u+d+p,b=t,_e[_e.status].debug&&(console.log("value",b),console.log("SafeMath.div(value, 18)",U.div(b,18)),console.log('SafeMath.div(value, 18).split(".")',U.div(b,18).split("."))),U.div(b,18).split(".").length>1&&U.div(b,18).split(".")[1].length>18&&(b=U.mult("".concat(U.div(b,18).split(".")[0],".").concat(U.div(b,18).split(".")[1].substring(0,18)),18)),_e[_e.status].debug&&console.log("value",b),j={to:this.routerContract,amount:b,data:v},e.prev=21,_e[_e.status].debug&&console.log("swapExactETHForTokens result",j),this.messenger.next({evt:"Notice",debug:!0,message:"lunar send swapExactETHForTokens transaction: ".concat(j)}),e.next=26,this.lunar.send(j);case 26:return m=e.sent,this.messenger.next({evt:"Notice",message:"lunar send swapExactETHForTokens transaction: ".concat(m)}),_e[_e.status].debug&&console.log("swapExactETHForTokens result",m),x={id:"".concat(this.network.chainId,"-").concat(m.toString()),type:I,transactionHash:m.toString(),chainId:this.network.chainId,token0:a[0],token1:a[a.length-1],token0AmountChange:t,token1AmountChange:U.mult(n,U.minus("1",U.div(c||"0.5","100"))),timestamp:Date.now(),pending:!0},f=this.updateHistory(x),this.updateHistories(f),O={evt:"UpdateHistories",data:this.histories},this.messenger.next(O),_e[_e.status].debug&&console.log("swapExactETHForTokens result",m),e.abrupt("return",x);case 38:throw e.prev=38,e.t1=e.catch(21),_e[_e.status].debug&&console.log("swapExactETHForTokens error",e.t1),e.t1;case 42:case"end":return e.stop()}}),e,this,[[0,5],[21,38]])})));return function(t,n,a,c,r){return e.apply(this,arguments)}}()},{key:"swapExactTokensForETH",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r){var o,s,i,l,u,d,p,v,b,j,m,x,f,O;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getNativeCurrency();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:return"swapExactTokensForETH(uint256,uint256,address[],address,uint256)",s="0x".concat(V()("swapExactTokensForETH(uint256,uint256,address[],address,uint256)").toString("hex").slice(0,8)),i=U.toSmallestUnitHex(t,a[0].decimals).split(".")[0].padStart(64,"0"),l=U.toHex(Math.floor(U.mult(U.toSmallestUnit(n,a[a.length-1].decimals),U.minus("1",U.div(c||"0.5","100"))))).padStart(64,"0"),u=null===(o=this.connectedAccount)||void 0===o?void 0:o.contract.replace("0x","").padStart(64,"0"),d=U.toHex(U.plus(Math.round(U.div(Date.now(),1e3)),U.mult(r||"30",60))).padStart(64,"0"),p=U.toHex(a.length).padStart(64,"0"),v=[].concat(Object(T.a)(a.slice(0,a.length-1)),[this.nativeCurrency]).reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),b=s+i+l+"00000000000000000000000000000000000000000000000000000000000000a0"+u+d+p+v,0,j={to:this.routerContract,amount:0,data:b},e.prev=19,this.messenger.next({evt:"Notice",debug:!0,message:"lunar send swapExactTokensForETH transaction: ".concat(j)}),e.next=23,this.lunar.send(j);case 23:return m=e.sent,this.messenger.next({evt:"Notice",message:"lunar send swapExactTokensForETH transaction: ".concat(m)}),x={id:"".concat(this.network.chainId,"-").concat(m.toString()),type:I,transactionHash:m.toString(),chainId:this.network.chainId,token0:a[0],token1:this.assetList.find((function(e){return U.eq(e.contract,"0")})),token0AmountChange:t,token1AmountChange:U.mult(n,U.minus("1",U.div(c||"0.5","100"))),timestamp:Date.now(),pending:!0},f=this.updateHistory(x),this.updateHistories(f),O={evt:"UpdateHistories",data:this.histories},this.messenger.next(O),_e[_e.status].debug&&console.log("swapExactETHForTokens result",m),e.abrupt("return",x);case 34:throw e.prev=34,e.t1=e.catch(19),_e[_e.status].debug&&console.log("swapExactETHForTokens error",e.t1),e.t1;case 38:case"end":return e.stop()}}),e,this,[[0,5],[19,34]])})));return function(t,n,a,c,r){return e.apply(this,arguments)}}()},{key:"swapTokensForExactETH",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r){var o,s,i,l,u,d,p,v,b,j,m,x,f,O;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getNativeCurrency();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:return"swapTokensForExactETH(uint256,uint256,address[],address,uint256)",s="0x".concat(V()("swapTokensForExactETH(uint256,uint256,address[],address,uint256)").toString("hex").slice(0,8)),i=U.toSmallestUnitHex(n,18).split(".")[0].padStart(64,"0"),l=U.toHex(Math.floor(U.mult(U.toSmallestUnit(t,a[a.length-1].decimals),U.plus("1",U.div(c||"0.5","100"))))).padStart(64,"0"),u=null===(o=this.connectedAccount)||void 0===o?void 0:o.contract.replace("0x","").padStart(64,"0"),d=U.toHex(U.plus(Math.round(U.div(Date.now(),1e3)),U.mult(r||"30",60))).padStart(64,"0"),p=U.toHex(a.length).padStart(64,"0"),v=[].concat(Object(T.a)(a.slice(0,a.length-1)),[this.nativeCurrency]).reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),b=s+i+l+"00000000000000000000000000000000000000000000000000000000000000a0"+u+d+p+v,0,j={to:this.routerContract,amount:0,data:b},e.prev=19,this.messenger.next({evt:"Notice",debug:!0,message:"lunar send swapTokensForExactETH transaction: ".concat(j)}),e.next=23,this.lunar.send(j);case 23:return m=e.sent,this.messenger.next({evt:"Notice",message:"lunar send swapTokensForExactETH transaction: ".concat(m)}),x={id:"".concat(this.network.chainId,"-").concat(m.toString()),type:I,transactionHash:m.toString(),chainId:this.network.chainId,token0:a[0],token1:this.assetList.find((function(e){return U.eq(e.contract,"0")})),token0AmountChange:t,token1AmountChange:U.mult(n,U.minus("1",U.div(c||"0.5","100"))),timestamp:Date.now(),pending:!0},f=this.updateHistory(x),this.updateHistories(f),O={evt:"UpdateHistories",data:this.histories},this.messenger.next(O),_e[_e.status].debug&&console.log("swapExactETHForTokens result",m),e.abrupt("return",x);case 34:throw e.prev=34,e.t1=e.catch(19),_e[_e.status].debug&&console.log("swapExactETHForTokens error",e.t1),e.t1;case 38:case"end":return e.stop()}}),e,this,[[0,5],[19,34]])})));return function(t,n,a,c,r){return e.apply(this,arguments)}}()},{key:"swapTokensForExactTokens",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r){var o,s,i,l,u,d,p,v,b,j,m,x,f,O;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getNativeCurrency();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:return"swapTokensForExactTokens(uint256,uint256,address[],address,uint256)",s="0x".concat(V()("swapTokensForExactTokens(uint256,uint256,address[],address,uint256)").toString("hex").slice(0,8)),i=U.toSmallestUnitHex(n,a[a.length-1].decimals).padStart(64,"0"),l=U.toHex(Math.floor(U.mult(U.toSmallestUnit(t,a[0].decimals),U.plus("1",U.div(c||"0.5","100"))))).padStart(64,"0"),u=null===(o=this.connectedAccount)||void 0===o?void 0:o.contract.replace("0x","").padStart(64,"0"),d=U.toHex(U.plus(Math.round(U.div(Date.now(),1e3)),U.mult(r||"30",60))).padStart(64,"0"),p=U.toHex(a.length).padStart(64,"0"),v=a.reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),b=s+i+l+"00000000000000000000000000000000000000000000000000000000000000a0"+u+d+p+v,0,j={to:this.routerContract,amount:0,data:b},e.prev=19,this.messenger.next({evt:"Notice",debug:!0,message:"lunar send swapTokensForExactTokens transaction: ".concat(j)}),e.next=23,this.lunar.send(j);case 23:return m=e.sent,this.messenger.next({evt:"Notice",message:"lunar send swapTokensForExactTokens transaction: ".concat(m)}),_e[_e.status].debug&&console.log("swap result",m),x={id:"".concat(this.network.chainId,"-").concat(m.toString()),type:I,transactionHash:m.toString(),chainId:this.network.chainId,token0:a[0],token1:a[a.length-1],token0AmountChange:U.mult(t,U.plus("1",U.div(c||"0.5","100"))),token1AmountChange:n,timestamp:Date.now(),pending:!0},f=this.updateHistory(x),this.updateHistories(f),O={evt:"UpdateHistories",data:this.histories},this.messenger.next(O),_e[_e.status].debug&&console.log("swapExactETHForTokens result",m),e.abrupt("return",x);case 35:throw e.prev=35,e.t1=e.catch(19),_e[_e.status].debug&&console.log("swapExactTokensForTokens error",e.t1),e.t1;case 39:case"end":return e.stop()}}),e,this,[[0,5],[19,35]])})));return function(t,n,a,c,r){return e.apply(this,arguments)}}()},{key:"swapExactTokensForTokens",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r){var o,s,i,l,u,d,p,v,b,j,m,x,f,O;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getNativeCurrency();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:return"swapExactTokensForTokens(uint256,uint256,address[],address,uint256)",s="0x".concat(V()("swapExactTokensForTokens(uint256,uint256,address[],address,uint256)").toString("hex").slice(0,8)),i=U.toSmallestUnitHex(t,a[0].decimals).split(".")[0].padStart(64,"0"),l=U.toHex(Math.floor(U.mult(U.toSmallestUnit(n,a[a.length-1].decimals),U.minus("1",U.div(c||"0.5","100"))))).padStart(64,"0"),u=null===(o=this.connectedAccount)||void 0===o?void 0:o.contract.replace("0x","").padStart(64,"0"),d=U.toHex(U.plus(Math.round(U.div(Date.now(),1e3)),U.mult(r||"30",60))).padStart(64,"0"),p=U.toHex(a.length).padStart(64,"0"),v=a.reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),b=s+i+l+"00000000000000000000000000000000000000000000000000000000000000a0"+u+d+p+v,0,j={to:this.routerContract,amount:0,data:b},e.prev=19,this.messenger.next({evt:"Notice",debug:!0,message:"lunar send swapExactTokensForTokens transaction: ".concat(j)}),e.next=23,this.lunar.send(j);case 23:return m=e.sent,this.messenger.next({evt:"Notice",message:"lunar send swapExactTokensForTokens transaction: ".concat(m)}),_e[_e.status].debug&&console.log("swap result",m),x={id:"".concat(this.network.chainId,"-").concat(m.toString()),type:I,transactionHash:m.toString(),chainId:this.network.chainId,token0:a[0],token1:a[a.length-1],token0AmountChange:t,token1AmountChange:U.mult(n,U.minus("1",U.div(c||"0.5","100"))),timestamp:Date.now(),pending:!0},f=this.updateHistory(x),this.updateHistories(f),O={evt:"UpdateHistories",data:this.histories},this.messenger.next(O),_e[_e.status].debug&&console.log("swapExactETHForTokens result",m),e.abrupt("return",x);case 35:throw e.prev=35,e.t1=e.catch(19),_e[_e.status].debug&&console.log("swapExactTokensForTokens error",e.t1),e.t1;case 39:case"end":return e.stop()}}),e,this,[[0,5],[19,35]])})));return function(t,n,a,c,r){return e.apply(this,arguments)}}()},{key:"swap",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r,o){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getNativeCurrency();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:e.t1=o,e.next="selected"===e.t1?11:"paired"===e.t1?26:41;break;case 11:if(!U.eq(a[0].contract,"0")){e.next=17;break}return e.next=14,this.swapExactETHForTokens(t,n,a,c,r);case 14:case 20:case 25:case 29:case 35:case 40:return e.abrupt("return",e.sent);case 17:if(!U.eq(a[a.length-1].contract,"0")){e.next=23;break}return e.next=20,this.swapExactTokensForETH(t,n,a,c,r);case 23:return e.next=25,this.swapExactTokensForTokens(t,n,a,c,r);case 26:if(!U.eq(a[0].contract,"0")){e.next=32;break}return e.next=29,this.swapETHForExactTokens(t,n,a,c,r);case 32:if(!U.eq(a[a.length-1].contract,"0")){e.next=38;break}return e.next=35,this.swapTokensForExactETH(t,n,a,c,r);case 38:return e.next=40,this.swapTokensForExactTokens(t,n,a,c,r);case 41:throw Error("Invalid type");case 42:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,n,a,c,r,o){return e.apply(this,arguments)}}()},{key:"removeLiquidityETH",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r,o,s){var i,l,u,d,p,v,b,j,m,x,f,O,g,k;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _e[_e.status].debug&&(console.log("removeLiquidityETH slippage",o),console.log("removeLiquidityETH deadline",s)),"removeLiquidityETH(address,uint256,uint256,uint256,address,uint256)",l="0x".concat(V()("removeLiquidityETH(address,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),u=n.contract.replace("0x","").padStart(64,"0"),d=U.toSmallestUnitHex(a,t.decimals).split(".")[0].padStart(64,"0"),p=U.toHex(Math.floor(U.mult(U.toSmallestUnit(c,n.decimals),U.minus("1",U.div(o||"5","100"))))).padStart(64,"0"),v=U.toHex(Math.floor(U.mult(U.toSmallestUnit(r,18),U.minus("1",U.div(o||"5","100"))))).padStart(64,"0"),b=null===(i=this.connectedAccount)||void 0===i?void 0:i.contract.replace("0x","").padStart(64,"0"),j=U.toHex(U.plus(Math.round(U.div(Date.now(),1e3)),U.mult(s||"30",60))).padStart(64,"0"),m=l+u+d+p+v+b+j,0,x={to:this.routerContract,amount:0,data:m},e.prev=12,_e[_e.status].debug&&console.log("removeLiquidityETH transaction",x),this.messenger.next({evt:"Notice",debug:!0,message:"lunar send removeLiquidityETH transaction: ".concat(x)}),e.next=17,this.lunar.send(x);case 17:return f=e.sent,this.messenger.next({evt:"Notice",message:"lunar send removeLiquidityETH transaction: ".concat(f)}),_e[_e.status].debug&&console.log("removeLiquidityETH result",f),O={id:"".concat(this.network.chainId,"-").concat(f.toString()),type:E,transactionHash:f.toString(),chainId:this.network.chainId,token0:n,token1:this.assetList.find((function(e){return U.eq(e.contract,"0")})),token0AmountChange:U.mult(c,U.minus("1",U.div(o||"5","100"))),token1AmountChange:U.mult(r,U.minus("1",U.div(o||"5","100"))),timestamp:Date.now(),pending:!0},_e[_e.status].debug&&console.log("removeLiquidityETH result",f),g=this.updateHistory(O),this.updateHistories(g),k={evt:"UpdateHistories",data:this.histories},this.messenger.next(k),e.abrupt("return",O);case 29:throw e.prev=29,e.t0=e.catch(12),_e[_e.status].debug&&console.log("removeLiquidityETH error",e.t0),e.t0;case 33:case"end":return e.stop()}}),e,this,[[12,29]])})));return function(t,n,a,c,r,o,s){return e.apply(this,arguments)}}()},{key:"takeLiquidity",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c,r,o){var s,i,l,u,d,p,v,b,j,m,x,f,O,g,k;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _e[_e.status].debug&&(console.log("removeLiquidityETH slippage",r),console.log("removeLiquidityETH deadline",o)),"removeLiquidity(address,address,uint256,uint256,uint256,address,uint256)",i="0x".concat(V()("removeLiquidity(address,address,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),l=t.token0.contract.replace("0x","").padStart(64,"0"),u=t.token1.contract.replace("0x","").padStart(64,"0"),d=U.toSmallestUnitHex(n,t.decimals).split(".")[0].padStart(64,"0"),p=U.toHex(Math.floor(U.mult(U.toSmallestUnit(a,t.token0.decimals),U.minus("1",U.div(r||"5","100"))))).padStart(64,"0"),v=U.toHex(Math.floor(U.mult(U.toSmallestUnit(c,t.token1.decimals),U.minus("1",U.div(r||"5","100"))))).padStart(64,"0"),b=null===(s=this.connectedAccount)||void 0===s?void 0:s.contract.replace("0x","").padStart(64,"0"),j=U.toHex(U.plus(Math.round(U.div(Date.now(),1e3)),U.mult(o||"30",60))).padStart(64,"0"),m=i+l+u+d+p+v+b+j,0,x={to:this.routerContract,amount:0,data:m},e.prev=13,_e[_e.status].debug&&console.log("takeLiquidity transaction",x),this.messenger.next({evt:"Notice",debug:!0,message:"lunar send takeLiquidity transaction: ".concat(x)}),e.next=18,this.lunar.send(x);case 18:return f=e.sent,this.messenger.next({evt:"Notice",message:"lunar send takeLiquidity transaction: ".concat(f)}),_e[_e.status].debug&&console.log("takeLiquidity result",f),O={id:"".concat(this.network.chainId,"-").concat(f.toString()),type:E,transactionHash:f.toString(),chainId:this.network.chainId,token0:t.token0,token1:t.token1,token0AmountChange:U.mult(a,U.minus("1",U.div(r||"5","100"))),token1AmountChange:U.mult(c,U.minus("1",U.div(r||"5","100"))),timestamp:Date.now(),pending:!0},g=this.updateHistory(O),this.updateHistories(g),k={evt:"UpdateHistories",data:this.histories},this.messenger.next(k),e.abrupt("return",O);case 29:throw e.prev=29,e.t0=e.catch(13),_e[_e.status].debug&&console.log("takeLiquidity error",e.t0),e.t0;case 33:case"end":return e.stop()}}),e,this,[[13,29]])})));return function(t,n,a,c,r,o){return e.apply(this,arguments)}}()}]),e}(),Sa=Ca,Ta=function(e){var t=Object(i.useMemo)((function(){return new Sa(e.communicator)}),[e.communicator]),n=Object(i.useState)(t.network),a=Object(s.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)(t.supportedNetworks),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Object(i.useState)(t.walletList),v=Object(s.a)(p,2),j=v[0],x=v[1],f=Object(i.useState)(!1),g=Object(s.a)(f,2),k=g[0],_=g[1],w=Object(i.useState)(!1),y=Object(s.a)(w,2),N=y[0],C=y[1],S=Object(i.useState)(!0),T=Object(s.a)(S,2),A=T[0],P=T[1],I=Object(i.useState)(null),L=Object(s.a)(I,2),E=L[0],H=L[1],D=Object(i.useState)([]),B=Object(s.a)(D,2),F=B[0],R=B[1],q=Object(i.useState)([]),U=Object(s.a)(q,2),M=U[0],V=U[1],z=Object(i.useState)([]),K=Object(s.a)(z,2),Y=K[0],W=K[1],G=Object(i.useState)([]),J=Object(s.a)(G,2),X=J[0],Z=J[1],$=Object(i.useState)([]),Q=Object(s.a)($,2),ee=Q[0],te=Q[1],ne=Object(i.useState)([]),ae=Object(s.a)(ne,2),ce=ae[0],re=ae[1],oe=Object(i.useState)(null),se=Object(s.a)(oe,2),ie=se[0],le=se[1],ue=Object(i.useState)(null),de=Object(s.a)(ue,2),pe=de[0],ve=de[1],he=Object(i.useState)(null),be=Object(s.a)(he,2),je=be[0],me=be[1],xe=Object(i.useState)(null),fe=Object(s.a)(xe,2),Oe=fe[0],ge=fe[1],ke=Object(i.useState)("0.0"),we=Object(s.a)(ke,2),ye=we[0],Ne=we[1],Ce=Object(i.useState)("-.-"),Se=Object(s.a)(Ce,2),Te=Se[0],Ae=(Se[1],Object(i.useState)([])),Pe=Object(s.a)(Ae,2),Ie=Pe[0],Le=Pe[1];Object(i.useEffect)((function(){var e;_e[_e.status].debug&&console.log("useEffect ttsc",t),null===(e=t.messenger)||void 0===e||e.subscribe((function(e){switch(_e[_e.status].debug&&console.log("ttsc.messenger",e),e.evt){case"Error":console.log("ttsc.messenger",e),me(e.error);break;case"Notice":_e[_e.status].debug?ve(e.message):e.debug||(console.log("ttsc.messenger",e),ve(e.message));break;case"UpdateConnectedStatus":C(e.data),e.data?(C(e.data),ge(t.connectedAccount),H(t.nativeCurrency)):(C(e.data),ge(null));break;case"isInit":_(e.data);break;case"UpdateChart":Z(e.data.tvl),te(e.data.volume);break;case"UpdateTotalBalance":Ne(e.data);break;case"UpdateConnectedAccount":ge(e.data);break;case"UpdateNativeCurrency":H(e.data);break;case"UpdateSupportedNetworks":d(e.data);break;case"UpdateConnectOptions(":x(t.walletList);break;case"UpdateNetwork":r(e.data);break;case"UpdateSupportedTokens":V(e.data),P(!1);break;case"UpdateSupportedStakes":W(e.data),P(!1);break;case"UpdateSupportedPools":R(e.data);break;case"UpdateHistories":Le(e.data);break;case"UpdateOveriew":re(e.data)}}));try{t.init().then((function(){return P(!1)})).catch((function(e){le(e),P(!1)}))}catch(ie){le(ie)}return function(){}}),[t]);var Ee=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,t.connect(n);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("connect error",e.t0),le(e.t0);case 10:P(!1);case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),[t]),He=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),console.log("switchNetwork network",n),e.prev=2,e.next=5,t.switchNetwork(n);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("switchNetwork error",e.t0),le(e.t0);case 11:P(!1);case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[t]),De=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.token0,c=n.token1,e.prev=1,e.next=4,t.searchPoolByTokens({token0:a,token1:c});case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),console.log("searchPoolByTokens error",e.t0),le(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),[t]),Be=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.searchPoolByPoolContract(n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("searchPoolByPoolContract error",e.t0),le(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[t]),Fe=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getTokenHistory(n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("getTokenHistory error",e.t0),le(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[t]),Re=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getPoolHistory(n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("getPoolHistory error",e.t0),le(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[t]),qe=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getTokenPriceData(n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("getTokenPriceData error",e.t0),le(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[t]),Ue=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getPoolPriceData(n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("getPoolPriceData error",e.t0),le(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[t]),Me=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.searchToken(n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("searchToken error",e.t0),le(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[t]),Ve=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.searchStake(n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("searchStake error",e.t0),le(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[t]),ze=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a,c,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isAllowanceEnough(n,a,c,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),[t]),Ke=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),Ye=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createPair(n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),We=Object(i.useCallback)((function(e){var n=e.pool,a=e.tokenA,c=e.tokenB,r=e.amountADesired,o=e.amountBDesired,s=e.type;return t.formateAddLiquidity({pool:n,tokenA:a,tokenB:c,amountADesired:r,amountBDesired:o,type:s})}),[t]),Ge=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n){var a,c,r,o,s,i,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.tokenA,c=n.tokenB,r=n.amountADesired,o=n.amountBDesired,s=n.slippage,i=n.deadline,l=n.create,u=n.reverse,e.next=3,t.provideLiquidity({tokenA:a,tokenB:c,amountADesired:r,amountBDesired:o,slippage:s,deadline:i,create:l,reverse:u});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),Je=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a,c,r,o,s){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.swap(n,a,c,r,o,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r,o){return e.apply(this,arguments)}}(),[t]),Xe=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a,c,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAmountIn(n,a,c,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),[t]),Ze=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a,c,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAmountOut(n,a,c,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),[t]),$e=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAmountsIn(n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),Qe=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAmountsOut(n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),et=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a,c,r,o,s){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.takeLiquidity(n,a,c,r,o,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r,o){return e.apply(this,arguments)}}(),[t]),tt=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a,c,r,o,s,i){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.removeLiquidityETH(n,a,c,r,o,s,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r,o,s){return e.apply(this,arguments)}}(),[t]),nt=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deposit(n,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[t]),at=Object(i.useCallback)(function(){var e=Object(b.a)(h.a.mark((function e(n,a,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.withdraw(n,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[t]);return Object(O.jsx)(m.Provider,{value:{tvlChartData:X,volumeChartData:ee,totalBalance:ye,totalReward:Te,isInit:k,isLoading:A,isConnected:N,connectOptions:j,connectedAccount:Oe,histories:Ie,supportedNetworks:u,supportedPools:F,supportedTokens:M,supportedStakes:Y,overview:ce,currentNetwork:c,nativeCurrency:E,notice:pe,error:ie,noticeError:je,onConnect:Ee,switchNetwork:He,searchPoolByPoolContract:Be,searchPoolByTokens:De,getTokenPriceData:qe,getPoolPriceData:Ue,searchToken:Me,searchStake:Ve,isAllowanceEnough:ze,approve:Ke,createPair:Ye,formateAddLiquidity:We,provideLiquidity:Ge,getAmountIn:Xe,getAmountsIn:$e,getAmountOut:Ze,getAmountsOut:Qe,swap:Je,takeLiquidity:et,removeLiquidityETH:tt,getTokenHistory:Fe,getPoolHistory:Re,deposit:nt,withdraw:at},children:e.children})},Aa=n(67),Pa=n(261),Ia=n(408),La=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.apiURL,a=void 0===n?"":n,c=t.apiVersion;return Object(D.a)(this,e),this.url=a,this.apiVersion=c,this.axios=Ia.create({baseURL:this.apiVersion+this.url}),this}return Object(B.a)(e,[{key:"setInterceptor",value:function(){}},{key:"setToken",value:function(e){this.axios.defaults.headers.common.token=e}},{key:"getToken",value:function(){try{return this.axios.defaults.headers.common.token||null}catch(e){return null}}},{key:"_request",value:function(e){return e().then((function(e){return e.data?{success:e.data.success,data:e.data.payload,message:e.data.message,code:e.data.code}:{success:!1}}))}},{key:"get",value:function(e){var t=this;return this._request((function(){return t.axios.get(e)}))}},{key:"post",value:function(e,t){var n=this;return this._request((function(){return n.axios.post(e,t)}))}},{key:"delete",value:function(e,t){var n=this;return this._request((function(){return n.axios.delete(e,t)}))}},{key:"put",value:function(e,t){var n=this;return this._request((function(){return n.axios.put(e,t)}))}},{key:"_refreshToken",value:function(){}}]),e}(),Ea=La,Ha=function(){function e(){return Object(D.a)(this,e),this.httpAgent=new Ea({apiURL:_e[_e.status].apiURL,apiVersion:_e[_e.status].apiVersion}),this.token=null,this.tokenSecret=null,this.tokenRenewTimeout=null,this}return Object(B.a)(e,[{key:"accessTokenRenew",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,a=t.tokenSecret,e.prev=1,c={token:n,tokenSecret:a},e.next=5,this.httpAgent.post("/token/renew",c);case 5:if(!(r=e.sent).success){e.next=9;break}return this._setInfo(r.data.token,r.data.tokenSecret),e.abrupt("return",r.data);case 9:return e.abrupt("return",Promise.reject({message:r.message,code:r.code}));case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",Promise.reject({message:e.t0}));case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tokenPriceData",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/tokenPriceData/").concat(n));case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tvlHistory",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/tvlHistory/"));case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"volume24hr",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/volume24hr/"));case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchToken",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&n){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/searchToken/")+n);case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tokenList",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get("/chainId/".concat(t,"/explorer/tokenList"));case 3:if(!(n=e.sent).success){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"poolList",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get("/chainId/".concat(t,"/explorer/poolList"));case 3:if(!(n=e.sent).success){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchPool",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,c){var r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&n&&a){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return r={token0Contract:n,token1Contract:a,create:!!c},e.next=6,this._post("/chainId/".concat(t,"/explorer/searchPool/"),r);case 6:if(!(o=e.sent).success){e.next=9;break}return e.abrupt("return",o.data);case 9:return e.abrupt("return",Promise.reject({message:o.message,code:o.code}));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"poolDetail",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&n){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/poolDetail/")+n);case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addrTransHistory",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get("/chainId/".concat(t,"/explorer/addrTransHistory/").concat(n));case 3:if(!(a=e.sent).success){e.next=6;break}return e.abrupt("return",a.data);case 6:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tokenDetail",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&n){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/tokenDetail/")+n);case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"cryptoRate",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get("/rate/crypto/chainId/".concat(t));case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fiatsRate",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get("/rate/fiat");case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tokenTransHistory",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get("/chainId/".concat(t,"/explorer/tokenHistory/").concat(n));case 3:if(!(a=e.sent).success){e.next=6;break}return e.abrupt("return",a.data);case 6:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"poolTransHistory",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get("/chainId/".concat(t,"/explorer/poolHistory/").concat(n));case 3:if(!(a=e.sent).success){e.next=6;break}return e.abrupt("return",a.data);case 6:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"overview",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/overview/"));case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"poolPriceData",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/poolPriceData/").concat(n));case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"poolPriceDataR",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/poolPriceData/").concat(n,"/r"));case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"contracts",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get("/chainId/".concat(t,"/contracts"));case 3:if(!(n=e.sent).success){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tokenTvlHistory",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/tokenTvlHistory/").concat(n));case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"poolTvlHistory",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/poolTvlHistory/").concat(n));case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"poolFeeHistory",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/poolFeeHistory/").concat(n));case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tokenVolume24hr",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/tokenVolume24hr/").concat(n));case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"poolVolume24hr",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get("/chainId/".concat(t,"/explorer/poolVolume24hr/").concat(n));case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stakeList",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,c,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:0,a=r.length>2&&void 0!==r[2]?r[2]:20,e.prev=2,e.next=5,this._get("/chainId/".concat(t,"/explorer/stakeList?from=").concat(n,"&limit=").concat(a,"\n      "));case 5:if(!(c=e.sent).success){e.next=8;break}return e.abrupt("return",c.data);case 8:return e.abrupt("return",Promise.reject({message:c.message,code:c.code}));case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpAgent.get(t);case 3:if((n=e.sent).code!==Aa.EXPIRED_ACCESS_TOKEN){e.next=10;break}return e.next=7,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 7:return e.next=9,this.httpAgent.get(t);case 9:n=e.sent;case 10:return e.abrupt("return",n);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.code!==Aa.EXPIRED_ACCESS_TOKEN){e.next=25;break}return e.prev=16,e.next=19,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 19:return e.abrupt("return",this.httpAgent.get(t));case 22:return e.prev=22,e.t1=e.catch(16),e.abrupt("return",Promise.reject(e.t0));case 25:return e.abrupt("return",Promise.reject(e.t0));case 26:case"end":return e.stop()}}),e,this,[[0,13],[16,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_post",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpAgent.post(t,n);case 3:if((a=e.sent).code!==Aa.EXPIRED_ACCESS_TOKEN){e.next=10;break}return e.next=7,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 7:return e.next=9,this.httpAgent.post(t,n);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.code!==Aa.EXPIRED_ACCESS_TOKEN){e.next=25;break}return e.prev=16,e.next=19,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 19:return e.abrupt("return",this.httpAgent.post(t,n));case 22:return e.prev=22,e.t1=e.catch(16),e.abrupt("return",Promise.reject(e.t0));case 25:return e.abrupt("return",Promise.reject(e.t0));case 26:case"end":return e.stop()}}),e,this,[[0,13],[16,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpAgent.delete(t,n);case 3:if((a=e.sent).code!==Aa.EXPIRED_ACCESS_TOKEN){e.next=10;break}return e.next=7,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 7:return e.next=9,this.httpAgent.delete(t,n);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.code!==Aa.EXPIRED_ACCESS_TOKEN){e.next=25;break}return e.prev=16,e.next=19,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 19:return e.abrupt("return",this.httpAgent.delete(t,n));case 22:return e.prev=22,e.t1=e.catch(16),e.abrupt("return",Promise.reject(e.t0));case 25:return e.abrupt("return",Promise.reject(e.t0));case 26:case"end":return e.stop()}}),e,this,[[0,13],[16,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_put",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpAgent.put(t,n);case 3:if((a=e.sent).code!==Aa.EXPIRED_ACCESS_TOKEN){e.next=10;break}return e.next=7,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 7:return e.next=9,this.httpAgent.put(t,n);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.code!==Aa.EXPIRED_ACCESS_TOKEN){e.next=25;break}return e.prev=16,e.next=19,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 19:return e.abrupt("return",this.httpAgent.put(t,n));case 22:return e.prev=22,e.t1=e.catch(16),e.abrupt("return",Promise.reject(e.t0));case 25:return e.abrupt("return",Promise.reject(e.t0));case 26:case"end":return e.stop()}}),e,this,[[0,13],[16,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_setInfo",value:function(e,t){var n=this;this.token=e,this.tokenSecret=t,this.httpAgent.setToken(e);try{var a=1e3*Object(Pa.decode)(e).exp-Date.now()-5e3;console.log("renew token timeout",a),this.tokenRenewTimeout&&(clearTimeout(this.tokenRenewTimeout),this.tokenRenewTimeout=null),this.tokenRenewTimeout=setTimeout(Object(b.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.accessTokenRenew({token:e,tokenSecret:t});case 2:case"end":return a.stop()}}),a)}))),a)}catch(c){this.tokenRenewTimeout=null}}}]),e}(),Da=Ha,Ba=function(){function e(t){Object(D.a)(this,e),this.syncInterval=864e5,this._lastSyncTime=0,this._crypto={cryptoToUSD:"4678.229083048072",symbol:"ETH"},this._fiat={dollarSign:"$",symbol:"USD"},this._fiatToUSDs=[],this._communicator=t}return Object(B.a)(e,[{key:"getCryptoRate",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._communicator.cryptoRate(this.chainId);case 3:t=e.sent,console.log("Trader getCryptoRate result",t),this._crypto={cryptoToUSD:t.rate,symbol:t.name},console.log("Trader getCryptoRate this._crypto",this._crypto),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getFiatToUSDs",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._communicator.fiatsRate(this.chainId);case 3:t=e.sent,console.log("Trader getFiatToUSDs result",t),this._fiatToUSDs=t.map((function(e){return{symbol:e.name,fiatToUSD:e.rate}})),console.log("Trader getFiatToUSDs this._fiatToUSDs",this._fiatToUSDs),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"sync",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]&&c[0],!(Date.now()-this.lastTimeSync>this.syncInterval||t)){e.next=8;break}return n=[this.getCryptoRate(),this.getFiatToUSDs()],e.next=6,Promise.all(n);case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(e){var t=this;this.chainId=e,console.log("trader start this.chainId",this.chainId),this.sync(!0),this.timer=setInterval((function(){t.sync(!1)}),this.syncInterval)}},{key:"stop",value:function(){null!==this.timer&&clearInterval(this.timer)}},{key:"getPrice",value:function(e){var t,n=this,a=(null===(t=this._fiatToUSDs.find((function(e){return e.symbol===n._fiat.symbol})))||void 0===t?void 0:t.fiatToUSD)||"1";return U.div(U.mult(e,this._crypto.cryptoToUSD),a)}}]),e}(),Fa=Ba,Ra=function(e){var t=Object(i.useContext)(m),n=Object(i.useState)(m.currentNetwork),a=Object(s.a)(n,2),c=a[0],r=a[1],o=Object(i.useMemo)((function(){return new Fa(e.communicator)}),[e.communicator]),l=Object(i.useState)([]),u=Object(s.a)(l,2),d=u[0],p=(u[1],Object(i.useState)({dollarSign:"$",symbol:"USD"})),v=Object(s.a)(p,2),h=v[0],b=(v[1],Object(i.useState)(!1)),j=Object(s.a)(b,2),x=j[0],f=(j[1],Object(i.useCallback)((function(){}),[])),g=Object(i.useCallback)((function(){}),[]),k=Object(i.useCallback)((function(e,t){return o.getPrice(e,t)}),[o]);return Object(i.useEffect)((function(){var e,n,a;(!(null===c||void 0===c?void 0:c.chainId)&&(null===(e=t.currentNetwork)||void 0===e?void 0:e.chainId)||(null===(n=t.currentNetwork)||void 0===n?void 0:n.chainId)!==(null===c||void 0===c?void 0:c.chainId))&&(console.log("useEffect start trader",o),o.stop(),o.start(null===(a=t.currentNetwork)||void 0===a?void 0:a.chainId),r(t.currentNetwork));return function(){}}),[t.currentNetwork,c,o]),Object(O.jsx)(It.Provider,{value:{isLoading:x,fiat:h,fiats:d,updateFiat:f,getFiat:g,getPrice:k},children:e.children})},qa=new Da;c.a.render(Object(O.jsx)(Ta,{communicator:qa,children:Object(O.jsx)(Ra,{communicator:qa,children:Object(O.jsx)(o.a,{maxSnack:10,children:Object(O.jsx)(r.a,{children:Object(O.jsx)(ka,{})})})})}),document.getElementById("root"))},45:function(e,t,n){e.exports={network:"NetworkDetail_network__2syz5",highlight:"NetworkDetail_highlight__1ktK0",content:"NetworkDetail_content__3vHP-",shrink:"NetworkDetail_shrink__mZEI_",button:"NetworkDetail_button__220dK",title:"NetworkDetail_title__3yPlt",icon:"NetworkDetail_icon__28jIU",header1:"NetworkDetail_header1__3nrra",paragraph:"NetworkDetail_paragraph__1aTxu",option:"NetworkDetail_option__3wBdA"}},49:function(e,t,n){e.exports={input:"Input_input__2swPp",label:"Input_label__3uKZ0",detail:"Input_detail__2VQ0x","input-controller":"Input_input-controller__scu78","input-hint":"Input_input-hint__yVEJ-",show:"Input_show__2WQWC",pannel:"Input_pannel__X3lnV",message:"Input_message__374uh",invalid:"Input_invalid__m8mGZ"}},53:function(e,t,n){e.exports={asset:"AssetDetail_asset__2cwF_",title:"AssetDetail_title__3DVBQ",subtitle:"AssetDetail_subtitle__1AbOb",content:"AssetDetail_content__2ov9y",header1:"AssetDetail_header1__1Kjoq",header2:"AssetDetail_header2__WCdRy",icon:"AssetDetail_icon__-yOOL",paragraph:"AssetDetail_paragraph__i9X-e"}},60:function(e,t,n){e.exports={pannel:"FilterList_pannel__27Tam",input:"FilterList_input__2EVl1",select:"FilterList_select__3knbB",content:"FilterList_content__1pHxq",container:"FilterList_container__2K8AM",page:"FilterList_page__2mpCe","search-bar":"FilterList_search-bar__2GKp7",header:"FilterList_header__K5jQj","hint-container":"FilterList_hint-container__1NzUD",hint:"FilterList_hint__1zqxb"}},61:function(e,t,n){e.exports={"coin-input":"CoinInput_coin-input__hYd5s",container:"CoinInput_container__13iNY",detail:"CoinInput_detail__W7vXW","input-controller":"CoinInput_input-controller__3MtgH","input-hint":"CoinInput_input-hint__Qj5Vc",show:"CoinInput_show__3lpS5"}},62:function(e,t,n){e.exports={overview:"Overview_overview__US_oz",chart:"Overview_chart__2Ycxr",summary:"Overview_summary__2O2BW",group:"Overview_group__3aiWb",data:"Overview_data__3o1Ff",change:"Overview_change__1vPud",increase:"Overview_increase__2-amt",decrease:"Overview_decrease__36lN8"}},66:function(e,t,n){e.exports={earn:"AddLiquidityPannel_earn__2ii0u",main:"AddLiquidityPannel_main__3yqXg",header:"AddLiquidityPannel_header__3S8xe",placeholder:"AddLiquidityPannel_placeholder__3vzV4","button-icon":"AddLiquidityPannel_button-icon__2UzZe","approve-button-container":"AddLiquidityPannel_approve-button-container__3KIyY",button:"AddLiquidityPannel_button__xGGrj",group:"AddLiquidityPannel_group__3rLoy",name:"AddLiquidityPannel_name__2WuKG",icon:"AddLiquidityPannel_icon__2Ns-w",content:"AddLiquidityPannel_content__KINS0",sub:"AddLiquidityPannel_sub__1iSm1",data:"AddLiquidityPannel_data__1obBY",title:"AddLiquidityPannel_title__3YRKE",amount:"AddLiquidityPannel_amount__2-bMf",details:"AddLiquidityPannel_details__11BkB",detail:"AddLiquidityPannel_detail__1zAOR",value:"AddLiquidityPannel_value__O7koj"}},67:function(e,t){e.exports={SUCCESS:"00000000",INVALID_INPUT:"01000000",USER_OCCUPATION:"02000000",USER_NOT_FOUND:"02000001",ACCOUNT_TOKEN_EXIST:"02000002",INVALID_ACCESS_TOKEN:"03000000",EXPIRED_ACCESS_TOKEN:"03000001",INVALID_ACCESS_TOKEN_SECRET:"03000002",EXPIRED_ACCESS_TOKEN_SECRET:"03000003",INVALID_SIGNATURE:"03000004",BLOCKCHAIN_ID_NOT_FOUND:"04000000",CURRENCY_ID_NOT_FOUND:"04000001",BLOCKCHAIN_HAS_NOT_TOKEN:"04000002",TOKEN_ID_NOT_FOUND:"04000003",ACCOUNT_NOT_FOUND:"04000004",TX_NOT_FOUND:"04000005",CONTRACT_CONT_FOUND:"04000005",BLOCKCHAIN_NOT_SUPPORT:"04000006",BLOCK_NOT_FOUND:"04000007",ADDRESS_NOT_FOUND:"04000008",DB_ERROR:"05000000",PUBLISH_TX_ERROR:"05000001",RPC_ERROR:"05000002",UNKNOWN_ERROR:"09000000"}},7:function(e,t,n){e.exports={"tool-bar":"Stakes_tool-bar__1jUxi",row:"Stakes_row__2eeMn",expand:"Stakes_expand__l5q3I",list:"Stakes_list__3Z1C2",dropdown:"Stakes_dropdown__10Lll",option:"Stakes_option__3Fkll",search:"Stakes_search__1hTAA",label:"Stakes_label__17Xbt",container:"Stakes_container__3TJ4r",hint:"Stakes_hint__1Fe-T",content:"Stakes_content__26ZZr","input-controller":"Stakes_input-controller__3qJFT","rate-container":"Stakes_rate-container__3P-MO",input:"Stakes_input__24Ixn",rate:"Stakes_rate__1ODzl",tags:"Stakes_tags__JfNqb",tag:"Stakes_tag__2SPE6","input-tag":"Stakes_input-tag__3-juQ",action:"Stakes_action__44s9-",header:"Stakes_header__h8eZk",roi:"Stakes_roi__1tLNg",amount:"Stakes_amount__40_8a",swap:"Stakes_swap__3rdxV","input-container":"Stakes_input-container__2l1Ko",tooltip:"Stakes_tooltip__3Wndd",tooltiptext:"Stakes_tooltiptext__2AJ8g",condition:"Stakes_condition__3hhYD","header-container":"Stakes_header-container__GrDns",tabs:"Stakes_tabs__3QMDg",disabled:"Stakes_disabled__Wa_z7",tab:"Stakes_tab__1f10z",active:"Stakes_active__2DXGU","detail-container":"Stakes_detail-container__1WUZB",dialog:"Stakes_dialog__2jWUf",controller:"Stakes_controller__RnKk5",checkmark:"Stakes_checkmark__3YRB5",toggle:"Stakes_toggle__3FgrI",main:"Stakes_main__huMG8","icon-container":"Stakes_icon-container__18B9e","input-pannel":"Stakes_input-pannel__Ega9E","button-container":"Stakes_button-container__2pSL1",icon:"Stakes_icon__PS8QI",open:"Stakes_open__8yHWM","detail-info":"Stakes_detail-info__2X4Ko",detail:"Stakes_detail__2Z71b","explain-container":"Stakes_explain-container__1q3Fo",explain:"Stakes_explain__1-phy"}},71:function(e,t,n){e.exports={modal:"Dialog_modal__1cigk",content:"Dialog_content__fFoO4",expand:"Dialog_expand__LnNKS",header:"Dialog_header__23n3D",title:"Dialog_title__iQRCw",cancel:"Dialog_cancel__3e6LL"}},73:function(e,t,n){e.exports={dropdown:"DropDown_dropdown__1PeGq",controller:"DropDown_controller__3gdoM",button:"DropDown_button__PZxMT",placeholder:"DropDown_placeholder__1-Sxc",selected:"DropDown_selected__1KvOF",label:"DropDown_label__3J2TN",options:"DropDown_options__3nWcJ",icon:"DropDown_icon__2AVr4"}},74:function(e,t,n){e.exports={summary:"Summary_summary__1SLx7",title:"Summary_title__1Cb2f",detail:"Summary_detail__3Vft7",tooltip:"Summary_tooltip__1779p",tooltiptext:"Summary_tooltiptext__8UrVC"}},8:function(e,t,n){e.exports={main:"StakeOption_main__3Sbnd",row:"StakeOption_row__cJJmQ",value:"StakeOption_value__RDhNv",option:"StakeOption_option__2KDEU",checked:"StakeOption_checked__32IRF",sub:"StakeOption_sub__3Qaro",toggle:"StakeOption_toggle__1UAGA",expand:"StakeOption_expand__1ljZP",inCrypto:"StakeOption_inCrypto__3jzA6",container:"StakeOption_container__26X79",detail:"StakeOption_detail__28IM9",shrink:"StakeOption_shrink__1J-BU",profit:"StakeOption_profit__1xmxB",data:"StakeOption_data__-QAc0",apy:"StakeOption_apy__1Bx2S",staked:"StakeOption_staked__2icrb",links:"StakeOption_links__RSe6i",pair:"StakeOption_pair__2-vCk",icon:"StakeOption_icon__37mQW",name:"StakeOption_name__2pWP5",title:"StakeOption_title__3bZHA",link:"StakeOption_link__1SA9X",operation:"StakeOption_operation__3g51j","input-controller":"StakeOption_input-controller__2rwlr"}},80:function(e,t,n){e.exports={modal:"ErrorDialog_modal__2hGgp",header:"ErrorDialog_header__12olq",cancel:"ErrorDialog_cancel__1wYGj",title:"ErrorDialog_title__1k8i2",message:"ErrorDialog_message__S9C8V",content:"ErrorDialog_content__3ZAtZ","error-icon":"ErrorDialog_error-icon__2TP99"}},81:function(e,t,n){e.exports={title:"CoinDialog_title__1dW6u",button:"CoinDialog_button__140Fr",placeholder:"CoinDialog_placeholder__3t7zn","coin-input":"CoinDialog_coin-input__75kBf",option:"CoinDialog_option__jUWo2"}},82:function(e,t,n){e.exports={remove:"RemovePannel_remove__jpV8T",main:"RemovePannel_main__1zjl-",header:"RemovePannel_header__2auAe",content:"RemovePannel_content__2nV3x",button:"RemovePannel_button__3Nqjc","approve-button-container":"RemovePannel_approve-button-container__3ZyOJ",group:"RemovePannel_group__2LWou",name:"RemovePannel_name__2B_T5",icon:"RemovePannel_icon__2VWIX",sub:"RemovePannel_sub__3o8BA",detail:"RemovePannel_detail__2B7ES",data:"RemovePannel_data__3Onec",title:"RemovePannel_title__1kqHw",amount:"RemovePannel_amount__1Ww_j"}},89:function(e,t,n){e.exports={shrink:"CoinOption_shrink__3ehoX",name:"CoinOption_name__2UvXJ",option:"CoinOption_option__1CMJD",symbol:"CoinOption_symbol__Gs4V4",icon:"CoinOption_icon__2vU9a"}}},[[427,1,2]]]);
//# sourceMappingURL=main.0ab0cef2.chunk.js.map