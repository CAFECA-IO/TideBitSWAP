(this["webpackJsonptidebit-swap"]=this["webpackJsonptidebit-swap"]||[]).push([[0],{100:function(e,t,n){e.exports={"approve-button-container":"SwapPannel_approve-button-container__sxcH6",swap:"SwapPannel_swap__2eqJD",main:"SwapPannel_main__17IbX",hint:"SwapPannel_hint__unnyR",button:"SwapPannel_button__3Riv6"}},101:function(e,t,n){e.exports={container:"PoolOption_container__1WisG",pair:"PoolOption_pair__3TGuv",name:"PoolOption_name__1MYMv",icon:"PoolOption_icon__2IbvS"}},117:function(e,t,n){e.exports={chart__container:"Chart_chart__container__2M0fW"}},119:function(e,t,n){e.exports={list:"List_list__XVT3P",title:"List_title__1J_ZH",loading:"List_loading__1X4WL"}},120:function(e,t,n){e.exports={swap:"Swap_swap__1KF6G",container:"Swap_container__2uhmH",main:"Swap_main__3FNMx",sub:"Swap_sub__2psBl",details:"Swap_details__3AxVk"}},121:function(e,t,n){e.exports={button:"Button_button__6-R6B",loading:"Button_loading__2RWSQ","lds-spinner":"Button_lds-spinner__2xMNt"}},123:function(e,t,n){e.exports={earn:"AddLiquidity_earn__3W4yv",container:"AddLiquidity_container__1auz1",main:"AddLiquidity_main__2fjDs",sub:"AddLiquidity_sub__2ARna",details:"AddLiquidity_details__3jti7"}},124:function(e,t,n){e.exports={remove:"Remove_remove__2QtZ7",container:"Remove_container__1jXva",main:"Remove_main__E7bnp",sub:"Remove_sub__1tqXs",details:"Remove_details__2gJPj",button:"Remove_button__1BGgg"}},125:function(e,t,n){e.exports={"icon-button":"ConnectOptions_icon-button__3A5mo","icon-button__icon":"ConnectOptions_icon-button__icon__2GcbM","icon-button__name":"ConnectOptions_icon-button__name__1Fl3o"}},127:function(e,t,n){e.exports={modal:"LoadingDialog_modal__3iTpZ",message:"LoadingDialog_message__x3Jjy"}},15:function(e,t,n){e.exports={list:"Invests_list__m9X7Q",title:"Invests_title__3mul2",container:"Invests_container__3NZqg",content:"Invests_content__32dHw","title-bar":"Invests_title-bar__30VJG","title-box":"Invests_title-box__2nVIe",hint:"Invests_hint__2UPTM",tile:"Invests_tile__ObI1k",pending:"Invests_pending__35MzA",action:"Invests_action__2uINN",button:"Invests_button__1UxLh",group:"Invests_group__1uXQ3",data:"Invests_data__34NYi",icon:"Invests_icon__YEZf2",icons:"Invests_icons__2cszc"}},155:function(e,t,n){e.exports={backdrop:"Backdrop_backdrop__1uHu4",transparent:"Backdrop_transparent__1anRt"}},156:function(e,t,n){e.exports={"lds-spinner":"LoadingIcon_lds-spinner__3cMQd",small:"LoadingIcon_small__t94Yp"}},16:function(e,t,n){e.exports={brand:"Menu_brand__2kUEL",logo:"Menu_logo__2pP3w",menuOption:"Menu_menuOption__2v4u7",menuOptionIcon:"Menu_menuOptionIcon__Ald9O",connected:"Menu_connected__1mod5",active:"Menu_active__1hc7Y",footer:"Menu_footer__eGKyL"}},17:function(e,t,n){e.exports={list:"Histories_list__JJj6h",header:"Histories_header__3z3i0","header-bar":"Histories_header-bar__6vjIn",button:"Histories_button__1W8yy",active:"Histories_active__2COM7",content:"Histories_content__1Ca6U","title-bar":"Histories_title-bar__26uvs",data:"Histories_data__2Zlu0","title-box":"Histories_title-box__2E4_W",timestamp:"Histories_timestamp__2rwBx",hint:"Histories_hint__2vurO",tile:"Histories_tile__pMFrn",pending:"Histories_pending__2Z21D"}},18:function(e,t,n){e.exports={list:"Tokens_list__Gjr5T",title:"Tokens_title__31jd_",container:"Tokens_container__3eOiU",content:"Tokens_content__3DJ78","title-bar":"Tokens_title-bar__21Cna",hint:"Tokens_hint__3lG8a",tile:"Tokens_tile__SoXzX","title-box":"Tokens_title-box__1Rba4",action:"Tokens_action__3jhH7",button:"Tokens_button__2mtdT",group:"Tokens_group__3_VCb",data:"Tokens_data__2Y5UW",icon:"Tokens_icon__3gktW",increase:"Tokens_increase__dy310",decrease:"Tokens_decrease__H9tz1"}},20:function(e,t,n){e.exports={controller:"StakeOption_controller__2npZ-",detail:"StakeOption_detail__28IM9",option:"StakeOption_option__2KDEU",main:"StakeOption_main__3Sbnd",expand:"StakeOption_expand__1ljZP",reward:"StakeOption_reward__Qomh0",liquidity:"StakeOption_liquidity__1Bjo4",volume:"StakeOption_volume__3lXZz",shrink:"StakeOption_shrink__1J-BU",data:"StakeOption_data__-QAc0",pair:"StakeOption_pair__2-vCk",icon:"StakeOption_icon__37mQW",yield:"StakeOption_yield__1sy1Q",toggle:"StakeOption_toggle__1UAGA",name:"StakeOption_name__2pWP5",title:"StakeOption_title__3bZHA",value:"StakeOption_value__RDhNv",operation:"StakeOption_operation__3g51j"}},233:function(e,t,n){e.exports={card:"Card_card__1m44e"}},239:function(e,t,n){e.exports={assets:"Assets_assets__2wbpj",container:"Assets_container__2lSPN",main:"Assets_main__1blVk",sub:"Assets_sub__zuPKG",details:"Assets_details__OAA6m"}},240:function(e){e.exports=JSON.parse('{"name":"tidebit-swap","version":"0.9.0","description":"TideBit SWAP - The Most Friendly DeFi Solution","main":"bin/main.js","scripts":{"start":"bin/main.js","debug":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","deploy":"pm2 deploy"},"repository":{"type":"git","url":"git+https://github.com/CAFECA-IO/TideBitSWAP.git"},"keywords":["frontend","backend","framework"],"author":"CAFECA","license":"MIT","bugs":{"url":"https://github.com/CAFECA-IO/TideBitSWAP/issues"},"homepage":"https://swap.tidebit.network/","dependencies":{"@cafeca/lunar":"^0.3.6","@emotion/styled":"^11.6.0","@fortawesome/free-solid-svg-icons":"^5.15.4","@fortawesome/react-fontawesome":"^0.1.16","@mui/icons-material":"^5.2.5","@mui/material":"^5.2.5","@testing-library/jest-dom":"^5.11.6","@testing-library/react":"^11.2.2","@testing-library/user-event":"^12.5.0","apexcharts":"^3.30.0","axios":"^0.24.0","bignumber.js":"^9.0.1","command-line-args":"^5.0.2","dvalue":"^1.0.20","ecrequest":"^1.1.5","i18n":"^0.13.3","jsonwebtoken":"^8.5.1","keccak256":"^1.0.3","koa":"^2.13.1","koa-body":"^4.2.0","koa-router":"^10.1.1","koa-session":"^6.2.0","koa-static":"^5.0.0","litepicker":"^2.0.11","ncp":"^2.0.0","pem":"^1.14.4","qrcode.react":"^1.0.1","react":"^17.0.1","react-apexcharts":"^1.3.9","react-dom":"^17.0.1","react-icons":"^4.3.1","react-router-dom":"^5.3.0","rxjs":"^7.4.0","spdy":"^4.0.2","sqlite3":"^5.0.2","tingodb":"^0.6.1","toml":"^3.0.0","web-vitals":"^0.2.4","ws":"^8.2.1"},"devDependencies":{"assert":"^2.0.0","buffer":"^6.0.3","clean-webpack-plugin":"^4.0.0-alpha.0","copy-webpack-plugin":"^9.0.1","css-loader":"^5.2.6","cssnano":"^5.0.5","file-loader":"^6.2.0","https-browserify":"^1.0.0","mini-css-extract-plugin":"^1.6.0","node-sass":"^6.0.0","os":"^0.1.1","postcss-loader":"^5.3.0","react-dom":"^17.0.2","react-scripts":"4.0.1","sass-loader":"^12.0.0","stream":"0.0.2","stream-http":"^3.2.0","svg-inline-loader":"^0.8.2","ts-loader":"^9.2.3","typescript":"^4.3.4","url":"^0.11.0","url-loader":"^4.1.1","web3":"^1.3.6"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},254:function(e,t,n){},26:function(e,t,n){e.exports={menuOption:"Navigator_menuOption__1CYmc",active:"Navigator_active__2B8CT",highlight:"Navigator_highlight__igNe5",container:"Navigator_container__1r1nR",navigator:"Navigator_navigator__2bZ3Z"}},268:function(e,t){},270:function(e,t){},279:function(e,t){},292:function(e,t){},294:function(e,t){},30:function(e,t,n){e.exports={list:"Pairs_list__uUe15",content:"Pairs_content___GmXV","title-bar":"Pairs_title-bar__3O9hA",header:"Pairs_header__19IWV",group:"Pairs_group__3JpBf",title:"Pairs_title__3tEw9",data:"Pairs_data__9AS7E","button-icon":"Pairs_button-icon__tiFH_",name:"Pairs_name__3Zq1i",tile:"Pairs_tile__1A5ab",pair:"Pairs_pair__2ntsP",icon:"Pairs_icon__3LP2q",icons:"Pairs_icons__GDGLY"}},330:function(e,t){},332:function(e,t){},333:function(e,t){},338:function(e,t){},340:function(e,t){},35:function(e,t,n){e.exports={settings:"PannelSetting_settings__19LAH","settings-modal":"PannelSetting_settings-modal__2vLR0","settings-icon":"PannelSetting_settings-icon__1Jt_A","settings-pannel":"PannelSetting_settings-pannel__2PnZ3","settings-option-box":"PannelSetting_settings-option-box__1dhcC","settings-header":"PannelSetting_settings-header__tcw6x",message:"PannelSetting_message__1wq9j","settings-option":"PannelSetting_settings-option__IKjwC","settings-button":"PannelSetting_settings-button__2KGit",text:"PannelSetting_text__1iiEU","settings-title":"PannelSetting_settings-title__CoZDJ","settings-input":"PannelSetting_settings-input__2gK9H","input-hint":"PannelSetting_input-hint__ova9i",switch:"PannelSetting_switch__1tla4",slider:"PannelSetting_slider__PAUkn",round:"PannelSetting_round__1zzeB"}},359:function(e,t){},371:function(e,t){},374:function(e,t){},410:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n.n(a),c=n(118),o=(n(254),n(2)),s=n.n(o),i=n(11),l=n(8),u=n(3),d=n.n(u),p=n(4),v=n(5),h=s.a.createContext({initial:!1,totalBalance:0,totalReward:0,fiat:{dollarSign:"$",symbol:"USD",exchangeRate:"1"},tvlChartData:[],volumeChartData:[],connectOptions:[],connectedAccount:null,routerContract:null,isLoading:!0,error:null,isConnected:!1,currentNetwork:null,supportedNetworks:[],supportedPools:[],supportedTokens:[],supportedStakes:[],histories:[],overview:[],nativeCurrency:null,isInit:function(){},onDisconnect:function(){console.log("onDisconnect")},onConnect:function(e){console.log("onConnect",e)},getAssetBalanceOf:function(){var e=Object(p.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getPoolBalanceOf:function(){var e=Object(p.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),switchNetwork:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getContractDataLength:function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getContractData:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchToken:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchStake:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTokenHistory:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPoolHistory:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchPoolByPoolContract:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchPoolByTokensContract:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.token0Contract,t.token1Contract;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchPoolByTokens:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.token0,t.token1;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),isAllowanceEnough:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),approve:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),createPair:function(){var e=Object(p.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),formateAddLiquidity:function(e){e.pool,e.tokenA,e.tokenB,e.amountADesired,e.amountBDesired,e.type},provideLiquidity:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.tokenA,t.tokenB,t.amountADesired,t.amountBDesired,t.slippage,t.deadline,t.create,t.reverse;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAmountsIn:function(){var e=Object(p.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getAmountsOut:function(){var e=Object(p.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getAmountIn:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),getAmountOut:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),swap:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c,o){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,o){return e.apply(this,arguments)}}(),takeLiquidity:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c,o){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,o){return e.apply(this,arguments)}}(),removeLiquidityETH:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c,o,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,o,s){return e.apply(this,arguments)}}(),getTokenPriceData:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPoolPriceData:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSupportedStakes:function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),b=h,m=n(155),j=n.n(m),f=n(1),x=function(e){return Object(f.jsx)(s.a.Fragment,{children:r.a.createPortal(Object(f.jsx)("div",{className:"".concat(j.a.backdrop," ").concat(j.a[e.className]),onClick:e.onCancel}),document.getElementById("backdrop-root"))})},O=n(233),k=n.n(O),g=function(e){return Object(f.jsx)("div",{className:"".concat(k.a.card," ").concat(e.className),children:e.children})},_=n(66),y=n.n(_),w=function(e){return Object(f.jsxs)(g,{className:e.expand?y.a.modal+" "+y.a.expand:y.a.modal,children:[Object(f.jsxs)("header",{className:y.a.header,children:[Object(f.jsx)("div",{className:y.a.title,children:e.title}),Object(f.jsx)("div",{className:y.a.cancel,onClick:e.onCancel,children:"\u2715"})]}),Object(f.jsx)("div",{className:y.a.content,children:e.children})]})},C=function(e){return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(x,{onCancel:e.onCancel}),r.a.createPortal(Object(f.jsx)(w,{title:e.title,onCancel:e.onCancel,expand:e.expand,children:e.children}),document.getElementById("overlay-root"))]})},N=n(32),S="0xDDBCB302A16f27D12Ef1cA491b4791a7b3d67c04",T={HOT:"Hot",IRR:"IRR",APY:"APY",PROFIT:"Profit",POOLBALANCE:"Pool Balance",TOTALSTAKED:"Total Staked"},A="All",L="Swaps",P="Adds",H="Removes",I=n.p+"static/media/erc20.49e225fa.png",D=n(51),E=n(52),B=n(67),F=n.n(B),U=function(){function e(){Object(D.a)(this,e)}return Object(E.a)(e,null,[{key:"isNumber",value:function(e){return/^(([1-9]\d*)|([0]{1}))(\.\d+)?$/.test(e)}},{key:"isHex",value:function(e){return/^(0x)?[a-fA-F0-9]*$/.test(e)}},{key:"toBn",value:function(t){return"string"===typeof t&&!e.isNumber(t)&&e.isHex(t)?new F.a(t,16):new F.a(t)}},{key:"toSmallestUnitHex",value:function(e,t){return new F.a(e).multipliedBy(new F.a(10).pow(t)).toString(16)}},{key:"plus",value:function(t,n){var a=e.toBn(t),r=e.toBn(n);return a.plus(r).toFixed()}},{key:"minus",value:function(t,n){var a=e.toBn(t),r=e.toBn(n);return a.minus(r).toFixed()}},{key:"mult",value:function(t,n){var a=e.toBn(t),r=e.toBn(n);return a.multipliedBy(r).toFixed()}},{key:"div",value:function(t,n){var a=e.toBn(t),r=e.toBn(n);return a.dividedBy(r).toFixed()}},{key:"mod",value:function(t,n){var a=e.toBn(t),r=e.toBn(n);return a.mod(r).toFixed()}},{key:"eq",value:function(t,n){var a=e.toBn(t),r=e.toBn(n);return a.eq(r)}},{key:"gt",value:function(t,n){var a=e.toBn(t),r=e.toBn(n);return a.gt(r)}},{key:"gte",value:function(t,n){var a=e.toBn(t),r=e.toBn(n);return a.gte(r)}},{key:"lt",value:function(t,n){var a=e.toBn(t),r=e.toBn(n);return a.lt(r)}},{key:"lte",value:function(t,n){var a=e.toBn(t),r=e.toBn(n);return a.lte(r)}},{key:"toCurrencyUint",value:function(t,n){var a=e.toBn(t),r=e.toBn(10).exponentiatedBy(n);return a.dividedBy(r).toFixed()}},{key:"gweiToEth",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.dividedBy(a).toFixed()}},{key:"weiToGwei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.dividedBy(a).toFixed()}},{key:"toSmallestUnit",value:function(t,n){var a=e.toBn(t),r=e.toBn(10).exponentiatedBy(n);return a.multipliedBy(r).toFixed()}},{key:"ethToGwei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.multipliedBy(a).toFixed()}},{key:"gweiToWei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.multipliedBy(a).toFixed()}},{key:"compressedPubKeyCheck",value:function(t,n){var a=e.toBn("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),r=e.toBn(t),c=e.toBn(n);return r.pow(new F.a(3)).plus(new F.a(7)).minus(c.pow(new F.a(2))).mod(a).isZero()}},{key:"toHex",value:function(t){return e.toBn(t).toString(16)}}]),e}(),q=U,R=n(34),M=n.n(R),K=function(){var e=Object(p.a)(d.a.mark((function e(t,n,a){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}throw Error("window.ethereum is undefine");case 2:return r=q.isHex(t)?t:"0x".concat(M()(t).toString("hex").slice(0,8)),e.prev=3,e.next=6,window.ethereum.request({id:X(1),jsonrpc:"2.0",method:"eth_call",params:[{from:"0x0000000000000000000000000000000000000000",data:"".concat(n?r+n:r),to:a},"latest"]});case 6:return c=e.sent,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(3),console.trace("eth_call error",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,a){return e.apply(this,arguments)}}(),V=function(){for(var e=[],t=18e5,n=(new Date).valueOf()-108e6,a=0;a<60;a++){var r=1*Math.random()>.5,c=0===a?"".concat((1e4*Math.random()).toFixed(2)):e[a-1].y[3],o=r?q.plus(c,"".concat((2e3*Math.random()).toFixed(2))):q.minus(c,"".concat((2e3*Math.random()).toFixed(2))),s=q.plus(r?c:o,"".concat((3e3*Math.random()).toFixed(2))),i=q.minus(r?o:c,"".concat((3e3*Math.random()).toFixed(2)));e.push({x:new Date(n+a*t),y:[c,s,i,o]})}return e},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;if(e.length<=2*t)return e;var n=e.slice(0,t),a=e.slice(e.length-t,e.length);return n+"..."+a},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=q.gte(e,1e21)?q.div(e,1e21):q.gte(e,1e18)?q.div(e,1e18):q.gte(e,1e15)?q.div(e,1e15):q.gte(e,1e12)?q.div(e,1e12):q.gte(e,1e9)?q.div(e,1e9):q.gte(e,1e6)?q.div(e,1e6):q.gte(e,1e3)?q.div(e,1e3):e,a=n.toString().split(".");return q.gte(e,1e18)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","st"):q.gte(e,1e18)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","qt"):q.gte(e,1e15)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","qd"):q.gte(e,1e12)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","t"):q.gte(e,1e9)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","b"):q.gte(e,1e6)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","m"):q.gte(e,1e3)?"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00","k"):"".concat(a[0],".").concat(a[1]?a[1].substring(0,t):"00")},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!e)return"";var a=e.toString().split(".");return q.gte(a[0].length,t)?W(e,n):a.length>1?(e.toString().length>t&&(a[1]=a[1].substring(0,t-a[0].length)),a[1].length>0?"".concat(a[0],".").concat(a[1]):a[0]):e},X=function(e){var t="",n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for((e=parseInt(e))>0||(e=8);t.length<e;)t=t.concat(n.charAt(parseInt(Math.random()*n.length)));return t},Y=function(e,t){return+e>+t?+t:e},J=function(e,t,n,a){var r,c,o;return o=t&&(null===(r=e.contract)||void 0===r?void 0:r.toLowerCase())===(null===(c=t.contract)||void 0===c?void 0:c.toLowerCase())?n.find((function(t){var n,a;return(null===(n=t.contract)||void 0===n?void 0:n.toLowerCase())!==(null===(a=e.contract)||void 0===a?void 0:a.toLowerCase())})):t,{active:e,passive:o}},Z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],$=function(e){return e<10?"0"+e:e},Q=function(e){var t=new Date(e),n=t.getDate(),a=t.getMonth(),r=t.getFullYear(),c=t.getHours(),o=t.getMinutes(),s="AM";return c-12>0&&(c-=12,s="PM"),{text:Z[a]+" "+$(n)+", "+r+" "+c+":"+$(o)+" "+s,date:Z[a]+" "+$(n)+", "+r,time:c+":"+$(o)+" "+s,month:Z[a],day:$(n),year:r}},ee=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=e.toString().replace("0x",""),a=[],r=0;r<n.length;r+=t){var c=n.slice(r,r+t);a.push(c)}return a},te=function(e){for(var t=e.toString().replace("0x",""),n="",a=0;a<t.length;a+=2){if("00"!==t.substr(a,2))n+=String.fromCharCode(parseInt(t.substr(a,2),16))}return n},ne=n(119),ae=n.n(ne),re=n(156),ce=n.n(re),oe=function(e){return Object(f.jsxs)("div",{className:"".concat(ce.a["lds-spinner"]," ").concat(e.className?ce.a[e.className]:""),children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{})]})},se=function(e){return Object(f.jsxs)("div",{className:e.className,children:[!!e.title&&Object(f.jsx)("div",{className:ae.a.title,children:e.title}),Object(f.jsx)("ul",{className:"".concat(ae.a.list," "),children:e.data.map((function(t,n){return Object(f.jsx)("li",{onClick:function(){e.onClick&&e.onClick(Object(l.a)(Object(l.a)({},t),{},{index:n}))},children:e.children(Object(l.a)(Object(l.a)({},t),{},{index:n}))},t.id||X(6))}))}),e.isLoading&&Object(f.jsx)("div",{className:ae.a.loading,children:Object(f.jsx)(oe,{})})]})},ie=n(46),le=n.n(ie),ue=function(e){return Object(f.jsx)("div",{className:le.a.option,children:e.chainName})},de=function(e){var t=Object(o.useContext)(b),n=Object(o.useState)(!1),a=Object(v.a)(n,2),r=a[0],c=a[1],l=Object(o.useState)(!1),u=Object(v.a)(l,2),h=u[0],m=u[1],j=Object(i.f)(),x=Object(i.e)(),O=function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("changeNetworkHandler selected",n),c(!0),m(!1),e.prev=3,(j.pathname.includes("/pool/")||j.pathname.includes("/asset/")||j.pathname.includes("/redeem-liquidity/"))&&x.push({pathname:"/"}),e.next=7,t.switchNetwork(n);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:c(!1);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(s.a.Fragment,{children:[h&&Object(f.jsx)(C,{title:"Network Options",onCancel:function(){return m(!1)},children:Object(f.jsx)(se,{data:t.supportedNetworks,onClick:O,children:ue})}),!window.ethereum&&Object(f.jsx)("a",{className:"".concat(le.a.network," ").concat(e.shrink?le.a.shrink:""," ").concat(le.a.highlight),href:"https://metamask.io/download.html",target:"_blank",rel:"noreferrer",children:"Install metamask"}),window.ethereum&&Object(f.jsxs)("div",{className:"".concat(le.a.network," ").concat(e.shrink?le.a.shrink:""),onClick:function(){r||m(!0)},children:[Object(f.jsxs)("div",{className:le.a.content,children:[Object(f.jsx)("div",{className:le.a.title,children:"Network"}),Object(f.jsx)("div",{className:le.a.header1,children:t.currentNetwork.chainName}),Object(f.jsx)("div",{className:le.a.paragraph,children:"Last Block: 13547750"})]}),Object(f.jsx)("div",{className:le.a.icon,children:Object(f.jsx)("img",{src:"https://www.tidebit.one/icons/eth.png",alt:t.currentNetwork.chainName})})]})]})},pe=n(120),ve=n.n(pe),he=(n(287),n(83)),be=n.n(he),me=function(e,t){return Object(f.jsxs)("div",{value:e.name,className:"".concat(be.a.option," ").concat(t?be.a.shrink:""),onClick:e.onSelect,children:[Object(f.jsx)("div",{className:be.a.icon,children:Object(f.jsx)("img",{src:e.iconSrc,alt:e.name})}),Object(f.jsx)("div",{className:be.a.symbol,children:e.symbol}),Object(f.jsx)("div",{className:be.a.name,children:e.name})]})},je=n(97),fe=n.n(je),xe=function(e){return Object(f.jsxs)("div",{className:fe.a.input,children:[Object(f.jsxs)("div",{className:fe.a["search-icon"],children:[Object(f.jsx)("div",{className:fe.a["search-icon__circle"]}),Object(f.jsx)("div",{className:fe.a["search-icon__rectangle"]})]}),Object(f.jsx)("input",{id:X(6),type:"text",placeholder:e.placeholder,ref:e.inputRef,value:e.value,onChange:e.onChange})]})},Oe=n(98),ke=n.n(Oe),ge=n(121),_e=n.n(ge),ye=function(e){return Object(f.jsxs)("div",{className:_e.a["lds-spinner"],children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{})]})},we=function(e){return Object(f.jsx)("button",{className:"".concat(_e.a.button," ").concat(e.loading?_e.a.loading:""),type:e.type||"button",onClick:e.onClick,disabled:e.disabled,children:!0===e.loading?Object(f.jsx)(ye,{}):e.children})},Ce=n(68),Ne=n.n(Ce),Se=function(e){var t=X(6),n=Object(o.useState)(!1),a=Object(v.a)(n,2),r=a[0],c=a[1];return Object(f.jsxs)("div",{className:"".concat(Ne.a.dropdown," dropdown ").concat(e.className),children:[Object(f.jsx)("div",{className:Ne.a.label,children:e.label}),Object(f.jsx)("input",{className:Ne.a.controller,type:"checkbox",id:t,checked:r,readOnly:!0}),Object(f.jsxs)("label",{className:Ne.a.button,htmlFor:t,onClick:function(){c((function(e){return!e}))},children:[e.selected&&e.children(e.selected),!e.selected&&Object(f.jsx)("div",{className:Ne.a.placeholder,children:e.placeholder}),!!e.options&&Object(f.jsx)("div",{className:Ne.a.icon,children:"\u276f"})]}),!!e.options&&Object(f.jsx)(g,{className:Ne.a.options,children:Object(f.jsx)(se,{data:e.options,onClick:function(t){c(!1),e.onSelect(t)},children:e.children})})]})},Te=n(99),Ae=n.n(Te),Le=function(e){var t=X(6);return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)("input",{className:Ae.a.controller,type:e.type||"radio",name:e.name,id:t,checked:e.checked,onChange:e.onChange}),Object(f.jsxs)("label",{className:Ae.a.tab,htmlFor:t,onClick:e.onSelect,children:[Object(f.jsx)("div",{className:Ae.a.icon}),Object(f.jsx)("div",{className:Ae.a.value,children:e.value})]})]})},Pe=function(e){return Object(f.jsx)("div",{className:ke.a.option,children:e})},He=function(e){var t,n,a=Object(o.useState)(!1),r=Object(v.a)(a,2),c=r[0],i=r[1];return Object(f.jsxs)(s.a.Fragment,{children:[c&&Object(f.jsx)(C,{title:"Search Condition",onCancel:function(){i(!1)},expand:!0,children:Object(f.jsxs)("div",{className:ke.a.content,children:[!!(null===(t=Object.keys(e.filterConditions))||void 0===t?void 0:t.length)&&Object(f.jsx)(Se,{label:"Pools",options:Object.keys(e.filterConditions),selected:e.selectedFilter,onSelect:e.onSelectFilter,placeholder:"Select Filter",children:function(t){return Pe(e.filterConditions[t])}}),!!(null===(n=Object.keys(e.sortingConditions))||void 0===n?void 0:n.length)&&Object(f.jsx)(Se,{label:"Sort by",options:Object.keys(e.sortingConditions),selected:e.selectedSorting,onSelect:e.onSelectSorting,placeholder:"Select Sort",children:function(t){return Pe(e.sortingConditions[t])}}),Object(f.jsx)(Le,{type:"checkbox",name:"filter-checkbox",checked:e.matchMyAssets,onChange:function(t){e.onMatch(t.target.checked)},value:"Match My Available Assets"}),Object(f.jsxs)("div",{className:ke.a.button,children:[Object(f.jsx)(we,{type:"button",onClick:e.onReset,children:"Reset"}),Object(f.jsx)(we,{type:"button",onClick:function(){e.onSearch(),i(!1)},children:"Search"})]})]})}),Object(f.jsx)("div",{className:ke.a.filter,onClick:function(){i(!0)},children:"\u21cc"})]})},Ie=n(55),De=n.n(Ie),Ee=function(e){var t=Object(o.useState)(""),n=Object(v.a)(t,2),a=n[0],r=n[1],c=Object(o.useState)(e.data),s=Object(v.a)(c,2),i=s[0],l=s[1];Object(o.useEffect)((function(){return l(e.data),function(){}}),[e.data]);var u=Object(o.useRef)(),h=function(){var t=Object(p.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r(n.target.value.replace(/[^0-9A-Za-z]/gi,"")),!/^0x[a-fA-F0-9]{40}$/.test(n.target.value)){t.next=9;break}return t.next=4,e.onSearch(n.target.value);case 4:a=t.sent,console.log("searchToken",a),a&&l([a]),t.next=10;break;case 9:l(e.data.filter((function(t){return!u.current||t[e.filterProperty].toLowerCase().includes(u.current.value.toLowerCase())})));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"".concat(De.a.pannel," ").concat(De.a[e.className]),children:[Object(f.jsxs)("div",{className:De.a["search-bar"],children:[Object(f.jsx)(xe,{inputRef:u,value:a,onChange:h,placeholder:"Search"}),e.displayFilterButton&&Object(f.jsx)(He,{filterConditions:e.filterConditions,selectedFilter:e.selectedFilterConditions,onSelectFilter:e.handleFilterConditionsChange,sortingConditions:e.sortingConditions,selectedSorting:e.selectedSortCondition,onSelectSorting:e.handleSortConditionChange,onReset:e.resetHandler,matchMyAssets:e.matchMyAssets,onMatch:e.handleMatchMyAssets,onSearch:function(){}})]}),e.header&&Object(f.jsx)("div",{className:De.a.header,children:e.header}),Object(f.jsxs)("div",{className:De.a.container,children:[e.titleBar&&e.titleBar(),Object(f.jsxs)("div",{className:De.a.content,children:[!(null===i||void 0===i?void 0:i.length)&&!!e.hint&&!e.isLoading&&Object(f.jsx)("div",{className:De.a["hint-container"],children:Object(f.jsx)("div",{className:De.a.hint,children:e.hint})}),Object(f.jsx)(se,{className:De.a.select,data:i,onClick:e.onSelect,isLoading:e.isLoading,children:function(t){return e.children(t,!!e.isShrink)}})]})]})]})},Be=n(73),Fe=n.n(Be),Ue=s.a.forwardRef((function(e,t){var n=Object(o.useContext)(b),a=Object(o.useState)(!1),r=Object(v.a)(a,2),c=r[0],i=r[1],l=function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchToken(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useImperativeHandle)(t,(function(){return{openDialog:function(){return i(!0)},closeDialog:function(){return i(!1)}}})),Object(f.jsxs)(s.a.Fragment,{children:[c&&Object(f.jsx)(C,{title:"Select Coin",onCancel:function(){return i(!1)},children:Object(f.jsx)(Ee,{onSelect:function(t){return function(t,n){n||(e.onSelect(t),i(!1))}(t,e.readOnly)},onSearch:l,data:e.options,filterProperty:"symbol",children:function(e){return me(e)}})}),Object(f.jsxs)("div",{className:"".concat(Fe.a.option," ").concat(e.className?Fe.a[e.className]:""),children:[Object(f.jsx)("div",{className:Fe.a.title,children:"Coin"}),Object(f.jsxs)("div",{className:Fe.a.button,onClick:function(){return e.readOnly?{}:i(!0)},children:[e.selectedCoin&&me(e.selectedCoin,e.isShrink),!e.selectedCoin&&Object(f.jsx)("div",{className:Fe.a.placeholder,children:"Select Coin"}),Object(f.jsx)("div",{className:Fe.a.icon,children:"\u276f"})]})]})]})})),qe=Ue,Re=n(56),Me=n.n(Re),Ke=function(e){var t,n,a,r,c=Object(o.useRef)(),s=e.removeDetail||!(e.readOnly&&+e.value>+(null===(t=e.selected)||void 0===t?void 0:t.balanceOf))?"":"Insufficient amount";return Object(f.jsxs)("div",{className:Me.a["coin-input"],children:[Object(f.jsxs)("div",{className:Me.a.container,children:[Object(f.jsx)(qe,{className:"coin-input",ref:c,options:e.options,selectedCoin:e.selected,onSelect:e.onSelect,readOnly:!!e.readOnly,isShrink:!0}),Object(f.jsx)("div",{className:Me.a["input-controller"],children:Object(f.jsx)("input",{id:X(6),type:"number",value:e.value,onInput:function(t){console.log("onIput",t.target.value);var n=+t.target.value<0?"0":t.target.value;e.onChange(+n)},readOnly:!!e.readOnly,placeholder:"0.0",step:"any"})})]}),Object(f.jsxs)("div",{className:Me.a.detail,children:[Object(f.jsx)("div",{children:"Balance:"}),Object(f.jsx)("div",{className:Me.a["input-maximum"],children:G("".concat((null===(n=e.selected)||void 0===n?void 0:n.balanceOf)||0),14)}),Object(f.jsx)("div",{className:Me.a.symbol,children:(null===(a=e.selected)||void 0===a?void 0:a.symbol)||""}),Object(f.jsx)("div",{className:Me.a["input-hint"]+(""!==e.value&&e.selected&&q.gt(e.value,null===(r=e.selected)||void 0===r?void 0:r.balanceOf)?" "+Me.a.show:""),children:"(MAX)"})]}),Object(f.jsx)("div",{className:Me.a.message,children:Object(f.jsx)("div",{children:s})})]})},Ve=n(69),ze=n.n(Ve),We=function(e){var t;return Object(f.jsxs)("div",{className:ze.a.summary,children:[e.title&&Object(f.jsx)("div",{className:ze.a.title,children:e.title}),null===(t=e.data)||void 0===t?void 0:t.map((function(e){return Object(f.jsxs)("div",{className:ze.a.detail,children:[!!e.explain&&Object(f.jsxs)("div",{className:ze.a.tooltip,children:[Object(f.jsx)("div",{children:e.title}),Object(f.jsx)("div",{className:ze.a.tooltiptext,children:e.explain})]}),!e.explain&&Object(f.jsx)("div",{className:ze.a["detail-title"],children:e.title}),Object(f.jsx)("div",{className:ze.a["detail-value"],children:e.value})]},X(6))}))]})},Ge=n(100),Xe=n.n(Ge),Ye=n(235),Je=n(35),Ze=n.n(Je),$e=function(e){var t,n,a,r=Object(o.useState)(!1),c=Object(v.a)(r,2),s=c[0],i=c[1],l=function(){i(!s)};return Object(f.jsxs)("div",{className:Ze.a.settings,open:s,children:[s&&Object(f.jsx)(x,{onCancel:l,className:"transparent"}),Object(f.jsx)("div",{className:Ze.a["settings-icon"],onClick:l,children:Object(f.jsx)(Ye.a,{})}),Object(f.jsxs)("div",{className:Ze.a["settings-pannel"],children:[Object(f.jsx)("div",{className:Ze.a["settings-header"],children:"Transaction settings"}),Object(f.jsxs)("div",{className:Ze.a["settings-option-box"],children:[Object(f.jsx)("div",{className:Ze.a["settings-title"],children:"Slippage tolerance ?"}),Object(f.jsxs)("div",{className:Ze.a["settings-option"],children:[Object(f.jsx)("button",{className:Ze.a["settings-button"],onClick:e.slippageAutoHander,children:"Auto"}),Object(f.jsxs)("div",{className:Ze.a["settings-input"],children:[Object(f.jsx)("input",{placeholder:"0.10",type:"number",value:null===(t=e.slippage)||void 0===t?void 0:t.value,onInput:e.slippageChangeHander,readOnly:!!e.readOnly,step:"any"}),Object(f.jsx)("div",{className:Ze.a["input-hint"],children:"%"})]})]}),(null===(n=e.slippage)||void 0===n?void 0:n.message)&&Object(f.jsx)("div",{className:Ze.a.message,children:Object(f.jsx)("div",{children:null===(a=e.slippage)||void 0===a?void 0:a.message})})]}),Object(f.jsxs)("div",{className:Ze.a["settings-option-box"],children:[Object(f.jsx)("div",{className:Ze.a["settings-title"],children:"Transaction deadline ?"}),Object(f.jsxs)("div",{className:Ze.a["settings-option"],children:[Object(f.jsx)("div",{className:Ze.a["settings-input"],children:Object(f.jsx)("input",{placeholder:"30",type:"number",value:e.deadline,onInput:e.deadlineChangeHander,readOnly:!!e.readOnly,step:"any"})}),Object(f.jsx)("div",{className:Ze.a.text,children:"minutes"})]})]})]})]})},Qe=function(e){var t,n,a,r,c=Object(o.useContext)(b);return Object(f.jsx)(s.a.Fragment,{children:Object(f.jsxs)("div",{className:Xe.a.swap,children:[Object(f.jsxs)("main",{className:Xe.a.main,children:[Object(f.jsx)($e,{slippage:e.slippage,slippageAutoHander:e.slippageAutoHander,slippageChangeHander:e.slippageChangeHander,deadline:e.deadline,deadlineChangeHander:e.deadlineChangeHander}),Object(f.jsx)(Ke,{selected:e.selectedCoin,value:e.selectedCoinAmount,onSelect:function(t){return e.coinUpdateHandler(t,"selected")},onChange:function(t){return e.changeAmountHandler({activeAmount:t,type:"selected"})},options:c.supportedTokens}),Object(f.jsx)("div",{className:"icon",onClick:e.tokenExchangerHander,children:Object(f.jsx)("div",{children:"\u21c5"})}),Object(f.jsx)(Ke,{selected:e.pairedCoin,value:e.pairedCoinAmount,onSelect:function(t){return e.coinUpdateHandler(t,"paired")},onChange:function(t){return e.changeAmountHandler({passiveAmount:t,type:"paired"})},options:c.supportedTokens}),Object(f.jsxs)("div",{className:Xe.a.button,children:[Object(f.jsx)("div",{className:Xe.a["approve-button-container"],children:e.displayApproveSelectedCoin&&!e.isApprove&&Object(f.jsxs)(we,{type:"button",onClick:e.approveHandler,children:["Approve ",null===(t=e.selectedCoin)||void 0===t?void 0:t.symbol]})}),Object(f.jsx)(we,{type:"submit",disabled:!e.selectedCoin||!e.pairedCoin||!e.selectedCoinAmount||!e.pairedCoinAmount||e.isLoading||!e.isApprove||!q.gt(e.allowanceAmount,"0")||e.poolInsufficient||q.gt(e.selectedCoinAmount,(null===(n=e.selectedCoin)||void 0===n?void 0:n.balanceOf)||"0"),children:e.isLoading||e.isApprove&&!q.gt(e.allowanceAmount,"0")?"Loading...":e.poolInsufficient||!e.selectedPool&&e.selectedCoin&&e.pairedCoin?"Insufficient liquidity for this trade.":q.gt(e.selectedCoinAmount,(null===(a=e.selectedCoin)||void 0===a?void 0:a.balanceOf)||"0")?"Insufficient ".concat((null===(r=e.selectedCoin)||void 0===r?void 0:r.symbol)||""," balance"):"Swap"})]})]}),Object(f.jsx)("div",{className:"sub",children:Object(f.jsx)(We,{title:"Summary",data:e.details})})]})})},et=n(17),tt=n.n(et),nt=function(e){return Object(f.jsxs)("div",{className:tt.a["title-bar"],children:[Object(f.jsxs)("div",{className:tt.a["title-box"],children:[Object(f.jsx)("div",{className:tt.a.title,children:"Type"}),Object(f.jsx)("div",{className:tt.a.icon})]}),Object(f.jsxs)("div",{className:tt.a["title-box"],children:[Object(f.jsx)("div",{className:tt.a.title,children:"Token Amount"}),Object(f.jsx)("div",{className:tt.a.icon})]}),Object(f.jsxs)("div",{className:tt.a["title-box"],children:[Object(f.jsx)("div",{className:tt.a.title,children:"Token Amount"}),Object(f.jsx)("div",{className:tt.a.icon})]}),Object(f.jsxs)("div",{className:tt.a["title-box"],children:[Object(f.jsx)("div",{className:tt.a.title,children:"Time"}),Object(f.jsx)("div",{className:tt.a.icon})]})]})},at=function(e){return Object(f.jsxs)("div",{className:"".concat(tt.a.tile," ").concat(e.history.pending?tt.a.pending:""),children:[Object(f.jsxs)("div",{className:tt.a.data,children:[e.history.pending&&Object(f.jsx)(oe,{className:"small"}),Object(f.jsx)("div",{children:"".concat(e.history.type," ").concat(e.history.tokenA.symbol," for ").concat(e.history.tokenB.symbol)})]}),Object(f.jsx)("div",{className:tt.a.data,children:"".concat(G(e.history.tokenA.amount,6)," ").concat(e.history.tokenA.symbol)}),Object(f.jsx)("div",{className:tt.a.data,children:"".concat(G(e.history.tokenB.amount,6)," ").concat(e.history.tokenB.symbol)}),Object(f.jsxs)("div",{className:"".concat(tt.a.data," ").concat(tt.a.timestamp),children:[Object(f.jsx)("div",{children:e.history.dateTime.time}),Object(f.jsx)("div",{children:e.history.dateTime.date})]})]})},rt=function(e){return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)("div",{className:"".concat(tt.a.button," ").concat(e.filterType===A?tt.a.active:""),onClick:function(){return e.onFilter(A)},children:"All"}),Object(f.jsx)("div",{className:"".concat(tt.a.button," ").concat(e.filterType===L?tt.a.active:""),onClick:function(){return e.onFilter(L)},children:"Swaps"}),Object(f.jsx)("div",{className:"".concat(tt.a.button," ").concat(e.filterType===P?tt.a.active:""),onClick:function(){return e.onFilter(P)},children:"Adds"}),Object(f.jsx)("div",{className:"".concat(tt.a.button," ").concat(e.filterType===H?tt.a.active:""),onClick:function(){return e.onFilter(H)},children:"Removes"})]})},ct=function(e){var t=Object(o.useState)(A),n=Object(v.a)(t,2),a=n[0],r=n[1],c=Object(o.useState)(e.histories),s=Object(v.a)(c,2),i=s[0],l=s[1],u=Object(o.useCallback)((function(e,t){var n=e===A?t:t.filter((function(t){return t.type===e}));l(n)}),[]);return Object(o.useEffect)((function(){return console.log("filterType",a),console.log("Histories",e.histories),u(a,e.histories),function(){}}),[u,a,e.histories]),Object(f.jsxs)("div",{className:tt.a.list,children:[Object(f.jsxs)("div",{className:tt.a["header-bar"],children:[Object(f.jsx)("div",{className:tt.a.header,children:"Transactions"}),Object(f.jsx)(rt,{onFilter:r,filterType:a})]}),Object(f.jsxs)("div",{className:tt.a.content,children:[Object(f.jsx)(nt,{}),!i.length&&!e.isLoading&&Object(f.jsx)("div",{className:tt.a.hint,children:"No record found."}),!!i.length&&i.map((function(e){return Object(f.jsx)(at,{history:e},e.id)})),e.isLoading&&Object(f.jsx)(oe,{})]})]})},ot=n(72),st=n.n(ot),it=function(e){return Object(f.jsx)(st.a,{options:{title:{text:"Price",align:"left",style:{color:"#c3c5cb"}},chart:{type:"candlestick",height:350,toolbar:{show:!1}},noData:{text:"Loading..."},grid:{show:!1,xaxis:{lines:{show:!1}}},xaxis:{type:"datetime",labels:{rotate:0,axisTicks:{color:"#6c7284"},style:{color:"#c3c5cb"}},axisBorder:{show:!1}},yaxis:{tooltip:{enabled:!0},labels:{formatter:function(e){return"".concat(e?"$"+G(e,4):"")},style:{color:"#c3c5cb"}}}},series:[{data:e.data}],type:"candlestick",height:350})},lt=n(74),ut=n.n(lt),dt=function(e){return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(x,{onCancel:e.onConfirm}),r.a.createPortal(Object(f.jsxs)(g,{className:ut.a.modal,children:[Object(f.jsx)("header",{className:ut.a.header,children:Object(f.jsx)("div",{className:ut.a.cancel,onClick:e.onConfirm,children:"\u2715"})}),Object(f.jsx)("div",{className:ut.a.content,children:Object(f.jsx)("div",{className:ut.a["error-icon"],children:"!"})}),Object(f.jsx)("div",{className:ut.a.message,children:e.message||"Somthing went wrong"}),Object(f.jsx)(we,{onClick:e.onConfirm,children:"Dismiss"})]}),document.getElementById("overlay-root"))]})},pt=n(431),vt=n(435),ht=n(80),bt=n.n(ht),mt=n(434),jt=function(e){var t=Object(o.useContext)(b),n=Object(o.useState)(!1),a=Object(v.a)(n,2),r=a[0],c=a[1],u=Object(o.useState)(!1),h=Object(v.a)(u,2),m=h[0],j=h[1],x=Object(o.useState)(!1),O=Object(v.a)(x,2),k=O[0],g=O[1],_=Object(i.f)(),y=Object(i.e)(),w=Object(o.useState)([]),C=Object(v.a)(w,2),N=C[0],S=C[1],T=Object(o.useState)([]),A=Object(v.a)(T,2),L=A[0],P=A[1],H=Object(o.useState)(null),I=Object(v.a)(H,2),D=I[0],E=I[1],B=Object(o.useState)(null),F=Object(v.a)(B,2),U=F[0],R=F[1],M=Object(o.useState)("0"),K=Object(v.a)(M,2),V=K[0],z=K[1],W=Object(o.useState)(""),X=Object(v.a)(W,2),Y=X[0],Z=X[1],$=Object(o.useState)(null),Q=Object(v.a)($,2),ee=Q[0],te=Q[1],ne=Object(o.useState)(""),ae=Object(v.a)(ne,2),re=ae[0],ce=ae[1],oe=Object(o.useState)(!1),se=Object(v.a)(oe,2),ie=se[0],le=se[1],ue=Object(o.useState)(null),pe=Object(v.a)(ue,2),he=pe[0],be=pe[1],me=Object(o.useState)(t.currentNetwork),je=Object(v.a)(me,2),fe=je[0],xe=je[1],Oe=Object(o.useState)({value:"0.1",message:""}),ke=Object(v.a)(Oe,2),ge=ke[0],_e=ke[1],ye=Object(o.useState)("30"),we=Object(v.a)(ye,2),Ce=we[0],Ne=we[1],Se=Object(o.useState)(!1),Te=Object(v.a)(Se,2),Ae=Te[0],Le=Te[1],Pe=Object(o.useState)([]),He=Object(v.a)(Pe,2),Ie=He[0],De=He[1],Ee=Object(o.useState)([]),Be=Object(v.a)(Ee,2),Fe=Be[0],Ue=Be[1],qe=Object(o.useState)(!1),Re=Object(v.a)(qe,2),Me=Re[0],Ke=Re[1],Ve=Object(o.useState)(null),ze=Object(v.a)(Ve,2),We=ze[0],Ge=ze[1],Xe=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a,r,c,o){var s,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===Ie||void 0===Ie?void 0:Ie.length)||n&&a&&r){e.next=2;break}return e.abrupt("return");case 2:if(!(n&&(null===a||void 0===a?void 0:a.amount)&&(null===r||void 0===r?void 0:r.amount))){e.next=36;break}if(s=q.div(null===a||void 0===a?void 0:a.amount,null===r||void 0===r?void 0:r.amount),e.prev=4,n.reverse){e.next=16;break}if(!q.lte(q.minus(n.poolBalanceOfToken1,r.amount),"0")){e.next=10;break}e.t1="0",e.next=13;break;case 10:return e.next=12,t.getAmountOut(a.amount,[n.token0,n.token1],q.plus(n.poolBalanceOfToken0,a.amount),q.minus(n.poolBalanceOfToken1,r.amount));case 12:e.t1=e.sent;case 13:e.t0=e.t1,e.next=29;break;case 16:if(!n.reverse){e.next=27;break}if(!q.lte(q.minus(n.poolBalanceOfToken0,r.amount),"0")){e.next=21;break}e.t3="0",e.next=24;break;case 21:return e.next=23,t.getAmountOut(a.amount,[n.token1,n.token0],q.plus(n.poolBalanceOfToken1,a.amount),q.minus(n.poolBalanceOfToken0,r.amount));case 23:e.t3=e.sent;case 24:e.t2=e.t3,e.next=28;break;case 27:e.t2=null;case 28:e.t0=e.t2;case 29:l=e.t0,e.next=35;break;case 32:e.prev=32,e.t4=e.catch(4),console.log("getDetails error",e.t4);case 35:i=q.mult(q.div(q.minus(l,r.amount),r.amount),"100");case 36:return e.abrupt("return",[{title:"Price",value:"1 ".concat((null===r||void 0===r?void 0:r.symbol)||"--"," \u2248 ").concat(s?G(s,16):"--"," ").concat((null===a||void 0===a?void 0:a.symbol)||"--"),explain:"Estimated price of the swap, not the final price that the swap is executed."},{title:"Swap Fee",value:"0%",explain:"Trade transaction fee collected by liquidity providers."},{title:"Price Impact",value:"".concat(i?G(i,6):"--"," %"),explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."},{title:"Allowed Slippage",value:(null===c||void 0===c?void 0:c.value)?"".concat(null===c||void 0===c?void 0:c.value,"%"):"0.50%",explain:"The ultimate price and output is determined by the amount of tokens in the pool at the time of your swap."},{title:"paired"===o?"Maximum sent":"Minimun Received",value:"paired"===o?"".concat((null===r||void 0===r?void 0:r.amount)?G(q.mult(null===r||void 0===r?void 0:r.amount,q.plus("1",q.div((null===c||void 0===c?void 0:c.value)||"0.5","100"))),18):"--"):"".concat((null===r||void 0===r?void 0:r.amount)?G(q.mult(null===r||void 0===r?void 0:r.amount,q.minus("1",q.div((null===c||void 0===c?void 0:c.value)||"0.5","100"))),18):"--"," ").concat((null===r||void 0===r?void 0:r.symbol)||"--"),explain:"paired"===o?"Input is estimated. You will sell at most maximum amount or the transaction will revert.":"Output is estimated. You will receive at least minumun amount or the transaction will revert."}]);case 37:case"end":return e.stop()}}),e,null,[[4,32]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),[t,null===Ie||void 0===Ie?void 0:Ie.length]),Ye=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){var a,r,o,s,i,u,p,v,h,b,m,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.active,r=n.passive,o=n.activeAmount,s=n.passiveAmount,i=n.type,u=n.pool,console.log("activeAmount",o),console.log("passiveAmount",s),console.log("active?.contract",null===a||void 0===a?void 0:a.contract),console.log("passive?.contract",null===r||void 0===r?void 0:r.contract),c(!0),Ue(i),b=a||U,m=r||ee,h=u||D){e.next=25;break}e.t0=i,e.next="selected"===e.t0?14:"paired"===e.t0?17:20;break;case 14:return Z(o),ce("0"),e.abrupt("break",21);case 17:return ce(s),Z("0"),e.abrupt("break",21);case 20:return e.abrupt("break",21);case 21:return De([]),P([]),c(!1),e.abrupt("return");case 25:e.t1=i,e.next="selected"===e.t1?28:"paired"===e.t1?53:78;break;case 28:if(p=o,console.log("updateSelectedAmount",p),Z(p),e.prev=31,!h||!q.gt(p,"0")){e.next=38;break}return e.next=35,t.getAmountsOut(p,[b,m]);case 35:e.t2=e.sent,e.next=39;break;case 38:e.t2="0";case 39:v=e.t2,Le(!1),e.next=50;break;case 43:if(e.prev=43,e.t3=e.catch(31),v="0",Le(!0),window.ethereum){e.next=50;break}return le(!0),e.abrupt("return");case 50:return console.log("updatePairedAmount",v),ce(v),e.abrupt("break",79);case 53:if(ce(v=s),console.log("updatePairedAmount",v),e.prev=56,!h||!q.gt(v,"0")){e.next=63;break}return e.next=60,t.getAmountsIn(v,[b,m]);case 60:e.t4=e.sent,e.next=64;break;case 63:e.t4="0";case 64:p=e.t4,Le(!1),e.next=75;break;case 68:if(e.prev=68,e.t5=e.catch(56),p="0",Le(!0),window.ethereum){e.next=75;break}return le(!0),e.abrupt("return");case 75:return console.log("updateSelectedAmount",p),Z(p),e.abrupt("break",79);case 78:return e.abrupt("break",79);case 79:return e.next=81,Xe(h,Object(l.a)(Object(l.a)({},b),{},{amount:p}),Object(l.a)(Object(l.a)({},m),{},{amount:v}),ge,i);case 81:j=e.sent,console.log("getDetails details",j),De(j),c(!1);case 85:case"end":return e.stop()}}),e,null,[[31,43],[56,68]])})));return function(t){return e.apply(this,arguments)}}(),[t,Xe,ee,U,D,ge]),Je=function(){var e=Object(p.a)(d.a.mark((function e(){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!0),a=U,R(n=ee),te(a),e.t0=Fe,e.next="selected"===e.t0?8:"paired"===e.t0?11:14;break;case 8:return e.next=10,Ye({active:n,passive:a,passiveAmount:Y,type:"paired"});case 10:return e.abrupt("break",14);case 11:return e.next=13,Ye({active:n,passive:a,activeAmount:re,type:"selected"});case 13:return e.abrupt("break",14);case 14:if(!D){e.next=19;break}return e.next=17,t.getPoolPriceData(D.poolContract);case 17:r=e.sent,S(r);case 19:c(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a){var r,o,s,i,l,u,p,v,h,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!0),e.t0=a,e.next="selected"===e.t0?4:"paired"===e.t0?9:11;break;case 4:return o=J(n,ee,t.supportedTokens),s=(l=o).active,i=l.passive,e.abrupt("break",12);case 9:return U?(o=J(U,n,t.supportedTokens),s=(u=o).active,i=u.passive):(s=t.supportedTokens.find((function(e){return q.eq(n.contract.toLowerCase(),0)?!q.eq(e.contract.toLowerCase(),0):q.eq(e.contract.toLowerCase(),0)})),i=n),e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:if(R(s),te(i),y.push({pathname:"/swap/".concat(s.contract,"/").concat((null===(r=i)||void 0===r?void 0:r.contract)?i.contract:"")}),!s||!i){e.next=29;break}return c(!0),e.prev=17,e.next=20,t.searchPoolByTokens({token0:s,token1:i});case 20:p=e.sent,E(p),e.next=29;break;case 24:e.prev=24,e.t1=e.catch(17),console.log(e.t1),window.ethereum||le(!0),c(!1);case 29:return e.next=31,Ye({activeAmount:Y,passiveAmount:re,type:a,active:s,passive:i,pool:p});case 31:if(!p){e.next=45;break}return e.next=34,Xe(p,s,i,ge,a);case 34:return v=e.sent,console.log("getDetails details",v),De(v),e.next=39,t.getPoolHistory(p.poolContract);case 39:return h=e.sent,P(h),e.next=43,t.getPoolPriceData(p.poolContract);case 43:b=e.sent,S(b);case 45:c(!1);case 46:case"end":return e.stop()}}),e,null,[[17,24]])})));return function(t,n){return e.apply(this,arguments)}}(),[Ye,t,Xe,y,ee,re,U,Y,ge]);Object(o.useEffect)((function(){return t.isConnected&&t.connectedAccount&&U&&!(null===U||void 0===U?void 0:U.balanceOf)&&R((function(e){return t.supportedTokens.find((function(t){return q.gt(t.balanceOf,"0")&&e.contract.toLowerCase()===t.contract.toLowerCase()}))||e})),function(){}}),[t.connectedAccount,t.isConnected,t.supportedTokens,U]),Object(o.useEffect)((function(){return t.isConnected&&t.connectedAccount&&ee&&!(null===ee||void 0===ee?void 0:ee.balanceOf)&&te((function(e){return t.supportedTokens.find((function(t){return q.gt(t.balanceOf,"0")&&e.contract.toLowerCase()===t.contract.toLowerCase()}))||e})),function(){}}),[t.connectedAccount,t.isConnected,t.supportedTokens,ee]);var $e=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){var a,r,c,o,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.supportedTokens){e.next=2;break}return e.abrupt("return");case 2:if(!(n.length>0)){e.next=14;break}if(!/^0x[a-fA-F0-9]{40}$/.test(n[0])||(null===(a=n[0])||void 0===a?void 0:a.toLowerCase())===(null===U||void 0===U||null===(r=U.contract)||void 0===r?void 0:r.toLowerCase())){e.next=8;break}return e.next=6,t.searchToken(n[0]);case 6:s=e.sent,R(s);case 8:if(!n[1]||!/^0x[a-fA-F0-9]{40}$/.test(n[1])||(null===(c=n[1])||void 0===c?void 0:c.toLowerCase())===(null===ee||void 0===ee||null===(o=ee.contract)||void 0===o?void 0:o.toLowerCase())){e.next=14;break}return e.next=11,t.searchToken(n[1]);case 11:return i=e.sent,e.next=14,Ze(i,"paired");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Ze,t,null===ee||void 0===ee?void 0:ee.contract,null===U||void 0===U?void 0:U.contract]);Object(o.useEffect)((function(){if(!(!_.pathname.includes("/swap/")||!t.supportedTokens>0||!t.supportedPools>0||r)){console.log("setupCoins isLoading",r);var e=_.pathname.replace("/swap/","").split("/");return c(!0),$e(e).then((function(e){y.push({pathname:"/swap"}),c(!1)})),function(){}}}),[t.supportedPools,t.supportedTokens,y,r,_.pathname,$e]);var et=function(){var e=Object(p.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isAllowanceEnough(U.contract,Y,U.decimals);case 2:return n=e.sent,console.log("swap allowance",n),(null===n||void 0===n?void 0:n.isEnough)&&z(null===n||void 0===n?void 0:n.allowanceAmount),m||g(!(null===n||void 0===n?void 0:n.isEnough)),e.abrupt("return",null===n||void 0===n?void 0:n.isEnough);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=Object(p.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(U.contract);case 2:(n=e.sent)&&(j(!!n),g(!n),a=setInterval(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:e.sent&&clearInterval(a);case 4:case"end":return e.stop()}}),e)}))),2500));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){return console.log("swap displayApproveSelectedCoin",k),D&&q.gt(Y,"0")&&q.gt((null===U||void 0===U?void 0:U.balanceOf)||"0",Y)&&q.gt(Y,V||"0")&&!k&&(q.eq(null===U||void 0===U?void 0:U.contract,"0")?(g(!1),j(!0),z(1157920892373162e62)):t.isAllowanceEnough(U.contract,Y,U.decimals).then((function(e){console.log("swap allowance",e),q.gt(null===e||void 0===e?void 0:e.allowanceAmount,"0")&&(z(null===e||void 0===e?void 0:e.allowanceAmount),j(!0)),m||g(!(null===e||void 0===e?void 0:e.isEnough))}))),function(){}}),[m,t,D,U,Y,V,k]),Object(o.useEffect)((function(){return(null===fe||void 0===fe?void 0:fe.chainId)!==t.currentNetwork.chainId&&xe((function(e){return console.log("connectorCtx.currentNetwork",t.currentNetwork),e.chainId!==t.currentNetwork.chainId?(R(null),E(null),te(null),Z(""),ce(""),P([]),_e({value:"0.5",message:""}),De([]),S([]),y.push({pathname:"/swap"}),t.currentNetwork):e})),function(){}}),[t.currentNetwork,null===fe||void 0===fe?void 0:fe.chainId,y]);var nt,at=function(){var e=Object(p.a)(d.a.mark((function e(n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!m){e.next=20;break}return j(!1),e.prev=3,e.next=6,t.swap(Y,re,[U,ee],null===ge||void 0===ge?void 0:ge.value,Ce,Fe);case 6:a=e.sent,console.log("result",a),Ge(a),Ke(!0),Z("0"),ce("0"),r=setTimeout((function(){Ke(!1),clearTimeout(r)}),5e3),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),be(e.t0),le(!0);case 19:j(!0);case 20:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=+t.target.value<0?"0":t.target.value,_e({value:n,message:"".concat(q.gt(n,1)?"Your transaction may be frontrun":"")}),e.next=4,Xe(D,Object(l.a)(Object(l.a)({},U),{},{amount:Y}),Object(l.a)(Object(l.a)({},ee),{},{amount:re}),{value:n,message:"".concat(q.gt(n,1)?"Your transaction may be frontrun":""),lastAmountChangeType:Fe});case 4:a=e.sent,De(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _e({value:"0.1",message:""}),e.next=3,Xe(D,Object(l.a)(Object(l.a)({},U),{},{amount:Y}),Object(l.a)(Object(l.a)({},ee),{},{amount:re}),{value:"0.1",message:""},Fe);case 3:t=e.sent,De(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(s.a.Fragment,{children:[Me&&Object(f.jsx)(pt.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:Me,autoHideDuration:6e3,onClose:function(){return Ke(!1)},message:"Swap ".concat("selected"===Fe?"exact":""," ").concat(null===We||void 0===We?void 0:We.token0AmountChange," ").concat(null===We||void 0===We?void 0:We.token0.symbol," for ").concat("paired"===Fe?"exact":""," ").concat(null===We||void 0===We?void 0:We.token1AmountChange," ").concat(null===We||void 0===We?void 0:We.token1.symbol),action:(nt=null===We||void 0===We?void 0:We.transactionHash,Object(f.jsxs)(s.a.Fragment,{children:[("0x1"===t.currentNetwork.chainId||"0x3"===t.currentNetwork.chainId)&&Object(f.jsx)(mt.a,{color:"secondary",size:"small",onClick:function(){return window.open("0x3"===t.currentNetwork.chainId?"https://ropsten.etherscan.io/tx/".concat(nt):"0x1"===t.currentNetwork.chainId?"https://etherscan.io/tx/".concat(nt):"","_blank")},children:"View on Explorer"}),Object(f.jsx)(vt.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return Ke(!1)},children:Object(f.jsx)(bt.a,{fontSize:"small"})})]}))}),ie&&Object(f.jsx)(dt,{message:he.message,onConfirm:function(){return le(!1)}}),Object(f.jsxs)("form",{className:"page",onSubmit:at,children:[Object(f.jsxs)("div",{className:"header-bar",children:[Object(f.jsx)("div",{className:"header",children:"Swap"}),Object(f.jsx)(de,{shrink:!0})]}),Object(f.jsxs)("div",{className:ve.a.container,children:[Object(f.jsx)("div",{className:ve.a.main,children:Object(f.jsx)(Qe,{selectedPool:D,selectedCoin:U,selectedCoinAmount:Y,pairedCoin:ee,pairedCoinAmount:re,coinUpdateHandler:Ze,changeAmountHandler:Ye,tokenExchangerHander:Je,slippage:ge,slippageChangeHander:rt,slippageAutoHander:ot,deadline:Ce,deadlineChangeHander:function(e){var t=+e.target.value<0?"0":e.target.value;Ne(t)},approveHandler:tt,isApprove:m,displayApproveSelectedCoin:k,details:Ie,isLoading:r,poolInsufficient:Ae,allowanceAmount:V})}),Object(f.jsxs)("div",{className:ve.a.sub,children:[D&&Object(f.jsx)(it,{data:N}),Object(f.jsx)(ct,{histories:L,isLoading:D&&r})]})]})]})]})},ft=s.a.createContext({isLoading:!1,totalBalance:0,reward:0,fiat:{dollarSign:"$",symbol:"USD",exchangeRate:"1"},invests:[],assets:[],histories:[],updateFiat:function(e){},updateAssets:function(e){},updateHistories:function(e){},updateInvests:function(e){}}),xt=n(7),Ot=n.n(xt),kt=s.a.createContext({isLoading:!1,fiat:{dollarSign:"$",symbol:"USD"},fiats:[],updateFiat:function(e){},getFiat:function(e){},getPrice:function(e){}}),gt=function(e){return Object(f.jsxs)("div",{className:"".concat(Ot.a["title-bar"]," ").concat(Ot.a.token),children:[Object(f.jsx)("div",{className:Ot.a.leading,children:"#"}),Object(f.jsxs)("div",{className:Ot.a["title-box"],children:[Object(f.jsx)("div",{className:Ot.a.title,children:"Name"}),Object(f.jsx)("div",{className:Ot.a.icon})]}),Object(f.jsxs)("div",{className:Ot.a["title-box"],children:[Object(f.jsx)("div",{className:Ot.a.title,children:"Price"}),Object(f.jsx)("div",{className:Ot.a.icon})]}),Object(f.jsxs)("div",{className:Ot.a["title-box"],children:[Object(f.jsx)("div",{className:Ot.a.title,children:"Price change"}),Object(f.jsx)("div",{className:Ot.a.icon})]}),Object(f.jsxs)("div",{className:Ot.a["title-box"],children:[Object(f.jsx)("div",{className:Ot.a.title,children:"Volume 24H"}),Object(f.jsx)("div",{className:Ot.a.icon})]})]})},_t=function(e){var t,n,a=Object(o.useContext)(kt),r=Object(i.e)();return Object(f.jsxs)("div",{className:"".concat(Ot.a.tile," ").concat(Ot.a.token),onClick:function(){var t;t=e.token,console.log("option",t),r.push({pathname:"/asset/".concat(t.contract)})},children:[Object(f.jsx)("div",{className:Ot.a.index,children:"".concat(e.index+1)}),Object(f.jsxs)("div",{className:Ot.a.group,children:[Object(f.jsx)("div",{className:Ot.a.icon,children:Object(f.jsx)("img",{src:e.token.iconSrc,alt:"".concat(e.token.symbol)})}),Object(f.jsx)("div",{className:Ot.a.title,children:e.token.symbol})]}),Object(f.jsx)("div",{className:Ot.a.data,children:"".concat(e.fiat.dollarSign," ").concat(G(a.getPrice(e.token.priceToEth.value),6)||"--")}),Object(f.jsxs)("div",{className:"".concat(Ot.a.data," ").concat(e.token.priceToEth.change.includes("-")?Ot.a.decrease:Ot.a.increase),children:[(null===(t=e.token)||void 0===t||null===(n=t.priceToEth)||void 0===n?void 0:n.change)?G(e.token.priceToEth.change.includes("+")||e.token.priceToEth.change.includes("-")?e.token.priceToEth.change.slice(1):e.token.priceToEth.change,6):"--","%"]}),Object(f.jsx)("div",{className:Ot.a.data,children:"".concat(e.fiat.dollarSign," ").concat(G(e.token.volume.value,6)||"--")}),Object(f.jsx)("div",{className:Ot.a.action,children:Object(f.jsx)("a",{className:Ot.a.button,href:"#/swap/".concat(e.token.contract),children:"Swap"})})]})},yt=function(e){var t=Object(o.useContext)(ft);return Object(f.jsxs)("div",{className:"".concat(Ot.a.table," ").concat(Ot.a.token),children:[Object(f.jsx)("div",{className:Ot.a.header,children:"Tokens"}),Object(f.jsxs)("div",{className:Ot.a.container,children:[Object(f.jsx)(gt,{}),Object(f.jsxs)("div",{className:Ot.a.content,children:[!e.tokens.length&&!e.isLoading&&Object(f.jsx)("div",{className:Ot.a.hint,children:"No token found."}),!!e.tokens.length&&e.tokens.map((function(e,n){return Object(f.jsx)(_t,{index:n,token:e,fiat:t.fiat,onClick:function(){}},e.contract)})),e.isLoading&&Object(f.jsx)(oe,{})]})]})]})},wt=function(e){var t=Object(o.useContext)(b),n=Object(o.useContext)(kt),a=function(){var n=Object(p.a)(d.a.mark((function n(a){var r,c,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.pools.findIndex((function(e){return e.token0.contract===a||e.token1.contract===a})),-1!==r){n.next=9;break}return n.next=4,t.searchToken(a);case 4:o=n.sent,console.log(o),c={token0:o},n.next=10;break;case 9:c=e.options[r];case 10:return n.abrupt("return",c);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"page",children:[Object(f.jsxs)("div",{className:"header-bar",children:[Object(f.jsx)("div",{className:"header",children:"Tokens"}),Object(f.jsx)(de,{shrink:!0})]}),Object(f.jsx)(Ee,{className:"page",header:"All Tokens",filterProperty:"name",data:t.supportedTokens,onSelect:function(){},onImport:a,titleBar:gt,isLoading:t.isLoading,hint:"No token found.",children:function(e){return _t({token:e,index:e.index,fiat:n.fiat,id:e.contract})}})]})},Ct=n(49),Nt=n.n(Ct),St=function(){var e,t,n,a,r=Object(o.useContext)(ft),c=Object(o.useContext)(kt),s=Object(o.useContext)(b);return Object(f.jsxs)("div",{className:Nt.a.asset,children:[Object(f.jsx)("div",{className:Nt.a.title,children:"Connected Account"}),Object(f.jsxs)("div",{className:Nt.a.content,children:[s.connectedAccount&&Object(f.jsx)("div",{className:Nt.a.paragraph,children:z(null===(e=s.connectedAccount)||void 0===e?void 0:e.contract,10)}),Object(f.jsxs)("div",{className:Nt.a.icon,children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{})]})]}),r.isLoading?Object(f.jsx)(oe,{}):Object(f.jsxs)("div",{className:Nt.a.content,children:[Object(f.jsx)("div",{className:Nt.a.header1,children:"".concat(r.fiat.dollarSign," ").concat(G(c.getPrice(s.totalBalance),6))}),Object(f.jsxs)("div",{className:Nt.a.subtitle,children:[Object(f.jsx)("div",{className:Nt.a.header2,children:"".concat(G((null===(t=s.connectedAccount)||void 0===t?void 0:t.balanceOf)||"0",4)||"--"," ").concat(s.currentNetwork.nativeCurrency.symbol)}),Object(f.jsx)("div",{className:Nt.a.header2,children:"".concat((null===(n=s.connectedAccount)||void 0===n?void 0:n.balanceOf)?G(c.getPrice(null===(a=s.connectedAccount)||void 0===a?void 0:a.balanceOf)||"0",4):"--")})]})]})]})},Tt=n(239),At=n.n(Tt),Lt=n(15),Pt=n.n(Lt),Ht=function(e){return Object(f.jsxs)("div",{className:Pt.a["title-bar"],children:[Object(f.jsxs)("div",{className:Pt.a["title-box"],children:[Object(f.jsx)("div",{className:Pt.a.title,children:"TOKEN"}),Object(f.jsx)("div",{className:Pt.a.icon})]}),Object(f.jsxs)("div",{className:Pt.a["title-box"],children:[Object(f.jsx)("div",{className:Pt.a.title,children:"MYSHARE"}),Object(f.jsx)("div",{className:Pt.a.icon})]}),Object(f.jsxs)("div",{className:Pt.a["title-box"],children:[Object(f.jsx)("div",{className:Pt.a.title,children:"TVL"}),Object(f.jsx)("div",{className:Pt.a.icon})]}),Object(f.jsxs)("div",{className:Pt.a["title-box"],children:[Object(f.jsx)("div",{className:Pt.a.title,children:"IRR"}),Object(f.jsx)("div",{className:Pt.a.icon})]}),Object(f.jsxs)("div",{className:Pt.a["title-box"],children:[Object(f.jsx)("div",{className:Pt.a.title,children:"REWARD"}),Object(f.jsx)("div",{className:Pt.a.icon})]})]})},It=function(e){var t,n,a,r=Object(i.e)();return Object(f.jsxs)("div",{className:"".concat(Pt.a.tile," ").concat((null===(t=e.pool)||void 0===t?void 0:t.pending)?Pt.a.pending:""),onClick:function(){var t;(t=e.pool).poolContract&&r.push({pathname:"/pool/".concat(t.poolContract)})},children:[Object(f.jsxs)("div",{className:Pt.a.group,children:[Object(f.jsxs)("div",{className:Pt.a.icons,children:[Object(f.jsx)("div",{className:Pt.a.icon,children:Object(f.jsx)("img",{src:e.pool.token0.iconSrc,alt:"".concat(e.pool.token0.symbol)})}),Object(f.jsx)("div",{className:Pt.a.icon,children:Object(f.jsx)("img",{src:e.pool.token1.iconSrc,alt:"".concat(e.pool.token1.symbol)})})]}),Object(f.jsxs)("div",{className:Pt.a.title,children:[(null===(n=e.pool)||void 0===n?void 0:n.pending)&&Object(f.jsx)(oe,{className:"small"}),e.pool.name]})]}),Object(f.jsx)("div",{className:Pt.a.data,children:"".concat(G(q.mult(e.pool.share,"100"),4),"%")}),Object(f.jsx)("div",{className:Pt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(G(e.pool.tvl.value,6)||"--")}),Object(f.jsxs)("div",{className:Pt.a.data,children:["".concat(G(q.mult(e.pool.irr,"100"),4)||"--")," %"]}),Object(f.jsx)("div",{className:Pt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.pool.reward||"0")}),Object(f.jsxs)("div",{className:Pt.a.action,children:[Object(f.jsx)("a",{className:Pt.a.button,href:"#/add-liquidity/".concat(e.pool.token0.contract,"/").concat(e.pool.token1.contract),children:"Add"}),Object(f.jsx)("a",{className:Pt.a.button,href:(null===(a=e.pool)||void 0===a?void 0:a.pending)?"#/assets":"#/redeem-liquidity/".concat(e.pool.poolContract),children:"Remove"})]})]})},Dt=function(e){var t=Object(o.useContext)(kt);return Object(f.jsxs)("div",{className:Pt.a.list,children:[Object(f.jsx)("div",{className:Pt.a.title,children:"Pools"}),Object(f.jsxs)("div",{className:Pt.a.container,children:[Object(f.jsx)(Ht,{}),Object(f.jsxs)("div",{className:Pt.a.content,children:[!e.invests.length&&!e.isLoading&&Object(f.jsx)("div",{className:Pt.a.hint,children:"No token found."}),!!e.invests.length&&e.invests.map((function(e){return Object(f.jsx)(It,{pool:e,fiat:t.fiat},"".concat(e.poolContract,"-").concat(X(6)))})),e.isLoading&&Object(f.jsx)(oe,{})]})]})]})},Et=n(18),Bt=n.n(Et),Ft=function(e){return Object(f.jsxs)("div",{className:Bt.a["title-bar"],children:[Object(f.jsxs)("div",{className:Bt.a["title-box"],children:[Object(f.jsx)("div",{className:Bt.a.title,children:"TOKEN"}),Object(f.jsx)("div",{className:Bt.a.icon})]}),Object(f.jsxs)("div",{className:Bt.a["title-box"],children:[Object(f.jsx)("div",{className:Bt.a.title,children:"PRICE"}),Object(f.jsx)("div",{className:Bt.a.icon})]}),Object(f.jsxs)("div",{className:Bt.a["title-box"],children:[Object(f.jsx)("div",{className:Bt.a.title,children:"PRICE 24H"}),Object(f.jsx)("div",{className:Bt.a.icon})]}),Object(f.jsxs)("div",{className:Bt.a["title-box"],children:[Object(f.jsx)("div",{className:Bt.a.title,children:"BALANCE"}),Object(f.jsx)("div",{className:Bt.a.icon})]}),Object(f.jsxs)("div",{className:Bt.a["title-box"],children:[Object(f.jsx)("div",{className:Bt.a.title,children:"inFIAT"}),Object(f.jsx)("div",{className:Bt.a.icon})]})]})},Ut=function(e){var t,n,a=Object(o.useContext)(kt),r=Object(i.e)();return Object(f.jsxs)("div",{className:Bt.a.tile,onClick:function(){var t;t=e.token,console.log("option",t),r.push({pathname:"/asset/".concat(t.contract)})},children:[Object(f.jsxs)("div",{className:Bt.a.group,children:[Object(f.jsx)("div",{className:Bt.a.icon,children:Object(f.jsx)("img",{src:e.token.iconSrc,alt:"".concat(e.token.symbol)})}),Object(f.jsx)("div",{className:Bt.a.title,children:e.token.symbol})]}),Object(f.jsx)("div",{className:Bt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(G(a.getPrice(e.token.priceToEth.value),6)||"--")}),Object(f.jsxs)("div",{className:"".concat(Bt.a.data," ").concat(e.token.priceToEth.change.includes("-")?Bt.a.decrease:Bt.a.increase),children:[(null===(t=e.token)||void 0===t||null===(n=t.priceToEth)||void 0===n?void 0:n.change)?G(e.token.priceToEth.change.includes("+")||e.token.priceToEth.change.includes("-")?q.mult(e.token.priceToEth.change.slice(1),"100"):q.mult(e.token.priceToEth.change,"100"),4):"--","%"]}),Object(f.jsx)("div",{className:Bt.a.data,children:"".concat(G(e.token.balanceOf,6)," ").concat(e.token.symbol)}),Object(f.jsx)("div",{className:Bt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(G(a.getPrice(e.token.balanceOf),6))}),Object(f.jsx)("div",{className:Bt.a.action,children:Object(f.jsx)("a",{className:Bt.a.button,href:"#/swap/".concat(e.token.contract),children:"Swap"})})]})},qt=function(e){var t=Object(o.useContext)(kt);return Object(f.jsxs)("div",{className:Bt.a.list,children:[Object(f.jsx)("div",{className:Bt.a.title,children:"Tokens"}),Object(f.jsxs)("div",{className:Bt.a.container,children:[Object(f.jsx)(Ft,{}),Object(f.jsxs)("div",{className:Bt.a.content,children:[!e.tokens.length&&!e.isLoading&&Object(f.jsx)("div",{className:Bt.a.hint,children:"No token found."}),!!e.tokens.length&&e.tokens.map((function(e){return Object(f.jsx)(Ut,{token:e,fiat:t.fiat},e.contract)})),e.isLoading&&Object(f.jsx)(oe,{})]})]})]})},Rt=function(e){var t=Object(o.useContext)(b),n=Object(o.useState)([]),a=Object(v.a)(n,2),r=a[0],c=a[1],s=Object(o.useState)([]),i=Object(v.a)(s,2),l=i[0],u=i[1];return Object(o.useEffect)((function(){return t.isConnected?c(t.supportedTokens.filter((function(e){return q.gt(e.balanceOf,0)}))):t.isConnected||c([]),function(){}}),[t.isConnected,t.supportedTokens]),Object(o.useEffect)((function(){return t.isConnected?u(t.supportedPools.filter((function(e){return q.gt(e.share,0)}))):t.isConnected||u([]),function(){}}),[t.isConnected,t.supportedPools]),Object(f.jsxs)("div",{className:"page",children:[Object(f.jsxs)("div",{className:"header-bar",children:[Object(f.jsx)("div",{className:"header",children:"MyAssets"}),Object(f.jsx)(de,{shrink:!0})]}),Object(f.jsxs)("div",{className:At.a.container,children:[Object(f.jsx)(qt,{tokens:r,isLoading:t.isLoading}),Object(f.jsx)(Dt,{invests:l,isLoading:t.isLoading}),Object(f.jsx)(ct,{histories:t.isConnected?t.histories:[],isLoading:t.isLoading})]})]})},Mt=n(123),Kt=n.n(Mt),Vt=n(61),zt=n.n(Vt),Wt=function(e){var t,n,a,r,c,s,i,l,u,d,p,v,h,m=Object(o.useContext)(b);return Object(f.jsxs)("div",{className:zt.a.earn,children:[Object(f.jsxs)("main",{className:zt.a.main,children:[Object(f.jsx)($e,{slippage:e.slippage,slippageAutoHander:e.slippageAutoHander,slippageChangeHander:e.slippageChangeHander,deadline:e.deadline,deadlineChangeHander:e.deadlineChangeHander}),Object(f.jsx)(Ke,{selected:e.selectedCoin,value:e.selectedCoinAmount,onSelect:function(t){return e.coinUpdateHandler({active:t,type:"selected"})},onChange:function(t){return e.changeAmountHandler({activeAmount:t,type:"selected",pool:e.selectedPool})},options:m.supportedTokens}),Object(f.jsx)("div",{className:"icon",children:Object(f.jsx)("div",{children:"+"})}),Object(f.jsx)(Ke,{selected:e.pairedCoin,value:e.pairedCoinAmount,onSelect:function(t){return e.coinUpdateHandler({passive:t,type:"paired"})},onChange:function(t){return e.changeAmountHandler({passiveAmount:t,type:"paired",pool:e.selectedPool})},options:m.supportedTokens}),e.selectedPool&&Object(f.jsx)("div",{className:zt.a.details,children:null===(t=e.details)||void 0===t?void 0:t.map((function(e){return Object(f.jsxs)("div",{className:zt.a.detail,children:[Object(f.jsx)("div",{className:zt.a.value,children:e.value}),Object(f.jsx)("div",{className:zt.a.label,children:e.title})]},X(6))}))}),Object(f.jsxs)("div",{className:zt.a.button,children:[Object(f.jsxs)("div",{className:zt.a["approve-button-container"],children:[e.displayApproveSelectedCoin&&!e.selectedCoinIsApprove&&Object(f.jsxs)(we,{type:"button",onClick:function(){var t;return e.approveHandler(null===(t=e.selectedCoin)||void 0===t?void 0:t.contract,"selected")},children:["Approve ",null===(n=e.selectedCoin)||void 0===n?void 0:n.symbol]}),e.displayApprovePairedCoin&&!e.pairedCoinIsApprove&&Object(f.jsxs)(we,{type:"button",onClick:function(){var t;return e.approveHandler(null===(t=e.pairedCoin)||void 0===t?void 0:t.contract,"paired")},children:["Approve ",null===(a=e.pairedCoin)||void 0===a?void 0:a.symbol]})]}),Object(f.jsx)(we,{type:"submit",disabled:e.isLoading||!(null===(r=e.selectedCoin)||void 0===r?void 0:r.balanceOf)||!(null===(c=e.pairedCoin)||void 0===c?void 0:c.balanceOf)||!e.selectedCoinAmount||!e.pairedCoinAmount||q.gt(e.selectedCoinAmount,null===(s=e.selectedCoin)||void 0===s?void 0:s.balanceOf)||q.gt(e.pairedCoinAmount,null===(i=e.pairedCoin)||void 0===i?void 0:i.balanceOf)||q.gt(e.selectedCoinAmount,e.selectedCoinAllowance)||q.gt(e.pairedCoinAmount,e.pairedCoinAllowance),children:e.isLoading||e.selectedCoinIsApprove&&!q.gt(e.selectedCoinAllowance,"0")||e.pairedCoinIsApprove&&!q.gt(e.pairedCoinAllowance,"0")?"Loading...":e.selectedCoin&&e.pairedCoin?!(null===(l=e.selectedCoin)||void 0===l?void 0:l.balanceOf)||q.gt(e.selectedCoinAmount,null===(u=e.selectedCoin)||void 0===u?void 0:u.balanceOf)?"Insufficient ".concat((null===(d=e.selectedCoin)||void 0===d?void 0:d.symbol)||""," balance"):!(null===(p=e.pairedCoin)||void 0===p?void 0:p.balanceOf)||q.gt(e.pairedCoinAmount,null===(v=e.pairedCoin)||void 0===v?void 0:v.balanceOf)?"Insufficient ".concat((null===(h=e.pairedCoin)||void 0===h?void 0:h.symbol)||""," balance"):"Confirm":"Select Token"})]})]}),Object(f.jsx)("div",{className:"sub",children:Object(f.jsx)(We,{title:"Summary",data:e.summary})})]})},Gt=function(e){var t=Object(o.useContext)(b),n=Object(o.useState)({value:"0.5",message:""}),a=Object(v.a)(n,2),r=a[0],c=a[1],u=Object(o.useState)([]),h=Object(v.a)(u,2),m=h[0],j=h[1],x=Object(o.useState)("30"),O=Object(v.a)(x,2),k=O[0],g=O[1],_=Object(o.useState)(null),y=Object(v.a)(_,2),w=y[0],C=y[1],N=Object(o.useState)(null),S=Object(v.a)(N,2),T=S[0],A=S[1],L=Object(o.useState)(""),P=Object(v.a)(L,2),H=P[0],I=P[1],D=Object(o.useState)("0"),E=Object(v.a)(D,2),B=E[0],F=E[1],U=Object(o.useState)(!1),R=Object(v.a)(U,2),M=R[0],K=R[1],V=Object(o.useState)(!1),z=Object(v.a)(V,2),W=z[0],X=z[1],Y=Object(o.useState)(null),Z=Object(v.a)(Y,2),$=Z[0],Q=Z[1],ee=Object(o.useState)(""),te=Object(v.a)(ee,2),ne=te[0],ae=te[1],re=Object(o.useState)("0"),ce=Object(v.a)(re,2),oe=ce[0],se=ce[1],ie=Object(o.useState)(!1),le=Object(v.a)(ie,2),ue=le[0],pe=le[1],ve=Object(o.useState)(!1),he=Object(v.a)(ve,2),be=he[0],me=he[1],je=Object(i.e)(),fe=Object(i.f)(),xe=Object(o.useState)(!1),Oe=Object(v.a)(xe,2),ke=Oe[0],ge=Oe[1],_e=Object(o.useState)([]),ye=Object(v.a)(_e,2),we=ye[0],Ce=ye[1],Ne=Object(o.useState)([]),Se=Object(v.a)(Ne,2),Te=Se[0],Ae=Se[1],Le=Object(o.useState)(null),Pe=Object(v.a)(Le,2),He=(Pe[0],Pe[1],Object(o.useState)(!1)),Ie=Object(v.a)(He,2),De=Ie[0],Ee=Ie[1],Be=Object(o.useState)(null),Fe=Object(v.a)(Be,2),Ue=Fe[0],qe=Fe[1],Re=Object(o.useState)(t.currentNetwork),Me=Object(v.a)(Re,2),Ke=Me[0],Ve=Me[1],ze=Object(o.useState)(!1),We=Object(v.a)(ze,2),Ge=We[0],Xe=We[1],Ye=Object(o.useState)(null),Je=Object(v.a)(Ye,2),Ze=Je[0],$e=Je[1],Qe=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){var a,r,c,o,s,i,l,u,p,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=n.pool,u=n.selectedCoin,p=n.pairedCoin,n.slippage,console.log("dataUpdateHandler selectedCoin",u),console.log("dataUpdateHandler pairedCoin",p),Ce(l?[{title:"".concat((null===l||void 0===l||null===(a=l.token0)||void 0===a?void 0:a.symbol)||"--"," per ").concat((null===l||void 0===l||null===(r=l.token1)||void 0===r?void 0:r.symbol)||"--"),value:"".concat(G(q.div(null===l||void 0===l?void 0:l.poolBalanceOfToken1,null===l||void 0===l?void 0:l.poolBalanceOfToken0),8))},{title:"".concat((null===l||void 0===l||null===(c=l.token1)||void 0===c?void 0:c.symbol)||"--"," per ").concat((null===l||void 0===l||null===(o=l.token0)||void 0===o?void 0:o.symbol)||"--"),value:"".concat(G(q.div(null===l||void 0===l?void 0:l.poolBalanceOfToken0,null===l||void 0===l?void 0:l.poolBalanceOfToken1),8))},{title:"".concat((null===l||void 0===l?void 0:l.share)?G(q.mult(null===l||void 0===l?void 0:l.share,100),4):"0"," %"),value:"Your pool share",explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."}]:[]),Ae(l?[{title:null===l||void 0===l||null===(s=l.token0)||void 0===s?void 0:s.symbol,value:q.plus(null===l||void 0===l?void 0:l.poolBalanceOfToken0,l.reverse?(null===p||void 0===p?void 0:p.amount)||"0":(null===u||void 0===u?void 0:u.amount)||"0")},{title:null===l||void 0===l||null===(i=l.token1)||void 0===i?void 0:i.symbol,value:q.plus(null===l||void 0===l?void 0:l.poolBalanceOfToken1,l.reverse?(null===u||void 0===u?void 0:u.amount)||"0":(null===p||void 0===p?void 0:p.amount)||"0")},{title:"Share of the pool",value:"".concat((null===u||void 0===u?void 0:u.amount)?G(q.mult(q.div(null===u||void 0===u?void 0:u.amount,q.plus(null===l||void 0===l?void 0:l.poolBalanceOfToken0,(null===u||void 0===u?void 0:u.contract)===(null===l||void 0===l?void 0:l.token0.contract)?(null===u||void 0===u?void 0:u.amount)||"0":(null===p||void 0===p?void 0:p.amount)||"0")),100),4):"0"," %"),explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."},{title:"Total yield",value:"--",explain:"Trade transaction fee collected by liquidity providers."}]:[{title:"Initial prices",value:"1 ".concat((null===u||void 0===u?void 0:u.symbol)||"--"," \u2248 ").concat((null===u||void 0===u?void 0:u.amount)&&(null===p||void 0===p?void 0:p.amount)?q.div(null===u||void 0===u?void 0:u.amount,null===p||void 0===p?void 0:p.amount):"--"," ").concat((null===p||void 0===p?void 0:p.symbol)||"--"),explain:"Estimated price of the swap, not the final price that the swap is executed."},{title:"Initial prices",value:"1 ".concat((null===p||void 0===p?void 0:p.symbol)||"--"," \u2248 ").concat((null===u||void 0===u?void 0:u.amount)&&(null===p||void 0===p?void 0:p.amount)?q.div(null===p||void 0===p?void 0:p.amount,null===u||void 0===u?void 0:u.amount):"--"," ").concat((null===u||void 0===u?void 0:u.symbol)||"--"),explain:"Estimated price of the swap, not the final price that the swap is executed."},{title:"Share of the pool",value:"".concat((null===u||void 0===u?void 0:u.amount)&&(null===p||void 0===p?void 0:p.amount)?"100":"0"," %"),explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."},{title:"Total yield",value:"--",explain:"Trade transaction fee collected by liquidity providers."}]),!l){e.next=10;break}return e.next=8,t.getPoolHistory(l.poolContract);case 8:v=e.sent,j(v);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),et=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){var a,c,o,s,i,u,p,v,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.activeAmount,c=n.passiveAmount,o=n.type,s=n.active,i=n.passive,u=n.pool,p=s||T,v=i||$,e.t0=o,e.next="selected"===e.t0?6:"paired"===e.t0?12:20;break;case 6:return I(a),console.log("formateAddLiquidity updateSelectedAmount",a),h=t.formateAddLiquidity({pool:u,tokenA:p,tokenB:v,amountADesired:a,amountBDesired:ne,type:o}),console.log("formateAddLiquidity result",h),ae(h.amountBDesired),e.abrupt("break",21);case 12:return console.log("formateAddLiquidity type",o),console.log("formateAddLiquidity passiveAmount",c),console.log("formateAddLiquidity _passive.balanceOf",v.balanceOf),ae(c),h=t.formateAddLiquidity({pool:u,tokenA:p,tokenB:v,amountADesired:H,amountBDesired:c,type:o}),console.log("formateAddLiquidity result",h),I(h.amountADesired),e.abrupt("break",21);case 20:return e.abrupt("break",21);case 21:return e.next=23,Qe({pool:u,selectedCoin:Object(l.a)(Object(l.a)({},p),{},{amount:h.amountADesired}),pairedCoin:Object(l.a)(Object(l.a)({},v),{},{amount:h.amountBDesired}),slippage:r});case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,Qe,$,ne,T,H,r]),tt=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){var a,c,o,s,i,u,p,v,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.active,c=n.passive,o=n.type,i=a||T,u=c||$,C(null),Ce([]),Ae([]),j([]),e.t0=o,e.next="selected"===e.t0?10:"paired"===e.t0?15:17;break;case 10:return s=J(a,$,t.supportedTokens),i=(p=s).active,u=p.passive,e.abrupt("break",18);case 15:return i?(s=J(c,i,t.supportedTokens),u=(v=s).active,i=v.passive):(i=t.supportedTokens.find((function(e){var n;return q.gt(c.contrac,0)?q.gt(e.contract,0):!q.gt(e.contract,0)&&e.contract!==(null===(n=t.nativeCurrency)||void 0===n?void 0:n.contract)})),u=c),e.abrupt("break",18);case 17:return e.abrupt("break",18);case 18:if(A(i),Q(u),!i||!u){e.next=35;break}return ge(!0),e.prev=22,e.next=25,t.searchPoolByTokens({token0:i,token1:u});case 25:h=e.sent,console.log("%%% coinUpdateHandler pool",h),C(h),e.next=35;break;case 30:e.prev=30,e.t1=e.catch(22),console.log(e.t1),window.ethereum||Ee(!0),ge(!1);case 35:return e.next=37,Qe({pool:h,selectedCoin:Object(l.a)(Object(l.a)({},i),{},{amount:H}),pairedCoin:Object(l.a)(Object(l.a)({},u),{},{amount:ne}),slippage:r});case 37:return e.next=39,et({pool:h,activeAmount:H,passiveAmount:ne,type:o,active:i,passive:u});case 39:ge(!1);case 40:case"end":return e.stop()}}),e,null,[[22,30]])})));return function(t){return e.apply(this,arguments)}}(),[et,t,Qe,$,ne,T,H,r]),nt=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({value:"0.5",message:""}),e.next=3,Qe({pool:w,selectedCoin:Object(l.a)(Object(l.a)({},T),{},{amount:H}),pairedCoin:Object(l.a)(Object(l.a)({},$),{},{amount:ne}),slippage:{value:"0.5",message:""}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),at=function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=+t.target.value<0?"0":t.target.value,c({value:n,message:"".concat(q.gt(n,1)?"Your transaction may be frontrun":"")}),e.next=4,Qe({pool:w,selectedCoin:Object(l.a)(Object(l.a)({},T),{},{amount:H}),pairedCoin:Object(l.a)(Object(l.a)({},$),{},{amount:ne}),slippage:{value:n,message:""}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(p.a)(d.a.mark((function e(n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!M){e.next=23;break}return K(!1),e.prev=3,e.next=6,t.provideLiquidity({tokenA:T,tokenB:$,amountADesired:H,amountBDesired:ne,slippage:null===r||void 0===r?void 0:r.value,deadline:k,create:!w,reverse:!!w&&w.reverse});case 6:a=e.sent,console.log("provideLiquidityResut",a),$e(a),I("0"),ae("0"),K(!1),pe(!1),Xe(!0),c=setTimeout((function(){Xe(!1),clearTimeout(c)}),5e3),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(3),console.log("error",e.t0),qe(e.t0),Ee(!0);case 22:K(!0);case 23:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t){return e.apply(this,arguments)}}(),ot=Object(o.useCallback)(Object(p.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isAllowanceEnough(T.contract,H,T.decimals);case 2:return n=e.sent,console.log("swap allowance",n),(null===n||void 0===n?void 0:n.isEnough)&&(F(null===n||void 0===n?void 0:n.allowanceAmount),K(!0)),M||X(!(null===n||void 0===n?void 0:n.isEnough)),e.abrupt("return",null===n||void 0===n?void 0:n.isEnough);case 7:case"end":return e.stop()}}),e)}))),[t,null===T||void 0===T?void 0:T.contract,null===T||void 0===T?void 0:T.decimals,H,M]),st=Object(o.useCallback)(Object(p.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isAllowanceEnough($.contract,ne,$.decimals);case 2:return n=e.sent,console.log("swap allowance",n),(null===n||void 0===n?void 0:n.isEnough)&&(se(null===n||void 0===n?void 0:n.allowanceAmount),pe(!0)),ue||me(!(null===n||void 0===n?void 0:n.isEnough)),e.abrupt("return",null===n||void 0===n?void 0:n.isEnough);case 7:case"end":return e.stop()}}),e)}))),[t,null===$||void 0===$?void 0:$.contract,null===$||void 0===$?void 0:$.decimals,ne,ue]),it=function(){var e=Object(p.a)(d.a.mark((function e(n,a){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(n);case 2:if(!(r=e.sent)){e.next=16;break}e.t0=a,e.next="selected"===e.t0?7:"paired"===e.t0?11:15;break;case 7:return K(!!r),X(!r),c=setInterval(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot();case 2:e.sent&&clearInterval(c);case 4:case"end":return e.stop()}}),e)}))),2500),e.abrupt("break",16);case 11:return pe(!!r),me(!r),c=setInterval(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st();case 2:e.sent&&clearInterval(c);case 4:case"end":return e.stop()}}),e)}))),2500),e.abrupt("break",16);case 15:return e.abrupt("break",16);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){return(null===T||void 0===T?void 0:T.balanceOf)&&q.gt(H||"0","0")&&q.gt(T.balanceOf,H)&&q.gt(H,B||"0")&&!W&&(q.gt(null===T||void 0===T?void 0:T.contract,"0")?ot():(X(!1),K(!0),F(1157920892373162e62))),function(){}}),[W,ot,null===T||void 0===T?void 0:T.balanceOf,null===T||void 0===T?void 0:T.contract,B,H]),Object(o.useEffect)((function(){return(null===$||void 0===$?void 0:$.balanceOf)&&q.gt(ne||"0","0")&&q.gt($.balanceOf,ne)&&q.gt(ne,oe||"0")&&!be&&(q.gt(null===$||void 0===$?void 0:$.contract,"0")?st():(me(!1),pe(!0),se(1157920892373162e62))),function(){}}),[be,st,null===$||void 0===$?void 0:$.balanceOf,null===$||void 0===$?void 0:$.contract,oe,ne]),Object(o.useEffect)((function(){return t.isConnected&&t.connectedAccount&&T&&!(null===T||void 0===T?void 0:T.balanceOf)&&A((function(e){return t.supportedTokens.find((function(t){return q.gt(t.balanceOf,"0")&&e.contract.toLowerCase()===t.contract.toLowerCase()}))||e})),function(){}}),[t.connectedAccount,t.isConnected,t.supportedTokens,T]),Object(o.useEffect)((function(){return t.isConnected&&t.connectedAccount&&$&&!(null===$||void 0===$?void 0:$.balanceOf)&&Q((function(e){return t.supportedTokens.find((function(t){return q.gt(t.balanceOf,"0")&&e.contract.toLowerCase()===t.contract.toLowerCase()}))||e})),function(){}}),[t.connectedAccount,t.isConnected,t.supportedTokens,$]);var lt,ut=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){var a,r,c,o,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.supportedTokens){e.next=2;break}return e.abrupt("return");case 2:if(!/^0x[a-fA-F0-9]{40}$/.test(n[0])||(null===(a=n[0])||void 0===a?void 0:a.toLowerCase())===(null===T||void 0===T||null===(r=T.contract)||void 0===r?void 0:r.toLowerCase())){e.next=8;break}return e.next=5,t.searchToken(n[0]);case 5:s=e.sent,console.log("setupCoins active",s),A(s);case 8:if(!n[1]||!/^0x[a-fA-F0-9]{40}$/.test(n[1])||(null===(c=n[1])||void 0===c?void 0:c.toLowerCase())===(null===$||void 0===$||null===(o=$.contract)||void 0===o?void 0:o.toLowerCase())){e.next=14;break}return e.next=11,t.searchToken(n[1]);case 11:return i=e.sent,e.next=14,tt({active:s,passive:i,type:"paired"});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[tt,t,null===$||void 0===$?void 0:$.contract,null===T||void 0===T?void 0:T.contract]);return Object(o.useEffect)((function(){if(!(!fe.pathname.includes("/add-liquidity/")||!t.supportedTokens>0||!t.supportedPools>0||ke)){console.log("setupCoins isLoading",ke);var e=fe.pathname.replace("/add-liquidity/","").split("/");return ge(!0),ut(e).then((function(e){je.push({pathname:"/add-liquidity"}),ge(!1)})),function(){}}}),[t.supportedPools,t.supportedTokens,ke,je,fe.pathname,ut]),Object(o.useEffect)((function(){return(null===Ke||void 0===Ke?void 0:Ke.chainId)!==t.currentNetwork.chainId&&Ve((function(e){return console.log("connectorCtx.currentNetwork",t.currentNetwork),e.chainId!==t.currentNetwork.chainId?(A(null),C(null),Q(null),I(""),ae(""),j([]),c({value:"0.5",message:""}),Qe({pool:null,selectedCoin:null,pairedCoin:null}),t.currentNetwork):e})),function(){}}),[t.currentNetwork,null===Ke||void 0===Ke?void 0:Ke.chainId,Qe]),Object(f.jsxs)(s.a.Fragment,{children:[Ge&&Object(f.jsx)(pt.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:Ge,autoHideDuration:6e3,onClose:function(){return Xe(!1)},message:"Add ".concat(null===Ze||void 0===Ze?void 0:Ze.token0AmountChange," ").concat(null===Ze||void 0===Ze?void 0:Ze.token0.symbol," &  ").concat(null===Ze||void 0===Ze?void 0:Ze.token1AmountChange," ").concat(null===Ze||void 0===Ze?void 0:Ze.token1.symbol," to pool."),action:(lt=null===Ze||void 0===Ze?void 0:Ze.transactionHash,Object(f.jsxs)(s.a.Fragment,{children:[("0x1"===t.currentNetwork.chainId||"0x3"===t.currentNetwork.chainId)&&Object(f.jsx)(mt.a,{color:"secondary",size:"small",onClick:function(){return window.open("0x3"===t.currentNetwork.chainId?"https://ropsten.etherscan.io/tx/".concat(lt):"0x1"===t.currentNetwork.chainId?"https://etherscan.io/tx/".concat(lt):"","_blank")},children:"View on Explorer"}),Object(f.jsx)(vt.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return Xe(!1)},children:Object(f.jsx)(bt.a,{fontSize:"small"})})]}))}),De&&Object(f.jsx)(dt,{message:Ue.message,onConfirm:function(){return Ee(!1)}}),Object(f.jsxs)("form",{className:"page",onSubmit:rt,children:[Object(f.jsxs)("div",{className:"header-bar",children:[Object(f.jsx)("div",{className:"header",children:"Add"}),Object(f.jsx)(de,{shrink:!0})]}),Object(f.jsxs)("div",{className:Kt.a.container,children:[Object(f.jsx)("div",{className:Kt.a.main,children:Object(f.jsx)(Wt,{selectedPool:w,selectedCoin:T,selectedCoinAmount:H,selectedCoinAllowance:B,pairedCoin:$,pairedCoinAmount:ne,pairedCoinAllowance:oe,coinUpdateHandler:tt,changeAmountHandler:et,approveHandler:it,selectedCoinIsApprove:M,displayApproveSelectedCoin:W,pairedCoinIsApprove:ue,displayApprovePairedCoin:be,slippage:r,slippageChangeHander:at,slippageAutoHander:nt,deadline:k,deadlineChangeHander:function(e){var t=+e.target.value<0?"0":e.target.value;g(t)},details:we,summary:Te,isLoading:ke})}),Object(f.jsx)("div",{className:Kt.a.sub,children:Object(f.jsx)(ct,{histories:m,isLoading:w&&ke})})]})]})]})},Xt=n(124),Yt=n.n(Xt),Jt=n(47),Zt=n.n(Jt),$t=function(e){var t=X(6);return Object(f.jsxs)("div",{className:"".concat(Zt.a.input," ").concat(!1===e.isValid?Zt.a.invalid:""," ").concat(e.className?Zt.a[e.className]:""),children:[Object(f.jsx)("label",{htmlFor:t,className:Zt.a.label,children:e.label}),Object(f.jsxs)("div",{className:Zt.a["input-controller"],children:[Object(f.jsx)("input",{id:t,type:"number",value:e.value,onInput:function(t){console.log("onIput",t.target.value);var n=t.target.value;e.onChange(+n)},readOnly:!!e.readOnly,step:"any"}),Object(f.jsx)("div",{className:Zt.a["input-hint"]+(""!==e.value&&+e.value===+e.max?" "+Zt.a.show:""),children:"MAX"})]}),!e.removeDetail&&Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsxs)("div",{className:Zt.a.detail,children:[Object(f.jsx)("div",{children:"Available:"}),Object(f.jsx)("div",{className:Zt.a["input-maximum"],children:G("".concat(e.max),14)}),e.symbol&&Object(f.jsx)("div",{className:Zt.a.symbol,children:e.symbol})]}),Object(f.jsx)("div",{className:Zt.a.message,children:Object(f.jsx)("div",{children:e.message})})]})]})},Qt=n(75),en=n.n(Qt),tn=n(30),nn=n.n(tn),an=function(e){var t,n,a,r;return Object(f.jsxs)("div",{className:nn.a.tile,onClick:function(){return e.onSelect()},children:[Object(f.jsxs)("div",{className:nn.a.group,children:[Object(f.jsxs)("div",{className:nn.a.icons,children:[Object(f.jsx)("div",{className:nn.a.icon,children:Object(f.jsx)("img",{src:e.pool.token0.iconSrc,alt:e.pool.token0.symbol})}),Object(f.jsx)("div",{className:nn.a.icon,children:Object(f.jsx)("img",{src:e.pool.token1.iconSrc,alt:e.pool.token1.symbol})})]}),Object(f.jsx)("div",{className:nn.a.name,children:"".concat(e.pool.token0.symbol,"/").concat(e.pool.token1.symbol)})]}),Object(f.jsx)("div",{className:nn.a.data,children:"".concat((null===(t=e.pool)||void 0===t?void 0:t.share)?G(q.mult(e.pool.share,100),4):"0"," %")}),Object(f.jsxs)("div",{className:nn.a.data,children:[G(null===(n=e.pool)||void 0===n?void 0:n.yield,4)||"--"," %"]}),Object(f.jsx)("div",{className:nn.a.data,children:"".concat(e.fiat.dollarSign," ").concat(G(null===(a=e.pool)||void 0===a||null===(r=a.volume)||void 0===r?void 0:r.value,6)||"--")})]})},rn=n(101),cn=n.n(rn),on=function(e){return Object(f.jsxs)("div",{className:cn.a.pair,onClick:e.onSelect,children:[Object(f.jsx)("div",{className:cn.a.icon,children:Object(f.jsx)("img",{src:e.token0.iconSrc,alt:e.token0.symbol})}),Object(f.jsx)("div",{className:cn.a.icon,children:Object(f.jsx)("img",{src:e.token1.iconSrc,alt:e.token1.symbol})}),Object(f.jsx)("div",{className:cn.a.name,children:e.name})]})},sn=function(e){var t,n,a,r,c=Object(o.useContext)(kt),i=Object(o.useState)(!1),l=Object(v.a)(i,2),u=l[0],d=l[1];return Object(f.jsxs)(s.a.Fragment,{children:[u&&Object(f.jsx)(C,{title:"Select Pool",onCancel:function(){return d(!1)},children:Object(f.jsx)(Ee,{onSelect:function(t){e.onSelect(t),d(!1)},data:e.pools,filterProperty:"name",children:function(t){return an({pool:t,fiat:c.fiat,onSelect:function(){return e.onSelect(t)}})}})}),Object(f.jsxs)("div",{className:en.a.remove,children:[Object(f.jsxs)("main",{className:en.a.main,children:[Object(f.jsxs)("div",{className:en.a.header,children:[e.selectedPool&&Object(f.jsx)(on,{token0:e.selectedPool.token0,token1:e.selectedPool.token1,name:e.selectedPool.name,onSelect:function(){return d(!0)}}),Object(f.jsx)($e,{slippage:e.slippage,slippageAutoHander:e.slippageAutoHander,slippageChangeHander:e.slippageChangeHander,deadline:e.deadline,deadlineChangeHander:e.deadlineChangeHander})]}),Object(f.jsxs)("div",{className:en.a.content,children:[Object(f.jsx)($t,{className:"pannel",max:(null===(t=e.selectedPool)||void 0===t?void 0:t.balanceOf)||"0",symbol:"",onChange:e.changeAmountHandler,value:e.shareAmount}),+e.shareAmount>0&&e.coinOptions.map((function(e){return Object(f.jsx)(Ke,{label:"Coin",selected:e,value:e.amount,readOnly:!0,removeDetail:!0,onSelect:function(){}},e.contract)}))]}),Object(f.jsxs)("div",{className:en.a.button,children:[Object(f.jsx)("div",{className:en.a["approve-button-container"],children:e.displayApprovePoolContract&&!e.poolContractIsApprove&&Object(f.jsxs)(we,{type:"button",onClick:e.approveHandler,children:["Approve ",e.selectedPool.name]})}),Object(f.jsx)(we,{type:"submit",disabled:e.isLoading||!(null===(n=e.selectedPool)||void 0===n?void 0:n.balanceOf)||!e.shareAmount||q.gt(e.shareAmount,(null===(a=e.selectedPool)||void 0===a?void 0:a.balanceOf)||"0")||q.gt(e.shareAmount,e.poolAllowance),children:e.isLoading||e.poolContractIsApprove&&!q.gt(e.poolAllowance,"0")?"Loading...":q.gt(e.shareAmount,(null===(r=e.selectedPool)||void 0===r?void 0:r.balanceOf)||"0")?"Insufficient share amount":"Confirm"})]})]}),Object(f.jsx)("div",{className:"sub",children:Object(f.jsx)(We,{title:"Summary",data:e.details})})]})]})},ln=function(e,t){var n,a,r,c,o,s;return[{title:null===e||void 0===e||null===(n=e.token0)||void 0===n?void 0:n.symbol,value:null===e||void 0===e?void 0:e.poolBalanceOfToken0},{title:null===e||void 0===e||null===(a=e.token1)||void 0===a?void 0:a.symbol,value:null===e||void 0===e?void 0:e.poolBalanceOfToken1},{title:"Take share",value:"".concat((null===e||void 0===e?void 0:e.balanceOf)?G(q.mult(q.div(t,null===e||void 0===e?void 0:e.balanceOf),100),4):"--"," %")},{title:"Price",value:"1 ".concat((null===e||void 0===e||null===(r=e.token0)||void 0===r?void 0:r.symbol)||"--"," \u2248 ").concat(e?G(q.div(null===e||void 0===e?void 0:e.poolBalanceOfToken1,null===e||void 0===e?void 0:e.poolBalanceOfToken0),4):"--"," ").concat((null===e||void 0===e||null===(c=e.token1)||void 0===c?void 0:c.symbol)||"--")},{title:"Price",value:"1 ".concat((null===e||void 0===e||null===(o=e.token1)||void 0===o?void 0:o.symbol)||"--"," \u2248 ").concat(e?G(q.div(null===e||void 0===e?void 0:e.poolBalanceOfToken0,null===e||void 0===e?void 0:e.poolBalanceOfToken1),4):"--"," ").concat((null===e||void 0===e||null===(s=e.token0)||void 0===s?void 0:s.symbol)||"--")},{title:"Your pool share",value:"".concat((null===e||void 0===e?void 0:e.share)?G(q.mult(null===e||void 0===e?void 0:e.share,100),4):"0"," %"),explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."}]},un=function(e){var t=Object(o.useContext)(b),n=Object(o.useState)(null),a=Object(v.a)(n,2),r=a[0],c=a[1],u=Object(o.useState)([]),h=Object(v.a)(u,2),m=h[0],j=h[1],x=Object(o.useState)(""),O=Object(v.a)(x,2),k=O[0],g=O[1],_=Object(o.useState)("0"),y=Object(v.a)(_,2),w=y[0],C=y[1],N=Object(i.e)(),S=Object(i.f)(),T=Object(o.useState)(!1),A=Object(v.a)(T,2),L=A[0],P=A[1],H=Object(o.useState)(!1),I=Object(v.a)(H,2),D=I[0],E=I[1],B=Object(o.useState)(null),F=Object(v.a)(B,2),U=F[0],R=F[1],M=Object(o.useState)(!1),K=Object(v.a)(M,2),V=K[0],z=(K[1],Object(o.useState)([])),W=Object(v.a)(z,2),G=W[0],X=W[1],J=Object(o.useState)([]),Z=Object(v.a)(J,2),$=Z[0],Q=Z[1],ee=Object(o.useState)({value:"5",message:""}),te=Object(v.a)(ee,2),ne=te[0],ae=te[1],re=Object(o.useState)("30"),ce=Object(v.a)(re,2),oe=ce[0],se=ce[1],ie=Object(o.useState)(!1),le=Object(v.a)(ie,2),ue=le[0],pe=le[1],ve=Object(o.useState)(null),he=Object(v.a)(ve,2),be=he[0],me=he[1],je=Object(o.useState)(null),fe=Object(v.a)(je,2),xe=(fe[0],fe[1],Object(o.useState)(!1)),Oe=Object(v.a)(xe,2),ke=Oe[0],ge=Oe[1],_e=Object(o.useState)(null),ye=Object(v.a)(_e,2),we=ye[0],Ce=ye[1];Object(o.useEffect)((function(){var e,n=null===(e=t.supportedPools)||void 0===e?void 0:e.filter((function(e){return q.gt(e.share,"0")}));return X(n),function(){}}),[t.supportedPools]),Object(o.useEffect)((function(){return t.isConnected&&t.connectedAccount&&r&&!(null===r||void 0===r?void 0:r.balanceOf)&&c((function(e){return t.supportedPools.find((function(t){return q.gt(t.balanceOf,"0")&&e.poolContract.toLowerCase()===t.poolContract.toLowerCase()}))||e})),function(){}}),[t.connectedAccount,t.isConnected,t.supportedPools,r]);var Ne=function(){var e=Object(p.a)(d.a.mark((function e(n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(n),N.push({pathname:"/redeem-liquidity/".concat(n.poolContract)}),e.next=4,t.getPoolHistory(n.poolContract);case 4:a=e.sent,Q(a),k&&Se(k);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(e){var t=Y(e,(null===r||void 0===r?void 0:r.balanceOf)||"0");g(t);var n=0===+t?null:+t>0;if(n){R(n);var a=[Object(l.a)(Object(l.a)({},r.token0),{},{amount:q.mult(q.div(t,r.totalSupply),r.poolBalanceOfToken0)}),Object(l.a)(Object(l.a)({},r.token1),{},{amount:q.mult(q.div(t,r.totalSupply),r.poolBalanceOfToken1)})];j(a)}},Te=function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=+t.target.value<0?"0":t.target.value,ae({value:n,message:"".concat(q.gt(n,1)?"Your transaction may be frontrun":"")});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(p.a)(d.a.mark((function e(n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log("submitHandler"),!D){e.next=34;break}if(E(!1),e.prev=4,q.gt(r.token0.contract,0)){e.next=11;break}return e.next=8,t.removeLiquidityETH(r,r.token1,k,q.mult(q.div(k,r.totalSupply),r.poolBalanceOfToken1),q.mult(q.div(k,r.totalSupply),r.poolBalanceOfToken0),null===ne||void 0===ne?void 0:ne.value,oe);case 8:e.t0=e.sent,e.next=21;break;case 11:if(q.gt(r.token1.contract,0)){e.next=17;break}return e.next=14,t.removeLiquidityETH(r,r.token0,k,q.mult(q.div(k,r.totalSupply),r.poolBalanceOfToken0),q.mult(q.div(k,r.totalSupply),r.poolBalanceOfToken1),null===ne||void 0===ne?void 0:ne.value,oe);case 14:e.t1=e.sent,e.next=20;break;case 17:return e.next=19,t.takeLiquidity(r,k,q.mult(q.div(k,r.totalSupply),r.poolBalanceOfToken0),q.mult(q.div(k,r.totalSupply),r.poolBalanceOfToken1),null===ne||void 0===ne?void 0:ne.value,oe);case 19:e.t1=e.sent;case 20:e.t0=e.t1;case 21:a=e.t0,console.log("takeLiquidityResult",a),Ce(a),Se("0"),ge(!0),c=setTimeout((function(){ge(!1),clearTimeout(c)}),5e3),e.next=33;break;case 29:e.prev=29,e.t2=e.catch(4),me(e.t2),pe(!0);case 33:E(!0);case 34:case"end":return e.stop()}}),e,null,[[4,29]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(p.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===r||void 0===r?void 0:r.poolContract){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.approve(r.poolContract);case 4:(n=e.sent)&&(E(n),P(!n),a=setInterval(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:e.sent&&clearInterval(a);case 4:case"end":return e.stop()}}),e)}))),2500));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=Object(o.useCallback)(Object(p.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isAllowanceEnough(r.poolContract,k,r.decimals);case 2:return n=e.sent,console.log("swap allowance",n),(null===n||void 0===n?void 0:n.isEnough)&&(C(null===n||void 0===n?void 0:n.allowanceAmount),E(!0)),D||P(!(null===n||void 0===n?void 0:n.isEnough)),e.abrupt("return",null===n||void 0===n?void 0:n.isEnough);case 7:case"end":return e.stop()}}),e)}))),[t,D,null===r||void 0===r?void 0:r.decimals,null===r||void 0===r?void 0:r.poolContract,k]);Object(o.useEffect)((function(){return t.isConnected&&t.connectedAccount&&r&&!(null===r||void 0===r?void 0:r.balanceOf)&&c((function(e){return t.supportedPools.find((function(t){return q.gt(t.balanceOf,"0")&&e.poolContract.toLowerCase()===t.poolContract.toLowerCase()}))||e})),function(){}}),[t.connectedAccount,t.isConnected,t.supportedPools,r]),Object(o.useEffect)((function(){return U&&q.gt(k,w)&&!L&&Pe(),function(){}}),[L,Pe,U,w,k]);var He,Ie=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.supportedPools.find((function(e){return n.toLowerCase()===e.poolContract.toLowerCase()})),c(a),!a){e.next=7;break}return e.next=5,t.getPoolHistory(a.poolContract);case 5:r=e.sent,Q(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(o.useEffect)((function(){if(S.pathname.includes("/redeem-liquidity/")&&(null===r||void 0===r?void 0:r.poolContract.toLowerCase())!==S.pathname.replace("/redeem-liquidity/","").toLowerCase()){var e=S.pathname.replace("/redeem-liquidity/","");return console.log("getPoolInfo poolContract",e),/^0x[a-fA-F0-9]{40}$/.test(e)?Ie(e):N.push({pathname:"/"}),function(){}}}),[t.supportedPools,Ie,N,S.pathname,null===r||void 0===r?void 0:r.poolContract]),Object(f.jsxs)(s.a.Fragment,{children:[ke&&Object(f.jsx)(pt.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:ke,autoHideDuration:6e3,onClose:function(){return ge(!1)},message:"Take ".concat(null===we||void 0===we?void 0:we.token0AmountChange," ").concat(null===we||void 0===we?void 0:we.token0.symbol," &  ").concat(null===we||void 0===we?void 0:we.token1AmountChange," ").concat(null===we||void 0===we?void 0:we.token1.symbol," from pool."),action:(He=null===we||void 0===we?void 0:we.transactionHash,Object(f.jsxs)(s.a.Fragment,{children:[("0x1"===t.currentNetwork.chainId||"0x3"===t.currentNetwork.chainId)&&Object(f.jsx)(mt.a,{color:"secondary",size:"small",onClick:function(){return window.open("0x3"===t.currentNetwork.chainId?"https://ropsten.etherscan.io/tx/".concat(He):"0x1"===t.currentNetwork.chainId?"https://etherscan.io/tx/".concat(He):"","_blank")},children:"View on Explorer"}),Object(f.jsx)(vt.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return ge(!1)},children:Object(f.jsx)(bt.a,{fontSize:"small"})})]}))}),ue&&Object(f.jsx)(dt,{message:be.message,onConfirm:function(){return pe(!1)}}),Object(f.jsxs)("form",{className:"page",onSubmit:Ae,children:[Object(f.jsxs)("div",{className:"header-bar",children:[Object(f.jsx)("div",{className:"header",children:"Remove"}),Object(f.jsx)(de,{shrink:!0})]}),Object(f.jsxs)("div",{className:Yt.a.container,children:[Object(f.jsx)("div",{className:Yt.a.main,children:Object(f.jsx)(sn,{selectedPool:r,coinOptions:m,pools:G,onSelect:Ne,isLoading:V,approveHandler:Le,shareAmount:k,changeAmountHandler:Se,displayApprovePoolContract:L,poolContractIsApprove:D,details:ln(r,k),slippage:ne,slippageChangeHander:Te,slippageAutoHander:function(){ae({value:"5",message:""})},deadline:oe,deadlineChangeHander:function(e){var t=+e.target.value<0?"0":e.target.value;se(t)},poolAllowance:w})}),Object(f.jsx)("div",{className:Yt.a.sub,children:Object(f.jsx)(ct,{histories:$,isLoading:r&&V})})]})]})]})},dn=function(e){return Object(f.jsxs)("div",{className:"".concat(Ot.a["title-bar"]," ").concat(Ot.a.invest),children:[Object(f.jsx)("div",{className:Ot.a.leading,children:"#"}),Object(f.jsxs)("div",{className:Ot.a["title-box"],children:[Object(f.jsx)("div",{className:Ot.a.title,children:"Pool"}),Object(f.jsx)("div",{className:Ot.a.icon})]}),Object(f.jsxs)("div",{className:Ot.a["title-box"],children:[Object(f.jsx)("div",{className:Ot.a.title,children:"TVL"}),Object(f.jsx)("div",{className:Ot.a.icon})]}),Object(f.jsxs)("div",{className:Ot.a["title-box"],children:[Object(f.jsx)("div",{className:Ot.a.title,children:"IRR"}),Object(f.jsx)("div",{className:Ot.a.icon})]})]})},pn=function(e){var t,n,a,r,c,o=Object(i.e)();return Object(f.jsxs)("div",{className:"".concat(Ot.a.tile," ").concat((null===(t=e.pool)||void 0===t?void 0:t.pending)?Ot.a.pending:""," ").concat(Ot.a.invest),onClick:function(){var t;(t=e.pool).poolContract&&o.push({pathname:"/pool/".concat(t.poolContract)})},children:[Object(f.jsx)("div",{className:Ot.a.index,children:"".concat(e.index+1)}),Object(f.jsxs)("div",{className:Ot.a.group,children:[Object(f.jsxs)("div",{className:Ot.a.icons,children:[Object(f.jsx)("div",{className:Ot.a.icon,children:Object(f.jsx)("img",{src:null===(n=e.pool.token0)||void 0===n?void 0:n.iconSrc,alt:"".concat(e.pool.token0.symbol)})}),Object(f.jsx)("div",{className:Ot.a.icon,children:Object(f.jsx)("img",{src:null===(a=e.pool.token1)||void 0===a?void 0:a.iconSrc,alt:"".concat(e.pool.token1.symbol)})})]}),Object(f.jsxs)("div",{className:Ot.a.title,children:[(null===(r=e.pool)||void 0===r?void 0:r.pending)&&Object(f.jsx)(oe,{className:"small"}),e.pool.name]})]}),Object(f.jsx)("div",{className:Ot.a.data,children:"".concat(e.fiat.dollarSign," ").concat(G(e.pool.tvl.value,6)||"--")}),Object(f.jsxs)("div",{className:Ot.a.data,children:["".concat((null===(c=e.pool)||void 0===c?void 0:c.irr)?G(q.mult(e.pool.irr,"100"),2):"--")," ","%"]}),Object(f.jsx)("div",{className:Ot.a.action,children:Object(f.jsx)("a",{className:Ot.a.button,href:"#/add-liquidity/".concat(e.pool.token0.contract,"/").concat(e.pool.token1.contract),children:"Invest"})})]})},vn=function(e){var t=Object(o.useContext)(ft);return Object(f.jsxs)("div",{className:"".concat(Ot.a.table," ").concat(Ot.a.invest),children:[Object(f.jsx)("div",{className:Ot.a.header,children:"Pools"}),Object(f.jsxs)("div",{className:Ot.a.container,children:[Object(f.jsx)(dn,{}),Object(f.jsxs)("div",{className:Ot.a.content,children:[!e.pools.length&&!e.isLoading&&Object(f.jsx)("div",{className:Ot.a.hint,children:"No pool found."}),!!e.pools.length&&e.pools.map((function(e,n){return Object(f.jsx)(pn,{index:n,pool:e,fiat:t.fiat,onClick:function(){}},"".concat(n,"-").concat(e.poolContract))})),e.isLoading&&Object(f.jsx)(oe,{})]})]})]})},hn=function(e){var t=Object(o.useContext)(b),n=Object(o.useContext)(kt),a=function(){var n=Object(p.a)(d.a.mark((function n(a){var r,c,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.pools.findIndex((function(e){return e.token0.contract.toLowerCase()===a.toLowerCase()||e.token1.contract.toLowerCase()===a.toLowerCase()})),-1!==r){n.next=9;break}return n.next=4,t.searchToken(a);case 4:o=n.sent,console.log(o),c={token0:o},n.next=10;break;case 9:c=e.options[r];case 10:return n.abrupt("return",c);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"page",children:[Object(f.jsxs)("div",{className:"header-bar",children:[Object(f.jsx)("div",{className:"header",children:"Pools"}),Object(f.jsx)(de,{shrink:!0})]}),Object(f.jsx)(Ee,{className:"page",header:"All Pools",filterProperty:"name",data:t.supportedPools,onSelect:function(){},onImport:a,titleBar:dn,isLoading:t.isLoading||n.isLoading,hint:"No pool found.",children:function(e){return pn({pool:e,index:e.index,fiat:n.fiat,id:e.contract})}})]})},bn=n(117),mn=n.n(bn),jn=function(e){return{options:{chart:{type:"area",toolbar:{show:!1}},title:{text:"TVL",align:"left",style:{color:"#c3c5cb"}},noData:{text:"Loading..."},grid:{show:!1,xaxis:{lines:{show:!1}}},yaxis:{show:!1,labels:{formatter:function(e){return"$".concat(G(e,4))}}},xaxis:{categories:e?e.map((function(e){return e.date})):[],tickAmount:12,labels:{rotate:0,axisTicks:{show:!1},style:{color:"#c3c5cb"}},axisBorder:{show:!1}},stroke:{curve:"straight",width:1},dataLabels:{enabled:!1}},series:[{name:"TVL",data:e?e.map((function(e){return e.value})):[]}]}},fn=function(e){var t=Object(o.useState)(jn([])),n=Object(v.a)(t,2),a=n[0],r=n[1],c=Object(o.useContext)(b);return Object(o.useEffect)((function(){return r(jn(c.tvlChartData)),function(){}}),[c.tvlChartData]),Object(f.jsx)("div",{className:mn.a.chart,children:Object(f.jsx)(st.a,{options:a.options,series:a.series,type:"area"})})},xn=function(e){return{options:{chart:{id:"basic-bar",toolbar:{show:!1}},title:{text:"Volume 24H",align:"left",style:{color:"#c3c5cb"}},noData:{text:"Loading..."},grid:{show:!1,xaxis:{lines:{show:!1}}},yaxis:{show:!1,labels:{formatter:function(e){return"$".concat(G(e,4))}}},xaxis:{categories:e?e.map((function(e){return e.date})):[],tickAmount:12,labels:{rotate:0,axisTicks:{show:!1},style:{color:"#c3c5cb"}},axisBorder:{show:!1}},dataLabels:{enabled:!1}},series:[{name:"Volume",data:e?e.map((function(e){return e.value})):[]}]}},On=function(e){var t=Object(o.useState)(xn([])),n=Object(v.a)(t,2),a=n[0],r=n[1],c=Object(o.useContext)(b);return Object(o.useEffect)((function(){return r(xn(c.volumeChartData)),function(){}}),[c.volumeChartData]),Object(f.jsx)("div",{className:mn.a.chart,children:Object(f.jsx)(st.a,{options:a.options,series:a.series,type:"bar"})})},kn=n(57),gn=n.n(kn),_n=function(e){var t=Object(o.useContext)(b);return Object(f.jsxs)("div",{className:"page",children:[Object(f.jsxs)("div",{className:"header-bar",children:[Object(f.jsx)("div",{className:"header",children:"Overview"}),Object(f.jsx)(de,{shrink:!0})]}),Object(f.jsxs)("div",{className:gn.a.chart,children:[Object(f.jsx)(fn,{}),Object(f.jsx)(On,{})]}),Object(f.jsx)("div",{className:gn.a.summary,children:t.overview.map((function(e){return Object(f.jsxs)("div",{className:gn.a.group,children:[Object(f.jsxs)("div",{className:gn.a.title,children:[e.title," :"]}),Object(f.jsxs)("div",{className:gn.a.data,children:[Object(f.jsx)("div",{className:gn.a.value,children:G(e.data.value,3)}),Object(f.jsxs)("div",{className:"".concat(gn.a.change," ").concat(e.data.change.includes("-")?gn.a.decrease:gn.a.increase),children:["(",G(e.data.change.includes("+")||e.data.change.includes("-")?e.data.change.slice(1):e.data.change,3),"%)"]})]})]},X(6))}))}),Object(f.jsx)(yt,{tokens:t.supportedTokens,isLoading:t.isLoading}),Object(f.jsx)(vn,{pools:t.supportedPools,isLoading:t.isLoading})]})},yn=n(126),wn=n(241),Cn=n(159),Nn=n(160),Sn=n.p+"static/media/logo512.68bf591d.png",Tn=n(240),An=n(16),Ln=n.n(An),Pn=n(125),Hn=n.n(Pn),In=function(e){var t=Object(o.useContext)(b);return Object(f.jsx)(s.a.Fragment,{children:t.connectOptions.map((function(n){return Object(f.jsxs)("div",{className:Hn.a["icon-button"],onClick:function(){!function(n){e.onClick();try{t.onConnect(n)}catch(a){console.log("ConnectOptions error",a)}}(n.name)},children:[Object(f.jsx)(g,{className:Hn.a["icon-button__icon"],children:Object(f.jsx)("img",{src:n.src,alt:n.name})}),Object(f.jsx)("p",{className:Hn.a["icon-button__name"],children:n.name})]},n.name)}))})},Dn=function(e){var t=Object(o.useContext)(b),n=Object(i.f)();Object(i.e)();return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsxs)("div",{className:Ln.a.brand,children:[Object(f.jsx)("div",{className:Ln.a.logo,children:Object(f.jsx)("img",{src:Sn,alt:"LOGO"})})," ","TideBit Swap"]}),t.isConnected&&Object(f.jsx)(St,{}),Object(f.jsxs)("div",{className:"".concat(Ln.a.menuOption," ").concat("#/charts"===n.hash?Ln.a.active:""),children:[Object(f.jsx)("div",{className:Ln.a.menuOptionIcon,children:Object(f.jsx)(yn.a,{size:"1.5em"})}),Object(f.jsx)("a",{className:Ln.a.menuOptionText,href:"/#/charts",children:"overview"})]}),Object(f.jsxs)("div",{className:"".concat(Ln.a.menuOption," ").concat(n.hash.includes("tokens")?Ln.a.active:""),children:[Object(f.jsx)("div",{className:Ln.a.menuOptionIcon,children:Object(f.jsx)(wn.a,{size:"1.5em"})}),Object(f.jsx)("a",{className:Ln.a.menuOptionText,href:"#/tokens",children:"tokens"})]}),Object(f.jsxs)("div",{className:"".concat(Ln.a.menuOption," ").concat(n.hash.includes("pools")?Ln.a.active:""),children:[Object(f.jsx)("div",{className:Ln.a.menuOptionIcon,children:Object(f.jsx)(Cn.a,{size:"1.5em"})}),Object(f.jsx)("a",{className:Ln.a.menuOptionText,href:"#/pools",children:"pools"})]}),Object(f.jsxs)("div",{className:"".concat(Ln.a.menuOption," ").concat(n.hash.includes("stakes")?Ln.a.active:""),children:[Object(f.jsx)("div",{className:Ln.a.menuOptionIcon,children:Object(f.jsx)(Cn.a,{size:"1.5em"})}),Object(f.jsx)("a",{className:Ln.a.menuOptionText,href:"#/stakes",children:"stakes"})]}),window.ethereum&&(!t.isConnected||!t.connectedAccount)&&Object(f.jsxs)("div",{className:Ln.a.menuOption,children:[Object(f.jsx)("div",{className:Ln.a.menuOptionIcon,children:Object(f.jsx)(yn.b,{size:"1.5em"})}),Object(f.jsx)("div",{className:Ln.a.menuOptionText,onClick:e.onConnect,children:"connect"})]}),Object(f.jsxs)("div",{className:"".concat(Ln.a.menuOption," ").concat(n.hash.includes("assets")?Ln.a.active:""),children:[Object(f.jsx)("div",{className:Ln.a.menuOptionIcon,children:Object(f.jsx)(Nn.a,{size:"1.5em"})}),Object(f.jsx)("a",{className:Ln.a.menuOptionText,href:"#/assets",children:"my assets"})]}),Object(f.jsxs)("div",{className:"".concat(Ln.a.menuOption," ").concat("#/"===n.hash||n.hash.includes("swap")?Ln.a.active:""),children:[Object(f.jsx)("div",{className:Ln.a.menuOptionIcon,children:Object(f.jsx)(yn.c,{size:"1.5em"})}),Object(f.jsx)("a",{className:Ln.a.menuOptionText,href:"#/swap",children:"swap"})]}),Object(f.jsxs)("div",{className:"".concat(Ln.a.menuOption," ").concat(n.hash.includes("add-liquidity")?Ln.a.active:""),children:[Object(f.jsx)("div",{className:Ln.a.menuOptionIcon,children:Object(f.jsx)(Nn.b,{size:"1.5em"})}),Object(f.jsx)("a",{className:Ln.a.menuOptionText,href:"#/add-liquidity",children:"liquidity"})]})]})},En=function(e){return Object(f.jsxs)("div",{className:Ln.a.footer,children:[Object(f.jsxs)("div",{children:["v",Tn.version," BETA"]}),Object(f.jsx)("div",{children:"\xa92021 TideBit. All rights reserved."}),Object(f.jsx)("div",{children:"Power By CAFECA"})]})},Bn=function(e){var t=Object(o.useContext)(b),n=Object(o.useState)(!1),a=Object(v.a)(n,2),c=a[0],i=a[1],l=function(){i(!0)};return Object(o.useEffect)((function(){return t.isConnected&&t.connectedAccount&&i(!1),function(){}}),[t.connectedAccount,t.isConnected]),Object(f.jsxs)(s.a.Fragment,{children:[c&&Object(f.jsx)(C,{title:"Connect Wallet",onCancel:function(){i(!1)},children:Object(f.jsx)(In,{onClick:l})}),r.a.createPortal(Object(f.jsxs)("div",{className:"menu ".concat(t.isConnected&&t.connectedAccount?Ln.a.connected:""),children:[Object(f.jsx)(Dn,{onConnect:l}),Object(f.jsx)(En,{})]}),document.getElementById("side-menu"))]})},Fn=n(9),Un=n.n(Fn),qn=n(127),Rn=n.n(qn),Mn=function(e){return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(x,{onCancel:function(){}}),r.a.createPortal(Object(f.jsxs)(g,{className:Rn.a.modal,children:[Object(f.jsx)("div",{className:Rn.a.content,children:Object(f.jsx)(oe,{})}),Object(f.jsx)("div",{className:Rn.a.message,children:"Loading..."})]}),document.getElementById("overlay-root"))]})},Kn=function(e){return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)("div",{className:"".concat(Ot.a.button," ").concat(e.filterType===A?Ot.a.active:""),onClick:function(){return e.onFilter(A)},children:"All"}),Object(f.jsx)("div",{className:"".concat(Ot.a.button," ").concat(e.filterType===L?Ot.a.active:""),onClick:function(){return e.onFilter(L)},children:"Swaps"}),Object(f.jsx)("div",{className:"".concat(Ot.a.button," ").concat(e.filterType===P?Ot.a.active:""),onClick:function(){return e.onFilter(P)},children:"Adds"}),Object(f.jsx)("div",{className:"".concat(Ot.a.button," ").concat(e.filterType===H?Ot.a.active:""),onClick:function(){return e.onFilter(H)},children:"Removes"})]})},Vn=function(e){return Object(f.jsxs)("div",{className:Ot.a["title-bar"],children:[Object(f.jsxs)("div",{className:Ot.a["header-bar"],children:[Object(f.jsx)("div",{className:Ot.a.title,children:"Type"}),Object(f.jsx)(Kn,{onFilter:e.onFilter,filterType:e.filterType})]}),Object(f.jsxs)("div",{className:Ot.a["title-box"],children:[Object(f.jsx)("div",{className:Ot.a["title-box"],children:"Token Amount"}),Object(f.jsx)("div",{className:Ot.a.icon})]}),Object(f.jsxs)("div",{className:Ot.a["title-box"],children:[Object(f.jsx)("div",{className:Ot.a["title-box"],children:"Token Amount"}),Object(f.jsx)("div",{className:Ot.a.icon})]}),Object(f.jsxs)("div",{className:Ot.a["title-box"],children:[Object(f.jsx)("div",{className:Ot.a["title-box"],children:"Time"}),Object(f.jsx)("div",{className:Ot.a.icon})]})]})},zn=function(e){var t=Object(o.useState)(A),n=Object(v.a)(t,2),a=n[0],r=n[1],c=Object(o.useState)(e.histories),s=Object(v.a)(c,2),i=s[0],l=s[1];return Object(o.useEffect)((function(){return console.log("filterType",a),console.log("Histories",e.histories),function(e,t){var n=e===A?t:t.filter((function(t){return t.type===e}));l(n),r(e)}(a,e.histories),function(){}}),[a,e.histories]),Object(f.jsxs)("div",{className:"".concat(Ot.a.table," ").concat(Ot.a.history),children:[Object(f.jsx)("div",{className:Ot.a.header,children:"Transactions"}),Object(f.jsxs)("div",{className:Ot.a["header-bar"],children:[Object(f.jsx)("div",{className:Ot.a.header,children:"Transactions"}),Object(f.jsx)(rt,{onFilter:r,filterType:a})]}),Object(f.jsxs)("div",{className:Ot.a.container,children:[Object(f.jsx)(Vn,{onFilter:r,filterType:a}),Object(f.jsxs)("div",{className:Ot.a.content,children:[!i.length&&!e.isLoading&&Object(f.jsx)("div",{className:Ot.a.hint,children:"No record found."}),!!i.length&&i.map((function(e,t){return Object(f.jsx)(at,{history:e,index:t+1},e.id)})),e.isLoading&&Object(f.jsx)(oe,{})]})]})]})},Wn=function(e){var t,n,a,r,c,l,u,h,m,j,x,O,k,g,_,y,w,C,N,S,T,A,L=Object(o.useContext)(b),P=Object(o.useContext)(kt),H=Object(i.f)(),I=Object(i.e)(),D=Object(o.useState)(!0),E=Object(v.a)(D,2),B=E[0],F=E[1],U=Object(o.useState)(null),R=Object(v.a)(U,2),M=R[0],K=R[1],V=Object(o.useState)([]),z=Object(v.a)(V,2),W=z[0],X=z[1],Y=Object(o.useState)([]),J=Object(v.a)(Y,2),Z=J[0],$=J[1],Q=Object(o.useState)([]),ee=Object(v.a)(Q,2),te=ee[0],ne=ee[1];Object(o.useEffect)((function(){if(M){var e=L.supportedPools.filter((function(e){return e.token0.id===M.id||e.token1.id===M.id||e.token0Contract===M.contract||e.token1Contract===M.contract}));ne(e)}return function(){}}),[L.supportedPools,M]);var ae=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return/^0x[a-fA-F0-9]{40}$/.test(t)||I.push({pathname:"/"}),e.next=3,L.searchToken(t);case 3:if(n=e.sent,console.log("token:",n),console.log("token?.contract:",null===n||void 0===n?void 0:n.contract),!n){e.next=18;break}return K(n),e.next=10,L.getTokenPriceData(t);case 10:return a=e.sent,X(a),F(!1),e.next=15,L.getTokenHistory(t);case 15:r=e.sent,console.log("getTokenHistory histories",r),$(r);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[L,I]);return Object(o.useEffect)((function(){return H.pathname.includes("/asset/")&&(null===M||void 0===M?void 0:M.contract)!==H.pathname.replace("/asset/","")&&ae(H.pathname.replace("/asset/","")),function(){}}),[ae,H.pathname,null===M||void 0===M?void 0:M.contract]),Object(f.jsxs)(s.a.Fragment,{children:[B&&Object(f.jsx)(Mn,{}),Object(f.jsxs)("div",{className:"page",children:[Object(f.jsxs)("div",{className:"header-bar",children:[Object(f.jsx)("div",{className:"header",children:"Token"}),Object(f.jsx)(de,{shrink:!0})]}),Object(f.jsx)("div",{className:Un.a.leading,children:Object(f.jsxs)("div",{className:Un.a.group,children:[Object(f.jsx)("div",{className:Un.a.icon,children:Object(f.jsx)("img",{src:null===M||void 0===M?void 0:M.iconSrc,alt:null===M||void 0===M?void 0:M.symbol})}),Object(f.jsx)("div",{className:Un.a.title,children:"".concat((null===M||void 0===M?void 0:M.name)?null===M||void 0===M?void 0:M.name:"--"," (").concat((null===M||void 0===M?void 0:M.symbol)?null===M||void 0===M?void 0:M.symbol:"--",")")})]})}),Object(f.jsxs)("div",{className:Un.a.leading,children:[Object(f.jsxs)("div",{className:Un.a.group,children:[Object(f.jsx)("div",{className:"".concat(Un.a.data," ").concat(Un.a.bold),children:"".concat(P.fiat.dollarSign," ").concat((null===M||void 0===M||null===(t=M.price)||void 0===t?void 0:t.value)?G(null===M||void 0===M?void 0:M.price.value,12):"--")}),Object(f.jsxs)("div",{className:"".concat(Un.a.data," ").concat((null===M||void 0===M?void 0:M.price.change.includes("-"))?Un.a.decrease:Un.a.increase),children:[(null===M||void 0===M||null===(n=M.price)||void 0===n?void 0:n.change)?G(q.mult((null===M||void 0===M||null===(a=M.price)||void 0===a?void 0:a.change.includes("+"))||(null===M||void 0===M||null===(r=M.price)||void 0===r?void 0:r.change.includes("-"))?null===M||void 0===M||null===(c=M.price)||void 0===c?void 0:c.change.slice(1):null===M||void 0===M||null===(l=M.price)||void 0===l?void 0:l.change,"100"),3):"--","%"]})]}),Object(f.jsxs)("div",{className:Un.a.action,children:[Object(f.jsx)("a",{className:Un.a.tag,href:"#/add-liquidity/".concat(null===M||void 0===M?void 0:M.contract),children:"Add Liquidity"}),Object(f.jsx)("a",{className:Un.a.tag,href:"#/swap/".concat(null===M||void 0===M?void 0:M.contract),children:"Swap"})]})]}),Object(f.jsxs)("div",{className:Un.a.main,children:[Object(f.jsxs)("div",{className:Un.a.container,children:[Object(f.jsxs)("div",{className:Un.a["data-detail"],children:[Object(f.jsx)("div",{className:Un.a["data-title"],children:"TVL"}),Object(f.jsx)("div",{className:Un.a["data-value"],children:"".concat(P.fiat.dollarSign," ").concat((null===M||void 0===M||null===(u=M.tvl)||void 0===u?void 0:u.value)?G(null===M||void 0===M?void 0:M.tvl.value,8):"--")}),Object(f.jsxs)("div",{className:"".concat(Un.a["data-change"]," ").concat((null===M||void 0===M||null===(h=M.tvl)||void 0===h?void 0:h.change.includes("-"))?Un.a.decrease:Un.a.increase),children:[(null===M||void 0===M||null===(m=M.tvl)||void 0===m?void 0:m.change)?G(q.mult((null===M||void 0===M||null===(j=M.tvl)||void 0===j?void 0:j.change.includes("+"))||(null===M||void 0===M||null===(x=M.tvl)||void 0===x?void 0:x.change.includes("-"))?null===M||void 0===M||null===(O=M.tvl)||void 0===O?void 0:O.change.slice(1):null===M||void 0===M||null===(k=M.tvl)||void 0===k?void 0:k.change,"100"),3):"--","%"]})]}),Object(f.jsxs)("div",{className:Un.a["data-detail"],children:[Object(f.jsx)("div",{className:Un.a["data-title"],children:"24h Trading Vol"}),Object(f.jsx)("div",{className:Un.a["data-value"],children:"".concat(P.fiat.dollarSign," ").concat((null===M||void 0===M||null===(g=M.volume)||void 0===g?void 0:g.value)?G(null===M||void 0===M?void 0:M.volume.value,8):"--")}),Object(f.jsxs)("div",{className:"".concat(Un.a["data-change"]," ").concat((null===M||void 0===M||null===(_=M.volume)||void 0===_?void 0:_.change.includes("-"))?Un.a.decrease:Un.a.increase),children:[(null===M||void 0===M||null===(y=M.volume)||void 0===y?void 0:y.change)?G(q.mult((null===M||void 0===M||null===(w=M.volume)||void 0===w?void 0:w.change.includes("+"))||(null===M||void 0===M||null===(C=M.volume)||void 0===C?void 0:C.change.includes("-"))?null===M||void 0===M||null===(N=M.volume)||void 0===N?void 0:N.change.slice(1):null===M||void 0===M||null===(S=M.volume)||void 0===S?void 0:S.change,"100"),3):"--","%"]})]}),Object(f.jsxs)("div",{className:Un.a["data-detail"],children:[Object(f.jsx)("div",{className:Un.a["data-title"],children:"7d Trading Vol"}),Object(f.jsx)("div",{className:Un.a["data-value"],children:"".concat(P.fiat.dollarSign," ").concat((null===M||void 0===M?void 0:M.swap7Day)?G(null===M||void 0===M?void 0:M.swap7Day,8):"--")}),Object(f.jsx)("div",{className:"".concat(Un.a["data-change"])})]}),Object(f.jsxs)("div",{className:Un.a["data-detail"],children:[Object(f.jsx)("div",{className:Un.a["data-title"],children:"24h Fees"}),Object(f.jsxs)("div",{className:Un.a["data-value"],children:["$",(null===M||void 0===M||null===(T=M.fee24)||void 0===T?void 0:T.value)?G(null===M||void 0===M||null===(A=M.fee24)||void 0===A?void 0:A.value,4):"--"]}),Object(f.jsx)("div",{className:Un.a["data-change"]})]})]}),Object(f.jsx)("div",{className:Un.a.container,children:Object(f.jsx)("div",{className:Un.a.chart,children:Object(f.jsx)(it,{data:W})})})]}),Object(f.jsx)(vn,{pools:te,isLoading:M&&B||L.isLoading}),Object(f.jsx)(zn,{histories:Z,isLoading:M&&B||L.isLoading})]})]})},Gn=function(e){var t,n,a,r,c,l,u,h,m,j,x,O,k,g,_,y,w,C,N,S,T,A,L,P,H,I,D,E,B,F,U,R,M,K,V,z,W,X,Y,J=Object(o.useContext)(b),Z=Object(o.useContext)(kt),$=Object(i.f)(),Q=Object(i.e)(),ee=Object(o.useState)(!0),te=Object(v.a)(ee,2),ne=te[0],ae=te[1],re=Object(o.useState)(null),ce=Object(v.a)(re,2),oe=ce[0],se=ce[1],ie=Object(o.useState)("--"),le=Object(v.a)(ie,2),ue=le[0],pe=le[1],ve=Object(o.useState)("--"),he=Object(v.a)(ve,2),be=he[0],me=he[1],je=Object(o.useState)([]),fe=Object(v.a)(je,2),xe=fe[0],Oe=fe[1],ke=Object(o.useState)([]),ge=Object(v.a)(ke,2),_e=ge[0],ye=ge[1],we=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return/^0x[a-fA-F0-9]{40}$/.test(t)||Q.push({pathname:"/"}),e.next=3,J.searchPoolByPoolContract(t);case 3:if(!(n=e.sent)){e.next=38;break}return se(n),e.prev=6,e.next=9,J.getAmountsOut("1",[n.token0,n.token1]);case 9:a=e.sent,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),console.log("getPoolInfo error",e.t0),a="--";case 16:return pe(a),e.prev=17,e.next=20,J.getAmountsOut("1",[n.token1,n.token0]);case 20:r=e.sent,e.next=27;break;case 23:e.prev=23,e.t1=e.catch(17),console.log("getPoolInfo error",e.t1),r="--";case 27:return me(r),ae(!1),e.next=31,J.getPoolPriceData(t);case 31:return c=e.sent,Oe(c),e.next=35,J.getPoolHistory(t);case 35:o=e.sent,console.log("getPoolHistory histories",o),ye(o);case 38:case"end":return e.stop()}}),e,null,[[6,12],[17,23]])})));return function(t){return e.apply(this,arguments)}}(),[J,Q]);return Object(o.useEffect)((function(){return console.log('location.pathname.includes("/pool/")',$.pathname.includes("/pool/")),console.log('location.pathname.replace("/pool/", "")',$.pathname.replace("/pool/","")),console.log('pool?.poolContract !== location.pathname.replace("/pool/", "")',(null===oe||void 0===oe?void 0:oe.poolContract)!==$.pathname.replace("/pool/","")),$.pathname.includes("/pool/")&&(null===oe||void 0===oe?void 0:oe.poolContract)!==$.pathname.replace("/pool/","")&&J.supportedPools.length>0&&we($.pathname.replace("/pool/","")).then((function(e){})),function(){}}),[J.supportedPools.length,we,$.pathname,null===oe||void 0===oe?void 0:oe.poolContract]),Object(f.jsxs)(s.a.Fragment,{children:[ne&&Object(f.jsx)(Mn,{}),Object(f.jsxs)("div",{className:"page ".concat(Un.a.pool),children:[Object(f.jsxs)("div",{className:"header-bar",children:[Object(f.jsx)("div",{className:"header",children:"Pool"}),Object(f.jsx)(de,{shrink:!0})]}),Object(f.jsx)("div",{className:Un.a.leading,children:Object(f.jsxs)("div",{className:Un.a.group,children:[Object(f.jsxs)("div",{className:Un.a.icons,children:[Object(f.jsx)("div",{className:Un.a.icon,children:Object(f.jsx)("img",{src:null===oe||void 0===oe||null===(t=oe.token0)||void 0===t?void 0:t.iconSrc,alt:null===oe||void 0===oe||null===(n=oe.token0)||void 0===n?void 0:n.symbol})}),Object(f.jsx)("div",{className:Un.a.icon,children:Object(f.jsx)("img",{src:null===oe||void 0===oe||null===(a=oe.token1)||void 0===a?void 0:a.iconSrc,alt:null===oe||void 0===oe||null===(r=oe.token1)||void 0===r?void 0:r.symbol})})]}),Object(f.jsx)("div",{className:Un.a.title,children:(null===oe||void 0===oe?void 0:oe.name)||"--"}),Object(f.jsxs)("div",{className:"".concat(Un.a.tag," ").concat((null===oe||void 0===oe||null===(c=oe.irr)||void 0===c?void 0:c.includes("-"))?Un.a.decrease:Un.a.increase),children:[(null===oe||void 0===oe?void 0:oe.irr)?G(q.mult(null===oe||void 0===oe?void 0:oe.irr,"100"),2):"--","%"]})]})}),Object(f.jsxs)("div",{className:Un.a["sub-leading"],children:[Object(f.jsxs)("div",{className:Un.a.group,children:[Object(f.jsxs)("div",{className:"".concat(Un.a.tag),children:[Object(f.jsx)("div",{className:Un.a.icon,children:Object(f.jsx)("img",{src:null===oe||void 0===oe||null===(l=oe.token0)||void 0===l?void 0:l.iconSrc,alt:null===oe||void 0===oe||null===(u=oe.token0)||void 0===u?void 0:u.symbol})}),Object(f.jsx)("div",{children:"1 ".concat((null===oe||void 0===oe||null===(h=oe.token0)||void 0===h?void 0:h.symbol)||""," = ").concat(G(ue,8)," ").concat((null===oe||void 0===oe||null===(m=oe.token1)||void 0===m?void 0:m.symbol)||"")})]}),Object(f.jsxs)("div",{className:"".concat(Un.a.tag),children:[Object(f.jsx)("div",{className:Un.a.icon,children:Object(f.jsx)("img",{src:null===oe||void 0===oe||null===(j=oe.token1)||void 0===j?void 0:j.iconSrc,alt:null===oe||void 0===oe||null===(x=oe.token1)||void 0===x?void 0:x.symbol})}),Object(f.jsx)("div",{children:"1 ".concat((null===oe||void 0===oe||null===(O=oe.token1)||void 0===O?void 0:O.symbol)||""," = ").concat(G(be,8)," ").concat((null===oe||void 0===oe||null===(k=oe.token0)||void 0===k?void 0:k.symbol)||"")})]})]}),Object(f.jsxs)("div",{className:Un.a.action,children:[Object(f.jsx)("a",{className:Un.a.tag,href:"#/add-liquidity/".concat(null===oe||void 0===oe||null===(g=oe.token0)||void 0===g?void 0:g.contract,"/").concat(null===oe||void 0===oe||null===(_=oe.token1)||void 0===_?void 0:_.contract),children:"Add Liquidity"}),Object(f.jsx)("a",{className:Un.a.tag,href:"#/swap/".concat(null===oe||void 0===oe||null===(y=oe.token0)||void 0===y?void 0:y.contract,"/").concat(null===oe||void 0===oe||null===(w=oe.token1)||void 0===w?void 0:w.contract),children:"Swap"})]})]}),Object(f.jsxs)("div",{className:Un.a.main,children:[Object(f.jsxs)("div",{className:Un.a.container,children:[Object(f.jsxs)("div",{className:Un.a.info,children:[Object(f.jsx)("div",{className:Un.a["info-title"],children:"Total Tokens Locked"}),Object(f.jsxs)("div",{className:Un.a["info-tile"],children:[Object(f.jsxs)("div",{className:Un.a.group,children:[Object(f.jsx)("div",{className:Un.a.icon,children:Object(f.jsx)("img",{src:null===oe||void 0===oe||null===(C=oe.token0)||void 0===C?void 0:C.iconSrc,alt:null===oe||void 0===oe||null===(N=oe.token0)||void 0===N?void 0:N.symbol})}),Object(f.jsx)("div",{className:Un.a.title,children:null===oe||void 0===oe||null===(S=oe.token0)||void 0===S?void 0:S.symbol})]}),Object(f.jsx)("div",{className:Un.a["info-value"],children:(null===oe||void 0===oe?void 0:oe.poolBalanceOfToken0)?G(null===oe||void 0===oe?void 0:oe.poolBalanceOfToken0,6):"--"})]}),Object(f.jsxs)("div",{className:Un.a["info-tile"],children:[Object(f.jsxs)("div",{className:Un.a.group,children:[Object(f.jsx)("div",{className:Un.a.icon,children:Object(f.jsx)("img",{src:null===oe||void 0===oe||null===(T=oe.token1)||void 0===T?void 0:T.iconSrc,alt:null===oe||void 0===oe||null===(A=oe.token1)||void 0===A?void 0:A.symbol})}),Object(f.jsx)("div",{className:Un.a.title,children:null===oe||void 0===oe||null===(L=oe.token1)||void 0===L?void 0:L.symbol})]}),Object(f.jsx)("div",{className:Un.a["info-value"],children:(null===oe||void 0===oe?void 0:oe.poolBalanceOfToken1)?G(null===oe||void 0===oe?void 0:oe.poolBalanceOfToken1,6):"--"})]})]}),Object(f.jsxs)("div",{className:Un.a["data-detail"],children:[Object(f.jsx)("div",{className:Un.a["data-title"],children:"TVL"}),Object(f.jsx)("div",{className:Un.a["data-value"],children:"".concat(Z.fiat.dollarSign," ").concat((null===oe||void 0===oe||null===(P=oe.tvl)||void 0===P?void 0:P.value)?G(null===oe||void 0===oe?void 0:oe.tvl.value,8):"--")}),Object(f.jsxs)("div",{className:"".concat(Un.a["data-change"]," ").concat((null===oe||void 0===oe||null===(H=oe.tvl)||void 0===H?void 0:H.change.includes("-"))?Un.a.decrease:Un.a.increase),children:[(null===oe||void 0===oe||null===(I=oe.tvl)||void 0===I?void 0:I.change)?G(q.mult((null===oe||void 0===oe||null===(D=oe.tvl)||void 0===D?void 0:D.change.includes("+"))||(null===oe||void 0===oe||null===(E=oe.tvl)||void 0===E?void 0:E.change.includes("-"))?null===oe||void 0===oe||null===(B=oe.tvl)||void 0===B?void 0:B.change.slice(1):null===oe||void 0===oe||null===(F=oe.tvl)||void 0===F?void 0:F.change,"100"),3):"--","%"]})]}),Object(f.jsxs)("div",{className:Un.a["data-detail"],children:[Object(f.jsx)("div",{className:Un.a["data-title"],children:"Volume 24h"}),Object(f.jsx)("div",{className:Un.a["data-value"],children:"".concat(Z.fiat.dollarSign," ").concat((null===oe||void 0===oe||null===(U=oe.volume)||void 0===U?void 0:U.value)?G(null===oe||void 0===oe?void 0:oe.volume.value,8):"--")}),Object(f.jsxs)("div",{className:"".concat(Un.a["data-change"]," ").concat((null===oe||void 0===oe||null===(R=oe.volume)||void 0===R?void 0:R.change.includes("-"))?Un.a.decrease:Un.a.increase),children:[(null===oe||void 0===oe||null===(M=oe.volume)||void 0===M?void 0:M.change)?G(q.mult((null===oe||void 0===oe||null===(K=oe.volume)||void 0===K?void 0:K.change.includes("+"))||(null===oe||void 0===oe||null===(V=oe.volume)||void 0===V?void 0:V.change.includes("-"))?null===oe||void 0===oe||null===(z=oe.volume)||void 0===z?void 0:z.change.slice(1):null===oe||void 0===oe||null===(W=oe.volume)||void 0===W?void 0:W.change,"100"),3):"--","%"]})]}),Object(f.jsxs)("div",{className:Un.a["data-detail"],children:[Object(f.jsx)("div",{className:Un.a["data-title"],children:"24h Fees"}),Object(f.jsxs)("div",{className:Un.a["data-value"],children:["$",(null===oe||void 0===oe||null===(X=oe.fee24)||void 0===X?void 0:X.value)?G(null===oe||void 0===oe||null===(Y=oe.fee24)||void 0===Y?void 0:Y.value,4):"--"]}),Object(f.jsx)("div",{className:Un.a["data-change"]})]})]}),Object(f.jsx)("div",{className:Un.a.container,children:Object(f.jsx)("div",{className:Un.a.chart,children:Object(f.jsx)(it,{data:xe})})})]}),Object(f.jsx)(zn,{histories:_e,isLoading:oe&&ne||J.isLoading})]})]})},Xn=n(26),Yn=n.n(Xn),Jn=function(e){var t=Object(o.useContext)(b),n=Object(i.f)();return Object(f.jsxs)("div",{className:Yn.a.navigator,children:[Object(f.jsx)("div",{className:"".concat(Yn.a.menuOption," ").concat("#/"===n.hash||n.hash.includes("swap")?Yn.a.active:""),children:Object(f.jsx)("a",{className:Yn.a.menuOptionText,href:"#/swap",children:"swap"})}),Object(f.jsx)("div",{className:"".concat(Yn.a.menuOption," ").concat(n.hash.includes("add-liquidity")?Yn.a.active:""),children:Object(f.jsx)("a",{className:Yn.a.menuOptionText,href:"#/add-liquidity",children:"pool"})}),Object(f.jsx)("div",{className:"".concat(Yn.a.menuOption," ").concat(n.hash.includes("stakes")?Yn.a.active:""),children:Object(f.jsx)("a",{className:Yn.a.menuOptionText,href:"#/stakes",children:"stakes"})}),Object(f.jsx)("div",{className:"".concat(Yn.a.menuOption," ").concat("#/charts"===n.hash?Yn.a.active:""),children:Object(f.jsx)("a",{className:Yn.a.menuOptionText,href:"/#/charts",children:"overview"})}),t.isConnected&&t.connectedAccount&&Object(f.jsx)("div",{className:"".concat(Yn.a.menuOption," ").concat(n.hash.includes("assets")?Yn.a.active:""),children:Object(f.jsx)("a",{className:Yn.a.menuOptionText,href:"#/assets",children:"assets"})})]})},Zn=function(e){var t=Object(o.useContext)(b),n=Object(o.useState)(!1),a=Object(v.a)(n,2),c=a[0],i=a[1],l=function(){console.log("connectHandler"),i(!0)};return Object(o.useEffect)((function(){return t.isConnected&&t.connectedAccount&&i(!1),function(){}}),[t.connectedAccount,t.isConnected]),Object(f.jsxs)(s.a.Fragment,{children:[c&&Object(f.jsx)(C,{title:"Connect Wallet",onCancel:function(){i(!1)},children:Object(f.jsx)(In,{onClick:l})}),r.a.createPortal(Object(f.jsxs)("div",{className:"".concat(Yn.a.container," ").concat(t.isConnected&&t.connectedAccount?Yn.a.connected:""),children:[Object(f.jsx)(Jn,{onConnect:l}),window.ethereum&&(!t.isConnected||!t.connectedAccount)&&Object(f.jsx)("div",{className:"".concat(Yn.a.menuOption," ").concat(Yn.a.highlight),children:Object(f.jsx)("div",{className:Yn.a.menuOptionText,onClick:function(){return i(!0)},children:"Connect"})})]}),document.getElementById("side-menu"))]})},$n=n(20),Qn=n.n($n),ea=function(e){var t=Object(o.useState)(window.innerWidth),n=Object(v.a)(t,2),a=n[0],r=n[1];return Object(o.useEffect)((function(){var e=function(){return r(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a<648?Object(f.jsx)("div",{children:"Coming soon"}):function(e){return Object(f.jsxs)("div",{value:e.data.name,className:Qn.a.option+" "+Qn.a.expand,children:[Object(f.jsx)("input",{type:"checkbox",name:"shrink-pool-option",id:e.data.id,className:Qn.a.controller}),Object(f.jsxs)("label",{className:Qn.a.main,htmlFor:e.data.id,children:[Object(f.jsxs)("div",{className:Qn.a.pair,children:[Object(f.jsx)("div",{className:Qn.a.icon,children:Object(f.jsx)("img",{src:e.data.stake.iconSrc,alt:"".concat(e.data.stake.symbol)})}),Object(f.jsx)("div",{className:Qn.a.icon,children:Object(f.jsx)("img",{src:e.data.reward.iconSrc,alt:"".concat(e.data.reward.symbol)})}),Object(f.jsxs)("div",{className:Qn.a.name,children:[Object(f.jsx)("div",{className:Qn.a.title,children:e.data.name.title}),Object(f.jsx)("div",{className:Qn.a.detail,children:e.data.name.detail})]})]}),Object(f.jsxs)("div",{className:"".concat(Qn.a.profit," ").concat(Qn.a.data),children:[Object(f.jsx)("div",{className:Qn.a.title,children:e.data.profit.title}),Object(f.jsx)("div",{className:Qn.a.inCrypto,children:G(e.data.profit.inCrypto,4)}),Object(f.jsx)("div",{className:Qn.a.inFiat,children:G(e.data.profit.inFiat,4)})]}),Object(f.jsxs)("div",{className:"".concat(Qn.a.staked," ").concat(Qn.a.data),children:[Object(f.jsx)("div",{className:Qn.a.title,children:e.data.staked.title}),Object(f.jsx)("div",{className:Qn.a.inCrypto,children:G(e.data.staked.inCrypto,4)}),Object(f.jsx)("div",{className:Qn.a.inFiat,children:G(e.data.staked.inFiat,4)})]}),Object(f.jsxs)("div",{className:Qn.a.apy,children:[Object(f.jsx)("div",{className:Qn.a.title,children:"APY"}),Object(f.jsxs)("div",{className:Qn.a.box,children:[Object(f.jsx)("div",{className:Qn.a.value,children:G(e.data.apy,4)}),Object(f.jsx)("div",{className:Qn.a["tool-controller"],children:"@"})]})]}),Object(f.jsxs)("div",{className:Qn.a.totalStaked,children:[Object(f.jsx)("div",{className:Qn.a.title,children:"Total staked"}),Object(f.jsx)("div",{className:Qn.a.value,children:"".concat(G(e.data.totalStaked,4)," ").concat(e.data.stake.symbol)})]}),Object(f.jsx)("div",{className:Qn.a.toggle,children:"\u276f"})]}),Object(f.jsx)("div",{className:Qn.a.detail,children:Object(f.jsx)("button",{className:Qn.a.operation,type:"button",onClick:e.onClick,children:"Enable Pool"})})]},e.data.id)}(e)},ta=n(70),na=n.n(ta),aa=function(e){var t=Object(o.useContext)(b),n=Object(o.useRef)(),a=Object(o.useState)({key:Object.keys(T)[0],value:Object.values(T)[0]}),r=Object(v.a)(a,2),c=r[0],i=r[1],l=Object(o.useState)(""),u=Object(v.a)(l,2),h=u[0],m=u[1],j=Object(o.useState)([]),x=Object(v.a)(j,2),O=x[0],k=x[1],g=Object(o.useState)(!1),_=Object(v.a)(g,2),y=_[0],w=_[1],C=Object(o.useState)(null),N=Object(v.a)(C,2),S=N[0],A=(N[1],function(){var e=Object(p.a)(d.a.mark((function e(a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(a.target.value.replace(/[^0-9A-Za-z]/gi,"")),!/^0x[a-fA-F0-9]{40}$/.test(a.target.value)){e.next=9;break}return e.next=4,t.searchStake(a.target.value);case 4:r=e.sent,console.log("searchToken",r),r&&k([r]),e.next=10;break;case 9:k(t.supportedStakes.filter((function(e){var t,a;return!n.current||e.contract.toLowerCase().includes(n.current.value.toLowerCase())||(null===e||void 0===e||null===(t=e.name)||void 0===t||null===(a=t.title)||void 0===a?void 0:a.toLowerCase().includes(n.current.value.toLowerCase()))})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(o.useEffect)((function(){return console.log(t.supportedStakes),k(t.supportedStakes.filter((function(e){var t,a;return!n.current||e.contract.toLowerCase().includes(n.current.value.toLowerCase())||(null===e||void 0===e||null===(t=e.name)||void 0===t||null===(a=t.title)||void 0===a?void 0:a.toLowerCase().includes(n.current.value.toLowerCase()))}))),function(){}}),[t.supportedStakes]),Object(f.jsxs)(s.a.Fragment,{children:[y&&Object(f.jsx)(dt,{message:S.message,onConfirm:function(){return w(!1)}}),Object(f.jsxs)("div",{className:"page",children:[Object(f.jsxs)("div",{className:"header-bar",children:[Object(f.jsx)("div",{className:"header",children:"Stakes"}),Object(f.jsx)(de,{shrink:!0})]}),Object(f.jsxs)("div",{className:na.a["tool-bar"],children:[Object(f.jsx)(Se,{className:na.a.dropdown,label:"Sort by",options:Object.keys(T).map((function(e){return{key:e,value:T[e]}})),selected:c,onSelect:function(e){switch(i(e),T[e.key]){case T.HOT:return null===O||void 0===O?void 0:O.sort((function(e,t){return+t.hot-+e.hot}));case T.IRR:return null===O||void 0===O?void 0:O.sort((function(e,t){return+t.irr-+e.irr}));case T.APY:return null===O||void 0===O?void 0:O.sort((function(e,t){return+t.apy-+e.apy}));case T.POOLBALANCE:return null===O||void 0===O?void 0:O.sort((function(e,t){return+t.balanceOf.inFiat-+e.balanceOf.inFiat}));case T.PROFIT:return null===O||void 0===O?void 0:O.sort((function(e,t){return+t.profit.inFiat-+e.profit.inFiat}));case T.TOTALSTAKED:return null===O||void 0===O?void 0:O.sort((function(e,t){return+t.totalStaked-+e.totalStaked}));default:return O}},placeholder:"Select Sort",children:function(e){return function(e){return Object(f.jsx)("div",{className:na.a.option,children:e})}(e.value)}}),Object(f.jsxs)("div",{className:na.a.search,children:[Object(f.jsx)("div",{className:na.a.label,children:"Search"}),Object(f.jsx)(xe,{value:h,onChange:A,placeholder:"Search"})]})]}),Object(f.jsxs)("div",{className:na.a.list,children:[O.map((function(t){return Object(f.jsx)(ea,{data:t,onClick:function(){return e.onClick(t)}},X(6))})),t.isLoading&&Object(f.jsx)("div",{className:na.a.container,children:Object(f.jsx)(oe,{})})]})]})]})},ra=function(){return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(Bn,{}),Object(f.jsx)(Zn,{}),Object(f.jsxs)(c.b,{children:[Object(f.jsx)(i.a,{exact:!0,path:"/",children:Object(f.jsx)(jt,{})}),Object(f.jsx)(i.a,{exact:!0,path:"/charts",children:Object(f.jsx)(_n,{})}),Object(f.jsx)(i.a,{path:"/stakes",children:Object(f.jsx)(aa,{})}),Object(f.jsx)(i.a,{path:"/tokens",children:Object(f.jsx)(wt,{})}),Object(f.jsx)(i.a,{path:"/pools",children:Object(f.jsx)(hn,{})}),Object(f.jsx)(i.a,{path:"/pool",children:Object(f.jsx)(Gn,{})}),Object(f.jsx)(i.a,{path:"/assets",children:Object(f.jsx)(Rt,{})}),Object(f.jsx)(i.a,{path:"/asset",children:Object(f.jsx)(Wn,{})}),Object(f.jsx)(i.a,{path:"/swap",children:Object(f.jsx)(jt,{})}),Object(f.jsx)(i.a,{path:"/add-liquidity",children:Object(f.jsx)(Gt,{})}),Object(f.jsx)(i.a,{path:"/redeem-liquidity",children:Object(f.jsx)(un,{})})]})]})},ca=function(e){var t=Object(o.useMemo)((function(){return e.ttsc}),[e.ttsc]),n=Object(o.useState)(e.network),a=Object(v.a)(n,2),r=a[0],c=a[1],s=Object(o.useState)(e.supportedNetworks),i=Object(v.a)(s,2),u=i[0],h=i[1],m=Object(o.useState)(t.walletList),j=Object(v.a)(m,2),x=j[0],O=j[1],k=Object(o.useState)(!1),g=Object(v.a)(k,2),_=g[0],y=g[1],w=Object(o.useState)(!0),C=Object(v.a)(w,2),N=C[0],S=C[1],T=Object(o.useState)(null),A=Object(v.a)(T,2),L=A[0],P=A[1],H=Object(o.useState)([]),I=Object(v.a)(H,2),D=I[0],E=I[1],B=Object(o.useState)([]),F=Object(v.a)(B,2),U=F[0],q=F[1],R=Object(o.useState)([]),M=Object(v.a)(R,2),K=M[0],V=M[1],z=Object(o.useState)([]),W=Object(v.a)(z,2),G=W[0],X=W[1],Y=Object(o.useState)([]),J=Object(v.a)(Y,2),Z=J[0],$=J[1],Q=Object(o.useState)([]),ee=Object(v.a)(Q,2),te=ee[0],ne=ee[1],ae=Object(o.useState)(!1),re=Object(v.a)(ae,2),ce=re[0],oe=re[1],se=Object(o.useState)(null),ie=Object(v.a)(se,2),le=ie[0],ue=ie[1],de=Object(o.useState)(null),pe=Object(v.a)(de,2),ve=pe[0],he=pe[1],be=Object(o.useState)("0.0"),me=Object(v.a)(be,2),je=me[0],fe=me[1],xe=Object(o.useState)("-.-"),Oe=Object(v.a)(xe,2),ke=Oe[0],ge=(Oe[1],Object(o.useState)([])),_e=Object(v.a)(ge,2),ye=_e[0],we=_e[1];Object(o.useEffect)((function(){var e;return console.log("useEffect ttsc",t),null===(e=t.messenger)||void 0===e||e.subscribe((function(e){switch(console.log("ttsc.messenger",e),e.evt){case"UpdateConnectedStatus":y(e.data),e.data?(y(e.data),he(t.connectedAccount),P(t.nativeCurrency)):(y(e.data),he(null));break;case"UpdateChart":X(e.data.tvl),$(e.data.volume);break;case"UpdateTotalBalance":fe(e.data);break;case"UpdateConnectedAccount":he(e.data);break;case"UpdateNativeCurrency":P(e.data);break;case"UpdateSupportedNetworks":h(e.data);break;case"UpdateConnectOptions(":O(t.walletList);break;case"UpdateNetwork":c(e.data);break;case"UpdateSupportedTokens":q(e.data),S(!1);break;case"UpdateSupportedStakes":V(e.data),S(!1);break;case"UpdateSupportedPools":E(e.data);break;case"UpdateHistories":we(e.data);break;case"UpdateOveriew":ne(e.data)}})),t.start().then((function(){return S(!1)})),function(){}}),[t]);var Ce=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,t.connect(n);case 4:e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(1),console.log("connect error",e.t0),ue({hasError:!0,message:e.t0.message}),e.t0;case 11:S(!1);case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),[t]),Ne=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,console.log("disconnectHandler isLoading"),e.next=5,t.disconnect();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("disconnectHandler error",e.t0),ue(Object(l.a)(Object(l.a)({},e.t0),{},{hasError:!0}));case 11:console.log("disconnectHandler finish"),S(!1);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),Se=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),console.log("switchNetwork network",n),e.prev=2,e.next=5,t.switchNetwork(n);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("switchNetwork error",e.t0),ue(Object(l.a)(Object(l.a)({},e.t0),{},{hasError:!0}));case 11:S(!1);case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[t]),Te=Object(o.useCallback)(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSupportedStakes();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[t]),Ae=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getPoolBalanceOf(n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),Le=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAssetBalanceOf(n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),Pe=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.token0,r=n.token1,e.next=3,t.searchPoolByTokens({token0:a,token1:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),He=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.searchPoolByPoolContract(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),Ie=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTokenHistory(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),De=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getPoolHistory(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),Ee=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTokenPriceData(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),Be=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getPoolPriceData(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),Fe=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.searchToken(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),Ue=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.searchStake(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),qe=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isAllowanceEnough(n,a,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[t]),Re=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(n,a,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[t]),Me=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createPair(n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),Ke=Object(o.useCallback)((function(e){var n=e.pool,a=e.tokenA,r=e.tokenB,c=e.amountADesired,o=e.amountBDesired,s=e.type;return t.formateAddLiquidity({pool:n,tokenA:a,tokenB:r,amountADesired:c,amountBDesired:o,type:s})}),[t]),Ve=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n){var a,r,c,o,s,i,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.tokenA,r=n.tokenB,c=n.amountADesired,o=n.amountBDesired,s=n.slippage,i=n.deadline,l=n.create,u=n.reverse,e.next=3,t.provideLiquidity({tokenA:a,tokenB:r,amountADesired:c,amountBDesired:o,slippage:s,deadline:i,create:l,reverse:u});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),ze=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a,r,c,o,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.swap(n,a,r,c,o,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,o){return e.apply(this,arguments)}}(),[t]),We=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a,r,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAmountIn(n,a,r,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),[t]),Ge=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a,r,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAmountOut(n,a,r,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),[t]),Xe=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAmountsIn(n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),Ye=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAmountsOut(n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),Je=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a,r,c,o,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.takeLiquidity(n,a,r,c,o,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,o){return e.apply(this,arguments)}}(),[t]),Ze=Object(o.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(n,a,r,c,o,s,i){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.removeLiquidityETH(n,a,r,c,o,s,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,o,s){return e.apply(this,arguments)}}(),[t]);return Object(f.jsx)(b.Provider,{value:{tvlChartData:G,volumeChartData:Z,totalBalance:je,totalReward:ke,initial:ce,isLoading:N,isConnected:_,connectOptions:x,connectedAccount:ve,histories:ye,supportedNetworks:u,supportedPools:D,supportedTokens:U,supportedStakes:K,overview:te,currentNetwork:r,nativeCurrency:L,error:le,isInit:function(){return oe(!1)},onConnect:Ce,onDisconnect:Ne,switchNetwork:Se,getAssetBalanceOf:Le,getPoolBalanceOf:Ae,searchPoolByPoolContract:He,searchPoolByTokens:Pe,getTokenPriceData:Ee,getPoolPriceData:Be,searchToken:Fe,searchStake:Ue,isAllowanceEnough:qe,approve:Re,createPair:Me,formateAddLiquidity:Ke,provideLiquidity:Ve,getAmountIn:We,getAmountsIn:Xe,getAmountOut:Ge,getAmountsOut:Ye,swap:ze,takeLiquidity:Je,removeLiquidityETH:Ze,setSupportedTokens:q,setSupportedPools:E,getTokenHistory:Ie,getPoolHistory:De,getSupportedStakes:Te},children:e.children})},oa=n(62),sa=n(242),ia=!0,la="/api/v1",ua=n(391),da=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.apiURL,a=void 0===n?"":n;return Object(D.a)(this,e),this.url=a,this.axios=ua.create({baseURL:la+this.url}),this}return Object(E.a)(e,[{key:"setInterceptor",value:function(){}},{key:"setToken",value:function(e){this.axios.defaults.headers.common.token=e}},{key:"getToken",value:function(){try{return this.axios.defaults.headers.common.token||null}catch(e){return null}}},{key:"_request",value:function(e){return e().then((function(e){return e.data?{success:e.data.success,data:e.data.payload,message:e.data.message,code:e.data.code}:{success:!1}}))}},{key:"get",value:function(e){var t=this;return this._request((function(){return t.axios.get(e)}))}},{key:"post",value:function(e,t){var n=this;return this._request((function(){return n.axios.post(e,t)}))}},{key:"delete",value:function(e,t){var n=this;return this._request((function(){return n.axios.delete(e,t)}))}},{key:"put",value:function(e,t){var n=this;return this._request((function(){return n.axios.put(e,t)}))}},{key:"_refreshToken",value:function(){}}]),e}(),pa=da,va=function(){function e(t){var n=t.apiURL,a=t.apiKey,r=t.apiSecret;return Object(D.a)(this,e),this.apiURL=n,this.apiKey=a,this.apiSecret=r,this.httpAgent=new pa({apiURL:n}),this.token=null,this.tokenSecret=null,this.tokenRenewTimeout=null,this}return Object(E.a)(e,[{key:"accessTokenRenew",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,a=t.tokenSecret,e.prev=1,r={token:n,tokenSecret:a},e.next=5,this.httpAgent.post(this.apiURL+"/token/renew",r);case 5:if(!(c=e.sent).success){e.next=9;break}return this._setInfo(c.data.token,c.data.tokenSecret),e.abrupt("return",c.data);case 9:return e.abrupt("return",Promise.reject({message:c.message,code:c.code}));case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",Promise.reject({message:e.t0}));case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tokenPriceData",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/tokenPriceData/").concat(n));case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tvlHistory",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/tvlHistory/"));case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"volume24hr",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/volume24hr/"));case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchToken",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&n){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/searchToken/")+n);case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tokenList",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/tokenList"));case 3:if(!(n=e.sent).success){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"poolList",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/poolList"));case 3:if(!(n=e.sent).success){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchPool",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r){var c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&n&&a){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return c={token0Contract:n,token1Contract:a,create:!!r},e.next=6,this._post(this.apiURL+"/chainId/".concat(t,"/explorer/searchPool/"),c);case 6:if(!(o=e.sent).success){e.next=9;break}return e.abrupt("return",o.data);case 9:return e.abrupt("return",Promise.reject({message:o.message,code:o.code}));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"poolDetail",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&n){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/poolDetail/")+n);case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addrTransHistory",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/addrTransHistory/").concat(n));case 3:if(!(a=e.sent).success){e.next=6;break}return e.abrupt("return",a.data);case 6:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tokenDetail",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&n){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/tokenDetail/")+n);case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"cryptoRate",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get(this.apiURL+"/rate/crypto/chainId/".concat(t));case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fiatsRate",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get(this.apiURL+"/rate/fiat");case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tokenTransHistory",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/tokenHistory/").concat(n));case 3:if(!(a=e.sent).success){e.next=6;break}return e.abrupt("return",a.data);case 6:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"poolTransHistory",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/poolHistory/").concat(n));case 3:if(!(a=e.sent).success){e.next=6;break}return e.abrupt("return",a.data);case 6:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"overview",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/overview/"));case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"poolPriceData",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/poolPriceData/").concat(n));case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpAgent.get(t);case 3:if((n=e.sent).code!==oa.EXPIRED_ACCESS_TOKEN){e.next=10;break}return e.next=7,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 7:return e.next=9,this.httpAgent.get(t);case 9:n=e.sent;case 10:return e.abrupt("return",n);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.code!==oa.EXPIRED_ACCESS_TOKEN){e.next=25;break}return e.prev=16,e.next=19,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 19:return e.abrupt("return",this.httpAgent.get(t));case 22:return e.prev=22,e.t1=e.catch(16),e.abrupt("return",Promise.reject(e.t0));case 25:return e.abrupt("return",Promise.reject(e.t0));case 26:case"end":return e.stop()}}),e,this,[[0,13],[16,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_post",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpAgent.post(t,n);case 3:if((a=e.sent).code!==oa.EXPIRED_ACCESS_TOKEN){e.next=10;break}return e.next=7,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 7:return e.next=9,this.httpAgent.post(t,n);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.code!==oa.EXPIRED_ACCESS_TOKEN){e.next=25;break}return e.prev=16,e.next=19,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 19:return e.abrupt("return",this.httpAgent.post(t,n));case 22:return e.prev=22,e.t1=e.catch(16),e.abrupt("return",Promise.reject(e.t0));case 25:return e.abrupt("return",Promise.reject(e.t0));case 26:case"end":return e.stop()}}),e,this,[[0,13],[16,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpAgent.delete(t,n);case 3:if((a=e.sent).code!==oa.EXPIRED_ACCESS_TOKEN){e.next=10;break}return e.next=7,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 7:return e.next=9,this.httpAgent.delete(t,n);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.code!==oa.EXPIRED_ACCESS_TOKEN){e.next=25;break}return e.prev=16,e.next=19,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 19:return e.abrupt("return",this.httpAgent.delete(t,n));case 22:return e.prev=22,e.t1=e.catch(16),e.abrupt("return",Promise.reject(e.t0));case 25:return e.abrupt("return",Promise.reject(e.t0));case 26:case"end":return e.stop()}}),e,this,[[0,13],[16,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_put",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpAgent.put(t,n);case 3:if((a=e.sent).code!==oa.EXPIRED_ACCESS_TOKEN){e.next=10;break}return e.next=7,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 7:return e.next=9,this.httpAgent.put(t,n);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.code!==oa.EXPIRED_ACCESS_TOKEN){e.next=25;break}return e.prev=16,e.next=19,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 19:return e.abrupt("return",this.httpAgent.put(t,n));case 22:return e.prev=22,e.t1=e.catch(16),e.abrupt("return",Promise.reject(e.t0));case 25:return e.abrupt("return",Promise.reject(e.t0));case 26:case"end":return e.stop()}}),e,this,[[0,13],[16,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_setInfo",value:function(e,t){var n=this;this.token=e,this.tokenSecret=t,this.httpAgent.setToken(e);try{var a=1e3*Object(sa.decode)(e).exp-Date.now()-5e3;console.log("renew token timeout",a),this.tokenRenewTimeout&&(clearTimeout(this.tokenRenewTimeout),this.tokenRenewTimeout=null),this.tokenRenewTimeout=setTimeout(Object(p.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.accessTokenRenew({token:e,tokenSecret:t});case 2:case"end":return a.stop()}}),a)}))),a)}catch(r){this.tokenRenewTimeout=null}}}]),e}(),ha=va,ba=n(102),ma=n.n(ba),ja=function(){function e(t){var n=t.network,a=t.communicator;Object(D.a)(this,e),this.syncInterval=864e5,this._network=n,this._lastSyncTime=0,this._crypto={cryptoToUSD:"4678.229083048072",symbol:"ETH"},this._fiat={dollarSign:"$",symbol:"USD"},this._fiatToUSDs=[],this._communicator=a}return Object(E.a)(e,[{key:"getCryptoRate",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._communicator.cryptoRate(this._network.chainId);case 3:t=e.sent,console.log("Trader getCryptoRate result",t),this._crypto={cryptoToUSD:t.rate,symbol:t.name},console.log("Trader getCryptoRate this._crypto",this._crypto),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),n={name:"ETH",rate:"4678.229083048072"},this._crypto={cryptoToUSD:n.rate,symbol:n.name},console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getFiatToUSDs",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._communicator.fiatsRate(this._network.chainId);case 3:t=e.sent,console.log("Trader getFiatToUSDs result",t),this._fiatToUSDs=t.map((function(e){return{symbol:e.name,fiatToUSD:e.rate}})),console.log("Trader getFiatToUSDs this._fiatToUSDs",this._fiatToUSDs),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),n=[{name:"USD",rate:"1"},{name:"CNY",rate:"0.15649972880130175375"},{name:"TWD",rate:"0.0361598264328331224"},{name:"HKD",rate:"0.1273549086964382571"},{name:"JPY",rate:"0.00876152594467546556"},{name:"EUR",rate:"1.12746338817573675646"}],this._fiatToUSDs=n.map((function(e){return{symbol:e.name,fiatToUSD:e.rate}})),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"sync",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],!(Date.now()-this.lastTimeSync>this.syncInterval||t)){e.next=8;break}return n=[this.getCryptoRate(),this.getFiatToUSDs()],e.next=6,Promise.all(n);case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=this;this.sync(!0),this.timer=setInterval((function(){console.log("trader sync"),e.sync(!1)}),this.syncInterval)}},{key:"getPrice",value:function(e){var t,n=this,a=(null===(t=this._fiatToUSDs.find((function(e){return e.symbol===n._fiat.symbol})))||void 0===t?void 0:t.fiatToUSD)||"1";return q.div(q.mult(e,this._crypto.cryptoToUSD),a)}}]),e}(),fa=ja,xa=function(e){var t=Object(o.useMemo)((function(){return new fa(e.network,e.communicator)}),[e.communicator,e.network]),n=Object(o.useState)([]),a=Object(v.a)(n,2),r=a[0],c=(a[1],Object(o.useState)({dollarSign:"$",symbol:"USD"})),s=Object(v.a)(c,2),i=s[0],l=(s[1],Object(o.useState)(!1)),u=Object(v.a)(l,2),d=u[0],p=(u[1],Object(o.useCallback)((function(){}),[])),h=Object(o.useCallback)((function(){}),[]),b=Object(o.useCallback)((function(e,n){return t.getPrice(e,n)}),[t]);return Object(o.useEffect)((function(){return console.log("useEffect trader",t),t.start(),function(){}}),[t]),Object(f.jsx)(kt.Provider,{value:{isLoading:d,fiat:i,fiats:r,updateFiat:p,getFiat:h,getPrice:b},children:e.children})},Oa=n.p+"static/media/imToken.14ab6720.png",ka=n(409).Subject,ga=function(){function e(t,n,a){Object(D.a)(this,e),this.setMessenger(),this.lastTimeSync=0,this.syncInterval=3e4,this.lunar=t,this.communicator=a,this.network=n,this.routerContract=this.findContractByNetwork(n),this.poolList=[],this.newPools=[],this.assetList=[],this.histories=[],this.walletList=this.lunar.env.wallets.map((function(e){switch(e){case"Metamask":return{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/MetaMask_Fox.svg/440px-MetaMask_Fox.svg.png",name:"MetaMask"};case"imToken":return{src:Oa,name:"imToken"};case"TideWallet":return{src:Oa,name:"TideWallet"};default:return[]}}))}return Object(E.a)(e,[{key:"messenger",get:function(){return this._messenger}},{key:"setMessenger",value:function(){this._messenger||(this._messenger=new ka)}},{key:"walletList",get:function(){return this._walletList},set:function(e){this._walletList=e}},{key:"routerContract",get:function(){return this._routerContract},set:function(e){this._routerContract=e}},{key:"network",get:function(){return this._network},set:function(e){this._network=e}},{key:"connectedAccount",get:function(){return this._connectedAccount},set:function(e){this._connectedAccount=e}},{key:"nativeCurrency",get:function(){return this._nativeCurrency},set:function(e){this._nativeCurrency=e}},{key:"isConnected",get:function(){return this._isConnected},set:function(e){this._isConnected=e}},{key:"factoryContract",get:function(){return this._factoryContract},set:function(e){this._factoryContract=e}},{key:"pairLength",get:function(){return this._pairLength},set:function(e){this._pairLength=e}},{key:"findContractByNetwork",value:function(e){var t;switch(e.key){default:t=S;break;case"Ethereum":t="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D";break;case"BSC":case"BSCTestnet":t="0x214798a5ca2Fc1cD0d9E4020eCA384406AB67755"}return t}},{key:"getData",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a){var r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}throw Error("window.ethereum is undefine");case 2:return r="0x".concat(M()(t).toString("hex").slice(0,8)),e.prev=3,e.next=6,this.lunar.getData({contract:a,data:"".concat(n?r+n:r)});case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(3),console.log("this.lunar GOT ERROR! ".concat(t," ").concat(r),e.t0),e.prev=13,e.next=16,K(r,n,a);case 16:return o=e.sent,e.abrupt("return",o);case 20:e.prev=20,e.t1=e.catch(13),console.log("eth_call GOT ERROR! ".concat(t," ").concat(r),e.t1);case 23:case"end":return e.stop()}}),e,this,[[3,10],[13,20]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getNativeCurrency",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}return e.abrupt("return");case 2:if(null===(t=this.nativeCurrency)||void 0===t?void 0:t.contract){e.next=8;break}return e.next=5,this.getData("WETH()",null,this.routerContract);case 5:n=e.sent,this.nativeCurrency={contract:"0x".concat(n.slice(26,66)),decimals:this.network.nativeCurrency.decimals,symbol:this.network.nativeCurrency.symbol},console.log(" this.nativeCurrency",this.nativeCurrency);case 8:if(!this.isConnected||!this.connectedAccount){e.next=15;break}return e.next=11,this.getBalance({contract:null===(a=this.nativeCurrency)||void 0===a?void 0:a.contract,address:null===(r=this.connectedAccount)||void 0===r?void 0:r.contract});case 11:c=e.sent,this.nativeCurrency=Object(l.a)(Object(l.a)({},this.nativeCurrency),{},{balanceOf:c}),e.next=16;break;case 15:this.nativeCurrency=Object(l.a)(Object(l.a)({},this.nativeCurrency),{},{balanceOf:0});case 16:console.log("this.getNativeCurrency",this.nativeCurrency),o={evt:"UpdateNativeCurrency",data:this.nativeCurrency},this.messenger.next(o);case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFactoryContract",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getData("factory()",null,this.routerContract);case 4:t=e.sent,this.factoryContract="0x".concat(t.slice(26,66)),console.log("this.factoryContract",this.factoryContract);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"switchNetwork",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.stop()}catch(a){console.log("switchNetwork error",a)}try{this.routerContract=this.findContractByNetwork(t)}catch(a){console.log("switchNetwork error",a)}return e.prev=2,e.next=5,this.lunar.switchBlockchain({blockchain:t});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("switchNetwork error",e.t0);case 10:return this.network=t,n={evt:"UpdateNetwork",data:t},this.messenger.next(n),e.next=15,this.start();case 15:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.connectedAccount=null,t={evt:"UpdateConnectedAccount",data:this.connectedAccount},this.messenger.next(t),this.isConnected=!1,n={evt:"UpdateConnectedStatus",data:this.isConnected},this.messenger.next(n),e.prev=6,e.next=9,this.lunar.disconnect();case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(6),console.log("disconnect",e.t0),e.t0;case 15:return e.next=17,this.getNativeCurrency();case 17:return e.next=19,this.getSupportedTokens();case 19:return e.next=21,this.getAddrHistory();case 21:return e.next=23,this.getSupportedPools();case 23:return e.next=25,this.getSupportedStakes();case 25:case"end":return e.stop()}}),e,this,[[6,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next="MetaMask"===e.t0?4:"imToken"===e.t0?8:12;break;case 4:return e.next=6,this.lunar.connect({wallet:"Metamask",blockchain:this.network});case 6:case 10:return n=e.sent,e.abrupt("break",13);case 8:return e.next=10,this.lunar.connect({wallet:"imToken",blockchain:this.network});case 12:return e.abrupt("break",13);case 13:return this.isConnected=!!n,a={evt:"UpdateConnectedStatus",data:this.isConnected},this.messenger.next(a),e.t1=this.lunar.address,e.next=19,this.getBalance({address:this.lunar.address});case 19:return e.t2=e.sent,this.connectedAccount={contract:e.t1,balanceOf:e.t2},r={evt:"UpdateConnectedAccount",data:this.connectedAccount},this.messenger.next(r),console.log("connect connectedAccount",this.connectedAccount),e.next=26,this.getNativeCurrency();case 26:return e.next=28,this.getSupportedTokens();case 28:return e.next=30,this.getSupportedStakes();case 30:return e.next=32,this.getAddrHistory();case 32:return e.next=34,this.getSupportedPools();case 34:return e.abrupt("return",{connectedAccount:this.connectedAccount});case 37:throw e.prev=37,e.t3=e.catch(0),console.log("connect in TideTimeSwapContract",e.t3),e.t3;case 41:case"end":return e.stop()}}),e,this,[[0,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolContractByTokens",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.replace("0x","").padStart(64,"0"),r=n.replace("0x","").padStart(64,"0"),this.factoryContract){e.next=5;break}return e.next=5,this.getFactoryContract();case 5:return e.next=7,this.getData("getPair(address,address)",a+r,this.factoryContract);case 7:return c=e.sent,console.log("getPoolContractByTokens result","0x".concat(c.slice(26,66))),e.abrupt("return","0x".concat(c.slice(26,66)));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolContractByIndex",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.toString(16).padStart(64,"0"),this.factoryContract||this.getFactoryContract(),e.next=4,this.getData("allPairs(uint256)",n,this.factoryContract);case 4:return a=e.sent,e.abrupt("return","0x".concat(a.slice(26,66)));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolTokenContract",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("token".concat(t,"()"),null,n);case 2:return a=e.sent,r="0x".concat(a.slice(26,66)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contract,a=t.address,e.prev=1,e.next=4,this.lunar.getBalance({contract:n,address:a});case 4:r=e.sent,e.next=15;break;case 7:return e.prev=7,e.t0=e.catch(1),console.log("getBalance error",e.t0),c=a.replace("0x","").padStart(64,"0"),e.next=13,this.getData("balanceOf(address)",c,n);case 13:o=e.sent,r=parseInt(o,16).toString();case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenDetail",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.tokenDetail(this.network.chainId,t.contract);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("getTokenDetail error",e.t0);case 9:return n||(n={priceToEth:{value:"".concat(1e7*Math.random()),change:"".concat(1*Math.random()>.5?"+":"-").concat((1*Math.random()).toFixed(2))},price:{value:"".concat(1e7*Math.random()),change:"".concat(1*Math.random()>.5?"+":"-").concat((1*Math.random()).toFixed(2))},volume:{value:"".concat(1e7*Math.random()),change:"".concat(1*Math.random()>.5?"+":"-").concat((1*Math.random()).toFixed(2))},fee24:{value:"".concat(1e7*Math.random()),change:"".concat(1*Math.random()>.5?"+":"-").concat((1*Math.random()).toFixed(2))},swap7Day:"".concat(1e7*Math.random())}),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenByContract",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r,c,o,s,i,l,u,p,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===(null===(n=this.nativeCurrency)||void 0===n?void 0:n.contract)&&(a=this.assetList.find((function(e){return q.eq(e.contract,0)}))),a||(a=this.assetList.find((function(e){return e.contract===t}))),a){e.next=33;break}return e.prev=3,e.next=6,this.lunar.getAsset({contract:t});case 6:i=e.sent,r=i.symbol,c=i.decimals,o=i.totalSupply,s=i.name,e.next=32;break;case 13:return e.prev=13,e.t0=e.catch(3),console.log("getTokenByContract error",e.t0),e.next=18,this.getData("symbol()",null,t);case 18:return l=e.sent,r=te(ee(l)[2]),e.next=22,this.getData("decimals()",null,t);case 22:return u=e.sent,c=parseInt(u,16),e.next=26,this.getData("totalSupply()",null,t);case 26:return p=e.sent,o=parseInt(p,16),e.next=30,this.getData("name()",null,t);case 30:v=e.sent,s=te(ee(v)[2]);case 32:a={id:X(6),contract:t,iconSrc:I,name:s,symbol:r,decimals:c,totalSupply:o};case 33:return e.abrupt("return",a);case 34:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolBalanceOf",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r,c,o,s,i,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=((null===(n=this.connectedAccount)||void 0===n?void 0:n.contract)||this.lunar.address).replace("0x","").padStart(64,"0"),e.next=3,K("balanceOf(address)",a,t.poolContract);case 3:return r=e.sent,c=q.toCurrencyUint(parseInt(r,16),t.decimals),o=q.gt(t.totalSupply,"0")?q.div(c,t.totalSupply):"0",s=q.gt(o,"0")?q.mult(o,t.poolBalanceOfToken0):"0",i=q.gt(o,"0")?q.mult(o,t.poolBalanceOfToken1):"0",u={balanceOf:c,share:o,balanceOfToken0InPool:s,balanceOfToken1InPool:i},e.abrupt("return",Object(l.a)(Object(l.a)({},t),u));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAssetBalanceOf",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q.eq(t.contract,0)){e.next=6;break}return e.next=3,this.getBalance({address:null===(a=this.connectedAccount)||void 0===a?void 0:a.contract});case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,this.getBalance({contract:t.contract,address:null===(r=this.connectedAccount)||void 0===r?void 0:r.contract});case 8:e.t0=e.sent;case 9:return c=e.t0,q.eq(t.contract,0)&&(this.connectedAccount=Object(l.a)(Object(l.a)({},this.connectedAccount),{},{balanceOf:c}),o={evt:"UpdateConnectedAccount",data:this.connectedAccount},this.messenger.next(o)),e.abrupt("return",Object(l.a)(Object(l.a)({},t),{},{balanceOf:c}));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updatePools",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1===(a=n&&q.gt(this.poolList.length,q.minus(n,1))?this.poolList[n].poolContract.toLowerCase()===t.poolContract.toLowerCase()?n:null:this.poolList.findIndex((function(e){return t.poolContract.toLowerCase()===e.poolContract.toLowerCase()})))?(this.poolList=this.poolList.concat(t),console.log("this.poolList",this.poolList)):(this.poolList[a]=t,console.log("this.poolList",this.poolList));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateAssets",value:function(e,t){var n=this.assetList.findIndex((function(t){return e.contract===t.contract}));if(-1===n)this.assetList=this.assetList.concat(e);else if(n&&this.assetList[n].contract===e.contract){var a;(null===(a=this.assetList[n])||void 0===a?void 0:a.update)||(this.assetList[n]=e)}if(t){var r={evt:"UpdateSupportedTokens",data:this.assetList};this.messenger.next(r)}}},{key:"searchStake",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchToken",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a,r,c,o,s,i,u,p,v,h,b,m,j,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||(a=this.assetList.findIndex((function(e){return e.contract.toLowerCase()===t.toLowerCase()})),r=-1!==a?this.assetList[a]:null),!r){e.next=3;break}return e.abrupt("return",this.assetList[a]);case 3:if(r){e.next=54;break}return e.prev=4,e.next=7,this.communicator.searchToken(this.network.chainId,t);case 7:(r=e.sent).iconSrc=q.eq(t,0)?"https://www.tidebit.one/icons/eth.png":I,e.next=54;break;case 11:if(e.prev=11,e.t0=e.catch(4),console.log("searchToken error",e.t0),window.ethereum){e.next=17;break}return console.log("searchToken window.ethereum",window.ethereum),e.abrupt("return");case 17:return e.prev=17,e.next=20,this.lunar.getAsset({contract:t});case 20:u=e.sent,c=u.symbol,o=u.decimals,s=u.totalSupply,i=u.name,e.next=53;break;case 27:return e.prev=27,e.t1=e.catch(17),console.log(" this.lunar.getAsset error",e.t1),e.prev=30,e.next=33,this.getData("symbol()",null,t);case 33:return p=e.sent,c=te(ee(p)[2]),e.next=37,this.getData("decimals()",null,t);case 37:return v=e.sent,o=parseInt(v,16),e.next=41,this.getData("totalSupply()",null,t);case 41:return h=e.sent,s=parseInt(h,16),e.next=45,this.getData("name()",null,t);case 45:b=e.sent,i=te(ee(b)[2]),e.next=53;break;case 49:return e.prev=49,e.t2=e.catch(30),console.log(e.t2),e.abrupt("return",null);case 53:r={id:"".concat(this.network.chainId,"-").concat(t),contract:t,iconSrc:q.eq(t,0)?"https://www.tidebit.one/icons/eth.png":I,name:i,symbol:c,decimals:o,totalSupply:s,chainId:this.network.chainId};case 54:return e.next=56,this.getTokenDetail(r);case 56:if(j=e.sent,!this.isConnected||!this.connectedAccount){e.next=62;break}return e.next=60,this.getAssetBalanceOf(r);case 60:f=e.sent,m=f.balanceOf;case 62:return r=Object(l.a)(Object(l.a)(Object(l.a)({},r),j),{},{balanceOf:m}),this.updateAssets(r),e.abrupt("return",r);case 65:case"end":return e.stop()}}),e,this,[[4,11],[17,27],[30,49]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolDetail",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.poolDetail(this.network.chainId,t);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return n||(n={liquidity:"--",yield:"--",volume:{value:"".concat(1e7*Math.random()),change:"".concat(1*Math.random()>.5?"+":"-").concat((1*Math.random()).toFixed(2))},tvl:{value:"".concat(1e7*Math.random()),change:"".concat(1*Math.random()>.5?"+":"-").concat((1*Math.random()).toFixed(2))},irr:"3",interest24:"".concat(1e7*Math.random())}),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolByContract",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r,c,o,s,i,u,p,v,h,b,m,j,f,x,O;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.poolContract,c=t.token0Contract,o=t.token1Contract,c===(null===(n=this.nativeCurrency)||void 0===n?void 0:n.contract)&&(s=this.assetList.find((function(e){return q.eq(e.contract,0)}))),s){e.next=6;break}return e.next=5,this.searchToken(c);case 5:s=e.sent;case 6:if(console.log("token0",s),o===(null===(a=this.nativeCurrency)||void 0===a?void 0:a.contract)&&(i=this.assetList.find((function(e){return q.eq(e.contract,0)}))),i){e.next=12;break}return e.next=11,this.searchToken(o);case 11:i=e.sent;case 12:return console.log("token1",i),e.next=15,this.getData("getReserves()",null,r);case 15:return u=e.sent,p=ee(u.replace("0x",""),64),v=q.toCurrencyUint(q.toBn(p[0]),s.decimals),h=q.toCurrencyUint(q.toBn(p[1]),i.decimals),e.next=21,this.getData("decimals()",null,r);case 21:return b=e.sent,m=parseInt(b,16),e.next=25,this.getData("totalSupply()",null,r);case 25:return j=e.sent,f=q.toCurrencyUint(parseInt(j,16),m),e.next=29,this.getPoolDetail(r);case 29:return x=e.sent,O=Object(l.a)({id:X(6),poolContract:r,decimals:m,totalSupply:f,name:"".concat(s.symbol,"/").concat(i.symbol),token0:s,token1:i,poolBalanceOfToken0:v,poolBalanceOfToken1:h},x),e.abrupt("return",O);case 32:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateHistories",value:function(e){var t=this.histories.findIndex((function(t){return t.transactionHash.toLowerCase()===e.transactionHash.toLowerCase()}));-1===t?(this.histories=this.histories.concat(e),console.log("this.histories",this.histories)):(this.histories[t]=e,console.log("this.histories",this.histories))}},{key:"formateHistory",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r,c,o,s,i,l,u,p,v,h,b,m,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.type){e.next=13;break}return e.next=3,this.searchToken(t.fromTokenContract);case 3:return n=e.sent,e.next=6,this.searchToken(t.toTokenContract);case 6:return a=e.sent,r=q.toCurrencyUint(t.amountIn,n.decimals),c=q.toCurrencyUint(t.amountOut,a.decimals),o=this.updateHistory({id:t.id,type:L,transactionHash:t.transactionHash,chainId:t.chainId,token0:n,token1:a,token0AmountChange:r,token1AmountChange:c,timestamp:1e3*t.timestamp}),e.abrupt("return",o);case 13:if(1!==t.type){e.next=26;break}return e.next=16,this.searchToken(t.token0Contract);case 16:return s=e.sent,e.next=19,this.searchToken(t.token1Contract);case 19:return i=e.sent,l=q.toCurrencyUint(t.token0AmountIn,s.decimals),u=q.toCurrencyUint(t.token1AmountIn,i.decimals),p=this.updateHistory({id:t.id,type:P,transactionHash:t.transactionHash,chainId:t.chainId,token0:s,token1:i,token0AmountChange:l,token1AmountChange:u,timestamp:1e3*t.timestamp}),e.abrupt("return",p);case 26:if(2!==t.type){e.next=39;break}return e.next=29,this.searchToken(t.token0Contract);case 29:return v=e.sent,e.next=32,this.searchToken(t.token1Contract);case 32:return h=e.sent,b=q.toCurrencyUint(t.token0AmountOut,v.decimals),m=q.toCurrencyUint(t.token1AmountOut,h.decimals),j=this.updateHistory({id:t.id,type:H,transactionHash:t.transactionHash,chainId:t.chainId,token0:v,token1:h,token0AmountChange:b,token1AmountChange:m,timestamp:1e3*t.timestamp}),e.abrupt("return",j);case 39:throw Error("history type is not allowed");case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAddrHistory",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isConnected||!this.connectedAccount){e.next=10;break}return e.next=3,this.communicator.addrTransHistory(this.network.chainId,this.connectedAccount.contract);case 3:return t=e.sent,console.log("getAddrHistory.histories",t),e.next=7,Promise.all(t.map((function(e){return new Promise(function(){var t=Object(p.a)(d.a.mark((function t(n,r){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.formateHistory(e);case 2:c=t.sent,a.updateHistories(c),n(c);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 7:t=e.sent,e.next=11;break;case 10:this.histories=[];case 11:n={evt:"UpdateHistories",data:this.histories},this.messenger.next(n),console.log("this.histories",this.histories);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPoolHistory",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.communicator.poolTransHistory(this.network.chainId,t);case 2:return n=e.sent,console.log("getPoolHistory.histories",n),e.next=6,Promise.all(n.map((function(e){return new Promise(function(){var t=Object(p.a)(d.a.mark((function t(n,r){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.formateHistory(e);case 2:c=t.sent,n(c);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenHistory",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r,c=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.communicator.tokenTransHistory(this.network.chainId,t);case 2:return n=e.sent,console.log("getTokenHistory histories",n),e.next=6,Promise.all(n.map((function(e){return new Promise(function(){var t=Object(p.a)(d.a.mark((function t(n,a){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.formateHistory(e);case 2:r=t.sent,n(r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 6:if(n=e.sent,!q.eq(t,"0")){e.next=17;break}return e.next=10,this.communicator.tokenTransHistory(this.network.chainId,null===(a=this.nativeCurrency)||void 0===a?void 0:a.contract);case 10:return r=e.sent,console.log("getTokenHistory _histories",r),e.next=14,Promise.all(r.map((function(e){return new Promise(function(){var t=Object(p.a)(d.a.mark((function t(n,a){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.formateHistory(e);case 2:r=t.sent,n(r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 14:r=e.sent,n=n.concat(r),console.log("getTokenHistory histories",n);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolByIndex",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getContractData",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a,r,c,o,s,i=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],!(Date.now()-this.lastTimeSync>this.syncInterval||t)){e.next=31;break}if(null===(n=this.nativeCurrency)||void 0===n?void 0:n.contract){e.next=6;break}return e.next=6,this.getNativeCurrency();case 6:if(this.factoryContract){e.next=9;break}return e.next=9,this.getFactoryContract();case 9:return e.next=11,this.getOverviewData();case 11:return a=e.sent,r={evt:"UpdateOveriew",data:a},this.messenger.next(r),e.next=16,this.getTVLHistory();case 16:return c=e.sent,e.next=19,this.getVolumeData();case 19:return o=e.sent,s={evt:"UpdateChart",data:{tvl:c,volume:o}},this.messenger.next(s),e.next=24,this.getSupportedTokens();case 24:return e.next=26,this.getAddrHistory();case 26:return e.next=28,this.getSupportedPools();case 28:return e.next=30,this.getSupportedStakes();case 30:this.lastTimeSync=Date.now();case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.poolList=[],this.newPools=[],this.assetList=[],this.histories=[],this.factoryContract="",this.nativeCurrency=null,e.next=8,this.getContractData(!0);case 8:this.contractTimer=setInterval((function(){console.log("sync"),t.getContractData(!1)}),this.syncInterval);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){clearInterval(this.contractTimer),clearInterval(this.newPoolTimer)}},{key:"getContractDataLength",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=this.nativeCurrency)||void 0===t?void 0:t.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:if(this.factoryContract){e.next=6;break}return e.next=6,this.getFactoryContract();case 6:return e.next=8,this.getData("allPairsLength()",null,this.factoryContract);case 8:return n=e.sent,a=parseInt(n,16),console.log("getContractDataLength",a),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTokenPriceData",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.tokenPriceData(this.network.chainId,t);case 3:return n=e.sent,a=n.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{x:new Date(parseInt(e.x))})})),console.log("getTokenPriceData priceData",a),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),r=V(),console.log("getTokenPriceData error",e.t0),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolPriceData",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.poolPriceData(this.network.chainId,t);case 3:return n=e.sent,a=n.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{x:new Date(parseInt(e.x))})})),console.log("getPoolPriceData priceData",a),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),r=V(),console.log("getPoolPriceData error",e.t0),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTVLHistory",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.tvlHistory(this.network.chainId);case 3:return t=e.sent,console.log("getTVLHistory result",t),n=t.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{date:Q(parseInt(e.date)).day})})),console.log("getTVLHistory tvlData",n),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log("getTVLHistory error",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getVolumeData",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.volume24hr(this.network.chainId);case 3:return t=e.sent,console.log("getVolumeData result",t),n=t.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{date:Q(parseInt(e.date)).day})})),console.log("getVolumeData volumeData",n),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log("getVolumeData error",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getOverviewData",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.overview(this.network.chainId);case 3:return c=e.sent,console.log("getOverviewData",c),o=[{title:"Volume 24H",data:{value:c.volume.value,change:!(null===c||void 0===c||null===(t=c.volume)||void 0===t?void 0:t.change)||isNaN(c.volume.change)?"0":q.mult(c.volume.change,"100")}},{title:"Fees 24H",data:{value:null===(n=c.fee24)||void 0===n?void 0:n.value,change:!(null===c||void 0===c||null===(a=c.fee24)||void 0===a?void 0:a.change)||isNaN(c.fee24.change)?"0":q.mult(c.fee24.change,"100")}},{title:"TVL",data:{value:c.tvl.value,change:!(null===c||void 0===c||null===(r=c.tvl)||void 0===r?void 0:r.change)||isNaN(c.tvl.change)?"0":q.mult(c.tvl.change,"100")}}],e.abrupt("return",o);case 9:return e.prev=9,e.t0=e.catch(0),console.log("getOverviewData error",e.t0),e.next=14,new Promise((function(e){var t=setTimeout((function(){e([{title:"Volume 24H",data:{value:"1.65",change:"-0.0557"}},{title:"Fees 24H",data:{value:"3.36",change:"-0.0442"}},{title:"TVL",data:{value:"3.84",change:"+0.0071"}}]),clearTimeout(t)}),500)}));case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSupportedStakes",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,e.next=4,this.communicator.stakeList(this.network.chainId);case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=[{contract:"0x",stake:{iconSrc:I,symbol:"CAKE"},reward:{symbol:"CAKE",iconSrc:I},name:{title:"Auto Cake",detail:"Automatic restaking"},profit:{title:"Recent Cake Profit",inCrypto:"0",inFiat:"0"},staked:{title:"Cake Staked",inCrypto:"0",inFiat:"0"},earn:{title:"Recent Cake Profit",inCrypto:"0",inFiat:"0",description:{detail:"1% unstaking fee if withdrawn within 24h Performance Fee 2%",explain:""},action:null},apy:"0.6851",totalStaked:"101753122",irr:"0.03",poolBalance:{inFiat:"0",inCrypto:"0"},hot:"2",symbol:"CAKE"},{contract:"0x",stake:{iconSrc:I,symbol:"CAKE"},reward:{symbol:"CAKE",iconSrc:I},name:{title:"Mannul Cake",detail:"Earn CAKE staking CAKE"},profit:{title:"Cake Earned",inCrypto:"0",inFiat:"0"},staked:{title:"Cake Staked",inCrypto:"0",inFiat:"0"},earn:{title:"Cake Earned",inCrypto:"0",inFiat:"0",description:null,action:"Collect"},apy:"0.5301",totalStaked:"43514118",irr:"0.03",poolBalance:{inFiat:"0",inCrypto:"0"},hot:"1",symbol:"CAKE"},{contract:"0x",stake:{iconSrc:I,symbol:"CCAR"},reward:{symbol:"CAKE",iconSrc:I},name:{title:"Earn CCAR",detail:"Earn Cake"},profit:{title:"CCAR Earned",inCrypto:"0",inFiat:"0"},staked:{title:"Total Staked",inCrypto:"0",inFiat:"0"},earn:{title:"CCAR Earned",inCrypto:"0",inFiat:"0",description:null,action:"Harvest"},apy:"0.5698",totalStaked:"43514118",irr:"0.03",poolBalance:{inFiat:"0",inCrypto:"0"},hot:"0",block:{title:"Ends In",number:"1558754"}}];case 10:return this.stakeList=t,console.log("getSupportedStakes this.stakeList",this.stakeList),n={evt:"UpdateSupportedStakes",data:this.stakeList},this.messenger.next(n),e.abrupt("return",this.stakeList);case 17:e.prev=17,e.t1=e.catch(0),console.log("getSupportedStakes error",e.t1);case 20:case"end":return e.stop()}}),e,this,[[0,17],[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSupportedTokens",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a,r,c=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="0",e.next=4,this.communicator.tokenList(this.network.chainId);case 4:return n=e.sent,e.next=7,Promise.all(n.map((function(e){return new Promise(function(){var n=Object(p.a)(d.a.mark((function n(a,r){var o,s,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.getTokenDetail(e);case 2:if(o=n.sent,s=Object(l.a)(Object(l.a)(Object(l.a)({},e),o),{},{iconSrc:q.eq(e.contract,0)?"https://www.tidebit.one/icons/eth.png":I}),!c.isConnected||!c.connectedAccount){n.next=13;break}return n.next=7,c.getAssetBalanceOf(s);case 7:i=n.sent,q.gt(i.balanceOf,"0")&&(t=q.plus(t,i.balanceOf)),c.updateAssets(i),a(i),n.next=15;break;case 13:c.updateAssets(s),a(s);case 15:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 7:return n=e.sent,a={evt:"UpdateTotalBalance",data:t},this.messenger.next(a),this.assetList=n,console.log("getSupportedTokens this.assetList",this.assetList),r={evt:"UpdateSupportedTokens",data:this.assetList},this.messenger.next(r),e.abrupt("return",this.assetList);case 17:e.prev=17,e.t0=e.catch(0),console.log("getSupportedTokens error",e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSupportedPools",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.poolList(this.network.chainId);case 3:return t=e.sent,e.next=6,Promise.all(t.map((function(e){return new Promise(function(){var t=Object(p.a)(d.a.mark((function t(n,r){var c,o,s,i,u,p,v,h,b;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.token0Contract===(null===(c=a.nativeCurrency)||void 0===c?void 0:c.contract)&&(s=a.assetList.find((function(e){return q.eq(e.contract,0)}))),s){t.next=5;break}return t.next=4,a.searchToken(e.token0Contract);case 4:s=t.sent;case 5:if(e.token1Contract===(null===(o=a.nativeCurrency)||void 0===o?void 0:o.contract)&&(i=a.assetList.find((function(e){return q.eq(e.contract,0)}))),i){t.next=10;break}return t.next=9,a.searchToken(e.token1Contract);case 9:i=t.sent;case 10:return a.newPools=a.newPools.filter((function(e){return e.id!=="".concat(a.network.chainId,"-").concat(e.poolContract.toLowerCase())})),t.next=13,a.getPoolReserve(e.poolContract,s,i,!1);case 13:return u=t.sent,p=q.toCurrencyUint(e.totalSupply,e.decimals),t.next=17,a.getPoolDetail(e.poolContract);case 17:if(v=t.sent,h=Object(l.a)(Object(l.a)(Object(l.a)({},e),{},{token0:s,token1:i,poolBalanceOfToken0:u.poolBalanceOfToken0,poolBalanceOfToken1:u.poolBalanceOfToken1,name:"".concat(s.symbol,"/").concat(i.symbol)},v),{},{totalSupply:p,reverse:!1}),!a.isConnected||!a.connectedAccount){t.next=26;break}return t.next=22,a.getPoolBalanceOf(h);case 22:b=t.sent,n(b),t.next=27;break;case 26:n(h);case 27:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 6:t=e.sent,console.log("getSupportedPools this.newPools",this.newPools),this.poolList=this.newPools.concat(t),console.log("getSupportedPools this.poolList",this.poolList),n={evt:"UpdateSupportedPools",data:this.poolList},this.messenger.next(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("UpdateSupportedPools error",e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"searchPoolByPoolContract",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("searchPoolByPoolContract poolContract",t),t){e.next=3;break}return e.abrupt("return",null);case 3:return n=this.poolList.find((function(e){return e.poolContract.toLowerCase()===t.toLowerCase()})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolReserve",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r){var c,o,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("getReserves()",null,t);case 2:return c=e.sent,o=ee(c.replace("0x",""),64),s=q.toCurrencyUint(q.toBn(o[0]),r?a.decimals:n.decimals),i=q.toCurrencyUint(q.toBn(o[1]),r?n.decimals:a.decimals),e.abrupt("return",{poolBalanceOfToken0:s,poolBalanceOfToken1:i});case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"searchPoolByTokens",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r,c,o,s,i,u,p,v,h=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.token0,a=t.token1,r=t.create,(null===n||void 0===n?void 0:n.id)&&(null===a||void 0===a?void 0:a.id)){e.next=3;break}return e.abrupt("return",null);case 3:if(r||((c=this.poolList.find((function(e){var t,r;return e.token0Contract.toLowerCase()===(q.eq(n.contract,0)?null===(t=h.nativeCurrency)||void 0===t?void 0:t.contract.toLowerCase():n.contract.toLowerCase()&&e.token1Contract.toLowerCase()===(q.eq(a.contract,0)?null===(r=h.nativeCurrency)||void 0===r?void 0:r.contract.toLowerCase():a.contract.toLowerCase()))})))?o=!1:(c=this.poolList.find((function(e){var t,r;return e.token1Contract.toLowerCase()===(q.eq(n.contract,0)?null===(t=h.nativeCurrency)||void 0===t?void 0:t.contract.toLowerCase():n.contract.toLowerCase()&&e.token0Contract.toLowerCase()===(q.eq(a.contract,0)?null===(r=h.nativeCurrency)||void 0===r?void 0:r.contract.toLowerCase():a.contract.toLowerCase()))})))&&(o=!0),console.log("searchPoolByTokens pool",c),console.log("searchPoolByTokens reverse",o)),c){e.next=15;break}return e.prev=5,e.next=8,this.communicator.searchPool(this.network.chainId,q.eq(n.contract,0)?null===(s=this.nativeCurrency)||void 0===s?void 0:s.contract:n.contract,q.eq(a.contract,0)?null===(i=this.nativeCurrency)||void 0===i?void 0:i.contract:a.contract,!!r);case 8:c=e.sent,console.log("searchPoolByTokens pool",c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log("searchPool api throw error",e.t0);case 15:if(!c){e.next=24;break}return void 0===o&&(o=c.token0Contract.toLowerCase()===(q.eq(a.contract,"0")?null===(u=this.nativeCurrency)||void 0===u?void 0:u.contract.toLowerCase():a.contract.toLowerCase())||c.token1Contract.toLowerCase()===(q.eq(n.contract,"0")?null===(p=this.nativeCurrency)||void 0===p?void 0:p.contract.toLowerCase():n.contract.toLowerCase()),console.log("searchPoolByTokens reverse",o)),e.next=19,this.getPoolReserve(c.poolContract,n,a,o);case 19:return v=e.sent,c=Object(l.a)(Object(l.a)({},c),{},{token0:n,token1:a,poolBalanceOfToken0:v.poolBalanceOfToken0,poolBalanceOfToken1:v.poolBalanceOfToken1,name:"".concat(n.symbol,"/").concat(a.symbol),reverse:o}),e.abrupt("return",c);case 24:return e.abrupt("return",null);case 25:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAmountIn",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r){var c,o,s,i,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"getAmountIn(uint256,uint256,uint256)",c=q.toSmallestUnitHex(t,n[n.length-1].decimals).padStart(64,"0"),o=q.toSmallestUnitHex(a,n[0].decimals).padStart(64,"0"),s=q.toSmallestUnitHex(r,n[n.length-1].decimals).padStart(64,"0"),i=c+o+s,console.log("getAmountIn data",i),e.prev=6,e.next=9,this.getData("getAmountIn(uint256,uint256,uint256)",i,this.routerContract);case 9:return l=e.sent,u=q.toCurrencyUint(q.toBn(l),n[0].decimals),console.log("getAmountIn amountIn",u),e.abrupt("return",u);case 15:throw e.prev=15,e.t0=e.catch(6),console.log("getAmountIn error",e.t0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[6,15]])})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"getAmountOut",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r){var c,o,s,i,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"getAmountOut(uint256,uint256,uint256)",c=q.toSmallestUnitHex(t,n[0].decimals).padStart(64,"0"),o=q.toSmallestUnitHex(a,n[0].decimals).padStart(64,"0"),s=q.toSmallestUnitHex(r,n[n.length-1].decimals).padStart(64,"0"),i=c+o+s,console.log("getDetails=>getAmountOut data",i),e.prev=6,e.next=9,this.getData("getAmountOut(uint256,uint256,uint256)",i,this.routerContract);case 9:return l=e.sent,console.log("getAmountOut result",l),u=q.toCurrencyUint(q.toBn(l),n[n.length-1].decimals),console.log("getAmountOut amountIn",u),e.abrupt("return",u);case 16:throw e.prev=16,e.t0=e.catch(6),console.log("getAmountIn error",e.t0),e.t0;case 20:case"end":return e.stop()}}),e,this,[[6,16]])})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"getAmountsIn",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a,r,c,o,s,i,l,u,p,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getAmountsIn tokens",n),"getAmountsIn(uint256,address[])",r=q.toSmallestUnitHex(t,n[n.length-1].decimals).split(".")[0].padStart(64,"0"),c=q.toHex(n.length).padStart(64,"0"),o=null===(a=this.nativeCurrency)||void 0===a?void 0:a.contract.replace("0x","").padStart(64,"0"),s=q.gt(n[0].contract,"0")?n[0].contract.replace("0x","").padStart(64,"0"):o,i=q.gt(n[n.length-1].contract,"0")?n[n.length-1].contract.replace("0x","").padStart(64,"0"):o,l=r+"0000000000000000000000000000000000000000000000000000000000000040"+c+s+i,console.log("getAmountsIn data",l),e.prev=9,e.next=12,this.getData("getAmountsIn(uint256,address[])",l,this.routerContract);case 12:return u=e.sent,console.log("getAmountsIn result",u),p=ee(u.replace("0x",""),64)[2],console.log("getAmountsIn parsedResult",p),v=q.toCurrencyUint(q.toBn(p),n[0].decimals),console.log("getAmountsIn amountIn",v),e.abrupt("return",v);case 21:throw e.prev=21,e.t0=e.catch(9),console.log("getAmountsIn error",e.t0),e.t0;case 25:case"end":return e.stop()}}),e,this,[[9,21]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAmountsOut",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a,r,c,o,s,i,l,u,p,v,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"getAmountsOut(uint256,address[])",r=q.toSmallestUnitHex(t,n[0].decimals).split(".")[0].padStart(64,"0"),c=q.toHex(n.length).padStart(64,"0"),o=null===(a=this.nativeCurrency)||void 0===a?void 0:a.contract.replace("0x","").padStart(64,"0"),s=q.gt(n[0].contract,"0")?n[0].contract.replace("0x","").padStart(64,"0"):o,i=q.gt(n[n.length-1].contract,"0")?n[n.length-1].contract.replace("0x","").padStart(64,"0"):o,l=r+"0000000000000000000000000000000000000000000000000000000000000040"+c+s+i,console.log("getAmountsOut data",l),e.prev=8,e.next=11,this.getData("getAmountsOut(uint256,address[])",l,this.routerContract);case 11:return u=e.sent,console.log("getAmountsOut result",u),p=ee(u.replace("0x",""),64),v=p[p.length-1],console.log("getAmountsOut parsedResult",v),h=q.toCurrencyUint(q.toBn(v),n[n.length-1].decimals),console.log("getAmountsOut amountOut",h),e.abrupt("return",h);case 21:throw e.prev=21,e.t0=e.catch(8),console.log("getAmountsOut error",e.t0),e.t0;case 25:case"end":return e.stop()}}),e,this,[[8,21]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"isAllowanceEnough",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a){var r,c,o,s,i,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"allowance(address,address)",o=null===(r=this.connectedAccount)||void 0===r?void 0:r.contract.replace("0x","").padStart(64,"0"),s=null===(c=this.routerContract)||void 0===c?void 0:c.replace("0x","").padStart(64,"0"),i=o+s,e.next=6,this.getData("allowance(address,address)",i,t);case 6:return l=e.sent,console.log("allowance result",l),u=q.toCurrencyUint(q.toBn(l),a),console.log("allowance amount",u),e.abrupt("return",{isEnough:q.gt(u,n),allowanceAmount:u});case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"approve",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a){var r,c,o,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"approve(address,uint256)",r="0x".concat(M()("approve(address,uint256)").toString("hex").slice(0,8)),c=this.routerContract.replace("0x","").padStart(64,"0"),o=n?q.toSmallestUnitHex(n,a).split(".")[0].padStart(64,"0"):"".padEnd(64,"f"),0,s={to:t,amount:0,data:r+c+o},e.prev=7,e.next=10,this.lunar.send(s);case 10:return i=e.sent,console.log("approve result",i),e.abrupt("return",i);case 15:throw e.prev=15,e.t0=e.catch(7),e.t0;case 18:case"end":return e.stop()}}),e,this,[[7,15]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"updateHistory",value:function(e){var t=e.id,n=e.type,a=(e.chainId,e.transactionHash),r=e.token0,c=e.token0AmountChange,o=e.token1,s=e.token1AmountChange,i=e.timestamp,u=e.pending;return{id:t,transactionHash:a,type:n,tokenA:Object(l.a)(Object(l.a)({},r),{},{amount:c}),tokenB:Object(l.a)(Object(l.a)({},o),{},{amount:s||"--"}),dateTime:Q(i),pending:u}}},{key:"createPair",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a,r,c,o,s,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("createPair(address,address)",a="0x".concat(M()("createPair(address,address)").toString("hex").slice(0,8)),r=t.replace("0x","").padStart(64,"0"),c=n.replace("0x","").padStart(64,"0"),o=a+r+c,s=0,this.factoryContract){e.next=9;break}return e.next=9,this.getFactoryContract();case 9:return i={to:this.factoryContract,amount:s,data:o},e.next=12,this.lunar.send(i);case 12:return l=e.sent,console.log("createPair result",l),e.abrupt("return",l);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"formateAddLiquidity",value:function(e){var t,n,a=e.pool,r=e.tokenA,c=e.tokenB,o=e.amountADesired,s=e.amountBDesired,i=e.type;if(console.log("formateAddLiquidity pool",a),!a)return{tokenA:r,tokenB:c,amountADesired:o,amountBDesired:s};switch(i){case"selected":return n=o?q.mult(a.reverse?q.div(a.poolBalanceOfToken0,a.poolBalanceOfToken1):q.div(a.poolBalanceOfToken1,a.poolBalanceOfToken0),o):"0",{tokenA:a.token0,tokenB:a.token1,amountADesired:o,amountBDesired:n,pool:a};case"paired":return console.log("formateAddLiquidity",s),t=s?q.mult(a.reverse?q.div(a.poolBalanceOfToken1,a.poolBalanceOfToken0):q.div(a.poolBalanceOfToken0,a.poolBalanceOfToken1),s):"0",{tokenA:a.token0,tokenB:a.token1,amountADesired:t,amountBDesired:s,pool:a};default:throw Error("type cannot be null")}}},{key:"addLiquidityETH",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c){var o,s,i,l,u,p,v,h,b,m,j,f,x,O,k;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("addLiquidityETH token",t),console.log("addLiquidityETH amountToken",n),console.log("addLiquidityETH amountETH",a),"addLiquidityETH(address,uint256,uint256,uint256,address,uint256)",s="0x".concat(M()("addLiquidityETH(address,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),i=t.contract.replace("0x","").padStart(64,"0"),l=q.toSmallestUnitHex(n,t.decimals).split(".")[0].padStart(64,"0"),u=q.toHex(Math.floor(q.mult(q.toSmallestUnit(n,t.decimals),q.minus("1",q.div(r||"0.5","100"))))).padStart(64,"0"),console.log("amountTokenMin",u),p=q.toHex(Math.floor(q.mult(q.toSmallestUnit(a,18),q.minus("1",q.div(r||"0.5","100"))))).padStart(64,"0"),console.log("amountETHMin",p),v=null===(o=this.connectedAccount)||void 0===o?void 0:o.contract.replace("0x","").padStart(64,"0"),h=q.toHex(q.plus(Math.round(q.div(Date.now(),1e3)),q.mult(c||"30",60))).padStart(64,"0"),b=s+i+l+u+p+v+h,console.log("data",b),m="".concat(a).split("."),console.log("splitChunk",m),j={to:this.routerContract,amount:m.length>1&&m[1].length>18?"".concat(m[0],".").concat(m[1].substring(0,18)):a,data:b},e.prev=18,console.log("addLiquidityETH transaction",j),e.next=22,this.lunar.send(j);case 22:return f=e.sent,x={id:"".concat(this.network.chainId,"-").concat(f.toString()),type:P,transactionHash:f.toString(),chainId:this.network.chainId,token0:t,token1:this.assetList.find((function(e){return q.eq(e.contract,"0")})),token0AmountChange:q.mult(n,q.minus("1",q.div(r||"0.5","100"))),token1AmountChange:q.mult(a,q.minus("1",q.div(r||"0.5","100"))),timestamp:Date.now(),pending:!0},O=this.updateHistory(x),this.updateHistories(O),k={evt:"UpdateHistories",data:this.histories},this.messenger.next(k),console.log("addLiquidityETH result",f),e.abrupt("return",x);case 32:throw e.prev=32,e.t0=e.catch(18),console.log("addLiquidityETH error",e.t0),e.t0;case 36:case"end":return e.stop()}}),e,this,[[18,32]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}()},{key:"addLiquidity",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c,o){var s,i,l,u,p,v,h,b,m,j,f,x,O,k,g,_;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"addLiquidity(address,address,uint256,uint256,uint256,uint256,address,uint256)",i="0x".concat(M()("addLiquidity(address,address,uint256,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),l=t.contract.replace("0x","").padStart(64,"0"),u=n.contract.replace("0x","").padStart(64,"0"),p=q.toSmallestUnitHex(a,t.decimals).split(".")[0].padStart(64,"0"),v=q.toSmallestUnitHex(r,n.decimals).split(".")[0].padStart(64,"0"),h=q.toHex(Math.floor(q.mult(q.toSmallestUnit(a,t.decimals),q.minus("1",q.div(c||"0.5","100"))))).padStart(64,"0"),b=q.toHex(Math.floor(q.mult(q.toSmallestUnit(r,n.decimals),q.minus("1",q.div(c||"0.5","100"))))).padStart(64,"0"),m=null===(s=this.connectedAccount)||void 0===s?void 0:s.contract.replace("0x","").padStart(64,"0"),j=q.toHex(q.plus(Math.round(q.div(Date.now(),1e3)),q.mult(o||"30",60))).padStart(64,"0"),f=i+l+u+p+v+h+b+m+j,0,x={to:this.routerContract,amount:0,data:f},e.prev=13,console.log("addLiquidity transaction",x),e.next=17,this.lunar.send(x);case 17:return O=e.sent,console.log("addLiquidity result",O),k={id:"".concat(this.network.chainId,"-").concat(O.toString()),type:P,transactionHash:O.toString(),chainId:this.network.chainId,token0:t,token1:n,token0AmountChange:q.mult(a,q.minus("1",q.div(c||"0.5","100"))),token1AmountChange:q.mult(r,q.minus("1",q.div(c||"0.5","100"))),timestamp:Date.now(),pending:!0},g=this.updateHistory(k),this.updateHistories(g),_={evt:"UpdateHistories",data:this.histories},this.messenger.next(_),e.abrupt("return",k);case 27:throw e.prev=27,e.t0=e.catch(13),console.log("addLiquidity error",e.t0),e.t0;case 31:case"end":return e.stop()}}),e,this,[[13,27]])})));return function(t,n,a,r,c,o){return e.apply(this,arguments)}}()},{key:"provideLiquidity",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r,c,o,s,i,u,v,h,b,m=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.tokenA,a=t.tokenB,r=t.amountADesired,c=t.amountBDesired,o=t.slippage,s=t.deadline,i=t.create,u=t.reverse,!q.eq(null===n||void 0===n?void 0:n.contract,0)&&!q.eq(null===a||void 0===a?void 0:a.contract,0)){e.next=14;break}if(!q.eq(null===n||void 0===n?void 0:n.contract,0)){e.next=8;break}return e.next=5,this.addLiquidityETH(a,c,r,o,s);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,this.addLiquidityETH(n,r,c,o,s);case 10:e.t0=e.sent;case 11:v=e.t0,e.next=24;break;case 14:if(!u){e.next=20;break}return e.next=17,this.addLiquidity(a,n,c,r,o,s);case 17:e.t1=e.sent,e.next=23;break;case 20:return e.next=22,this.addLiquidity(n,a,r,c,o,s);case 22:e.t1=e.sent;case 23:v=e.t1;case 24:return console.log("providity Liquidity resule",v),i&&(h={id:"".concat(n.contract.toLowerCase(),"-").concat(a.contract.toLowerCase()),token0:n,token1:a,name:"".concat(n.symbol,"/").concat(a.symbol),poolBalanceOfToken0:r,poolBalanceOfToken1:c,share:1,liquidity:"0",yield:"0",volume:{value:"0",change:"$0"},tvl:{value:"0",change:"$0"},irr:"3",interest24:"0",pending:!0},this.newPools.push(h),console.log(" this.newPools",this.newPools),this.poolList=this.newPools.concat(this.poolList),console.log("!!! getSupportedPools this.poolList after create",this.poolList),b={evt:"UpdateSupportedPools",data:this.poolList},this.messenger.next(b),this.newPoolTimer=setInterval(Object(p.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.searchPoolByTokens({token0:n,token1:a});case 2:t=e.sent,console.log("create newPool",h),console.log("createed newPool",t),t&&(r=m.newPools.findIndex((function(e){return e.id="".concat(n.contract.toLowerCase(),"-").concat(a.contract.toLowerCase())})),-1!==r&&(m.newPools[r]=Object(l.a)(Object(l.a)({},h),{},{id:"".concat(m.network.chainId,"-").concat(t.poolContract.toLowerCase()),poolContract:t.poolContract,poolBalanceOfToken0:t.poolBalanceOfToken0,poolBalanceOfToken1:t.poolBalanceOfToken1,pending:!1})),console.log("createed this.newPools[index]",m.newPools[r]),clearInterval(m.newPoolTimer));case 6:case"end":return e.stop()}}),e)}))),1e3)),e.abrupt("return",v);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"swapETHForExactTokens",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c){var o,s,i,l,u,p,v,h,b,m,j,f,x,O,k;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(o=this.nativeCurrency)||void 0===o?void 0:o.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:return"swapETHForExactTokens(uint256,address[],address,uint256)",i="0x".concat(M()("swapETHForExactTokens(uint256,address[],address,uint256)").toString("hex").slice(0,8)),l=q.toSmallestUnitHex(n,a[a.length-1].decimals).split(".")[0].padStart(64,"0"),u=null===(s=this.connectedAccount)||void 0===s?void 0:s.contract.replace("0x","").padStart(64,"0"),p=q.toHex(q.plus(Math.round(q.div(Date.now(),1e3)),q.mult(c||"30",60))).padStart(64,"0"),v=q.toHex(a.length).padStart(64,"0"),h=[this.nativeCurrency].concat(Object(N.a)(a.slice(1))).reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),b=i+l+"0000000000000000000000000000000000000000000000000000000000000080"+u+p+v+h,m=q.mult(t,q.plus("1",q.div(r||"0.5","100"))),console.log("value",m),console.log("SafeMath.div(value, 18)",q.div(m,18)),console.log('SafeMath.div(value, 18).split(".")',q.div(m,18).split(".")),q.div(m,18).split(".").length>1&&q.div(m,18).split(".")[1].length>18&&(m=q.mult("".concat(q.div(m,18).split(".")[0],".").concat(q.div(m,18).split(".")[1].substring(0,18)),18)),console.log("value",m),j={to:this.routerContract,amount:m,data:b},e.prev=18,e.next=21,this.lunar.send(j);case 21:return f=e.sent,x={id:"".concat(this.network.chainId,"-").concat(f.toString()),type:L,transactionHash:f.toString(),chainId:this.network.chainId,token0:a[0],token1:a[a.length-1],token0AmountChange:q.mult(t,q.plus("1",q.div(r||"0.5","100"))),token1AmountChange:n,timestamp:Date.now(),pending:!0},O=this.updateHistory(x),this.updateHistories(O),k={evt:"UpdateHistories",data:this.histories},this.messenger.next(k),console.log("swapExactETHForTokens result",f),e.abrupt("return",x);case 31:throw e.prev=31,e.t0=e.catch(18),console.log("swapExactETHForTokens error",e.t0),e.t0;case 35:case"end":return e.stop()}}),e,this,[[18,31]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}()},{key:"swapExactETHForTokens",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c){var o,s,i,l,u,p,v,h,b,m,j,f,x,O,k;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(o=this.nativeCurrency)||void 0===o?void 0:o.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:return"swapExactETHForTokens(uint256,address[],address,uint256)",i="0x".concat(M()("swapExactETHForTokens(uint256,address[],address,uint256)").toString("hex").slice(0,8)),l=q.toHex(Math.floor(q.mult(q.toSmallestUnit(n,a[a.length-1].decimals),q.minus("1",q.div(r||"0.5","100"))))).padStart(64,"0"),u=null===(s=this.connectedAccount)||void 0===s?void 0:s.contract.replace("0x","").padStart(64,"0"),p=q.toHex(q.plus(Math.round(q.div(Date.now(),1e3)),q.mult(c||"30",60))).padStart(64,"0"),v=q.toHex(a.length).padStart(64,"0"),h=[this.nativeCurrency].concat(Object(N.a)(a.slice(1))).reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),b=i+l+"0000000000000000000000000000000000000000000000000000000000000080"+u+p+v+h,m=t,console.log("value",m),console.log("SafeMath.div(value, 18)",q.div(m,18)),console.log('SafeMath.div(value, 18).split(".")',q.div(m,18).split(".")),q.div(m,18).split(".").length>1&&q.div(m,18).split(".")[1].length>18&&(m=q.mult("".concat(q.div(m,18).split(".")[0],".").concat(q.div(m,18).split(".")[1].substring(0,18)),18)),console.log("value",m),j={to:this.routerContract,amount:m,data:b},e.prev=18,e.next=21,this.lunar.send(j);case 21:return f=e.sent,console.log("swapExactETHForTokens result",f),x={id:"".concat(this.network.chainId,"-").concat(f.toString()),type:L,transactionHash:f.toString(),chainId:this.network.chainId,token0:a[0],token1:a[a.length-1],token0AmountChange:t,token1AmountChange:q.mult(n,q.minus("1",q.div(r||"0.5","100"))),timestamp:Date.now(),pending:!0},O=this.updateHistory(x),this.updateHistories(O),k={evt:"UpdateHistories",data:this.histories},this.messenger.next(k),console.log("swapExactETHForTokens result",f),e.abrupt("return",x);case 32:throw e.prev=32,e.t0=e.catch(18),console.log("swapExactETHForTokens error",e.t0),e.t0;case 36:case"end":return e.stop()}}),e,this,[[18,32]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}()},{key:"swapExactTokensForETH",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c){var o,s,i,l,u,p,v,h,b,m,j,f,x,O,k;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(o=this.nativeCurrency)||void 0===o?void 0:o.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:return"swapExactTokensForETH(uint256,uint256,address[],address,uint256)",i="0x".concat(M()("swapExactTokensForETH(uint256,uint256,address[],address,uint256)").toString("hex").slice(0,8)),l=q.toSmallestUnitHex(t,a[0].decimals).split(".")[0].padStart(64,"0"),u=q.toHex(Math.floor(q.mult(q.toSmallestUnit(n,a[a.length-1].decimals),q.minus("1",q.div(r||"0.5","100"))))).padStart(64,"0"),p=null===(s=this.connectedAccount)||void 0===s?void 0:s.contract.replace("0x","").padStart(64,"0"),v=q.toHex(q.plus(Math.round(q.div(Date.now(),1e3)),q.mult(c||"30",60))).padStart(64,"0"),h=q.toHex(a.length).padStart(64,"0"),b=[].concat(Object(N.a)(a.slice(0,a.length-1)),[this.nativeCurrency]).reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),m=i+l+u+"00000000000000000000000000000000000000000000000000000000000000a0"+p+v+h+b,0,j={to:this.routerContract,amount:0,data:m},e.prev=14,e.next=17,this.lunar.send(j);case 17:return f=e.sent,x={id:"".concat(this.network.chainId,"-").concat(f.toString()),type:L,transactionHash:f.toString(),chainId:this.network.chainId,token0:a[0],token1:this.assetList.find((function(e){return q.eq(e.contract,"0")})),token0AmountChange:t,token1AmountChange:q.mult(n,q.minus("1",q.div(r||"0.5","100"))),timestamp:Date.now(),pending:!0},O=this.updateHistory(x),this.updateHistories(O),k={evt:"UpdateHistories",data:this.histories},this.messenger.next(k),console.log("swapExactETHForTokens result",f),e.abrupt("return",x);case 27:throw e.prev=27,e.t0=e.catch(14),console.log("swapExactETHForTokens error",e.t0),e.t0;case 31:case"end":return e.stop()}}),e,this,[[14,27]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}()},{key:"swapTokensForExactETH",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c){var o,s,i,l,u,p,v,h,b,m,j,f,x,O,k;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(o=this.nativeCurrency)||void 0===o?void 0:o.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:return"swapTokensForExactETH(uint256,uint256,address[],address,uint256)",i="0x".concat(M()("swapTokensForExactETH(uint256,uint256,address[],address,uint256)").toString("hex").slice(0,8)),l=q.toSmallestUnitHex(n,18).split(".")[0].padStart(64,"0"),u=q.toHex(Math.floor(q.mult(q.toSmallestUnit(t,a[a.length-1].decimals),q.plus("1",q.div(r||"0.5","100"))))).padStart(64,"0"),p=null===(s=this.connectedAccount)||void 0===s?void 0:s.contract.replace("0x","").padStart(64,"0"),v=q.toHex(q.plus(Math.round(q.div(Date.now(),1e3)),q.mult(c||"30",60))).padStart(64,"0"),h=q.toHex(a.length).padStart(64,"0"),b=[].concat(Object(N.a)(a.slice(0,a.length-1)),[this.nativeCurrency]).reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),m=i+l+u+"00000000000000000000000000000000000000000000000000000000000000a0"+p+v+h+b,0,j={to:this.routerContract,amount:0,data:m},e.prev=14,e.next=17,this.lunar.send(j);case 17:return f=e.sent,x={id:"".concat(this.network.chainId,"-").concat(f.toString()),type:L,transactionHash:f.toString(),chainId:this.network.chainId,token0:a[0],token1:this.assetList.find((function(e){return q.eq(e.contract,"0")})),token0AmountChange:t,token1AmountChange:q.mult(n,q.minus("1",q.div(r||"0.5","100"))),timestamp:Date.now(),pending:!0},O=this.updateHistory(x),this.updateHistories(O),k={evt:"UpdateHistories",data:this.histories},this.messenger.next(k),console.log("swapExactETHForTokens result",f),e.abrupt("return",x);case 27:throw e.prev=27,e.t0=e.catch(14),console.log("swapExactETHForTokens error",e.t0),e.t0;case 31:case"end":return e.stop()}}),e,this,[[14,27]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}()},{key:"swapTokensForExactTokens",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c){var o,s,i,l,u,p,v,h,b,m,j,f,x,O,k;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(o=this.nativeCurrency)||void 0===o?void 0:o.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:return"swapTokensForExactTokens(uint256,uint256,address[],address,uint256)",i="0x".concat(M()("swapTokensForExactTokens(uint256,uint256,address[],address,uint256)").toString("hex").slice(0,8)),l=q.toSmallestUnitHex(n,a[a.length-1].decimals).padStart(64,"0"),u=q.toHex(Math.floor(q.mult(q.toSmallestUnit(t,a[0].decimals),q.plus("1",q.div(r||"0.5","100"))))).padStart(64,"0"),p=null===(s=this.connectedAccount)||void 0===s?void 0:s.contract.replace("0x","").padStart(64,"0"),v=q.toHex(q.plus(Math.round(q.div(Date.now(),1e3)),q.mult(c||"30",60))).padStart(64,"0"),h=q.toHex(a.length).padStart(64,"0"),b=a.reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),m=i+l+u+"00000000000000000000000000000000000000000000000000000000000000a0"+p+v+h+b,0,j={to:this.routerContract,amount:0,data:m},e.prev=14,e.next=17,this.lunar.send(j);case 17:return f=e.sent,console.log("swap result",f),x={id:"".concat(this.network.chainId,"-").concat(f.toString()),type:L,transactionHash:f.toString(),chainId:this.network.chainId,token0:a[0],token1:a[a.length-1],token0AmountChange:q.mult(t,q.plus("1",q.div(r||"0.5","100"))),token1AmountChange:n,timestamp:Date.now(),pending:!0},O=this.updateHistory(x),this.updateHistories(O),k={evt:"UpdateHistories",data:this.histories},this.messenger.next(k),console.log("swapExactETHForTokens result",f),e.abrupt("return",x);case 28:throw e.prev=28,e.t0=e.catch(14),console.log("swapExactTokensForTokens error",e.t0),e.t0;case 32:case"end":return e.stop()}}),e,this,[[14,28]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}()},{key:"swapExactTokensForTokens",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c){var o,s,i,l,u,p,v,h,b,m,j,f,x,O,k;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(o=this.nativeCurrency)||void 0===o?void 0:o.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:return"swapExactTokensForTokens(uint256,uint256,address[],address,uint256)",i="0x".concat(M()("swapExactTokensForTokens(uint256,uint256,address[],address,uint256)").toString("hex").slice(0,8)),l=q.toSmallestUnitHex(t,a[0].decimals).split(".")[0].padStart(64,"0"),u=q.toHex(Math.floor(q.mult(q.toSmallestUnit(n,a[a.length-1].decimals),q.minus("1",q.div(r||"0.5","100"))))).padStart(64,"0"),p=null===(s=this.connectedAccount)||void 0===s?void 0:s.contract.replace("0x","").padStart(64,"0"),v=q.toHex(q.plus(Math.round(q.div(Date.now(),1e3)),q.mult(c||"30",60))).padStart(64,"0"),h=q.toHex(a.length).padStart(64,"0"),b=a.reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),m=i+l+u+"00000000000000000000000000000000000000000000000000000000000000a0"+p+v+h+b,0,j={to:this.routerContract,amount:0,data:m},e.prev=14,e.next=17,this.lunar.send(j);case 17:return f=e.sent,console.log("swap result",f),x={id:"".concat(this.network.chainId,"-").concat(f.toString()),type:L,transactionHash:f.toString(),chainId:this.network.chainId,token0:a[0],token1:a[a.length-1],token0AmountChange:t,token1AmountChange:q.mult(n,q.minus("1",q.div(r||"0.5","100"))),timestamp:Date.now(),pending:!0},O=this.updateHistory(x),this.updateHistories(O),k={evt:"UpdateHistories",data:this.histories},this.messenger.next(k),console.log("swapExactETHForTokens result",f),e.abrupt("return",x);case 28:throw e.prev=28,e.t0=e.catch(14),console.log("swapExactTokensForTokens error",e.t0),e.t0;case 32:case"end":return e.stop()}}),e,this,[[14,28]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}()},{key:"swap",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c,o){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(s=this.nativeCurrency)||void 0===s?void 0:s.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:e.t0=o,e.next="selected"===e.t0?6:"paired"===e.t0?21:36;break;case 6:if(!q.eq(a[0].contract,"0")){e.next=12;break}return e.next=9,this.swapExactETHForTokens(t,n,a,r,c);case 9:case 15:case 20:case 24:case 30:case 35:return e.abrupt("return",e.sent);case 12:if(!q.eq(a[a.length-1].contract,"0")){e.next=18;break}return e.next=15,this.swapExactTokensForETH(t,n,a,r,c);case 18:return e.next=20,this.swapExactTokensForTokens(t,n,a,r,c);case 21:if(!q.eq(a[0].contract,"0")){e.next=27;break}return e.next=24,this.swapETHForExactTokens(t,n,a,r,c);case 27:if(!q.eq(a[a.length-1].contract,"0")){e.next=33;break}return e.next=30,this.swapTokensForExactETH(t,n,a,r,c);case 33:return e.next=35,this.swapTokensForExactTokens(t,n,a,r,c);case 36:throw Error("Invalid type");case 37:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,c,o){return e.apply(this,arguments)}}()},{key:"removeLiquidityETH",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c,o,s){var i,l,u,p,v,h,b,m,j,f,x,O,k,g;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("removeLiquidityETH slippage",o),console.log("removeLiquidityETH deadline",s),"removeLiquidityETH(address,uint256,uint256,uint256,address,uint256)",l="0x".concat(M()("removeLiquidityETH(address,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),u=n.contract.replace("0x","").padStart(64,"0"),p=q.toSmallestUnitHex(a,t.decimals).split(".")[0].padStart(64,"0"),v=q.toHex(Math.floor(q.mult(q.toSmallestUnit(r,n.decimals),q.minus("1",q.div(o||"5","100"))))).padStart(64,"0"),h=q.toHex(Math.floor(q.mult(q.toSmallestUnit(c,18),q.minus("1",q.div(o||"5","100"))))).padStart(64,"0"),b=null===(i=this.connectedAccount)||void 0===i?void 0:i.contract.replace("0x","").padStart(64,"0"),m=q.toHex(q.plus(Math.round(q.div(Date.now(),1e3)),q.mult(s||"30",60))).padStart(64,"0"),j=l+u+p+v+h+b+m,0,f={to:this.routerContract,amount:0,data:j},e.prev=13,e.next=16,this.lunar.send(f);case 16:return x=e.sent,console.log("removeLiquidityETH result",x),O={id:"".concat(this.network.chainId,"-").concat(x.toString()),type:H,transactionHash:x.toString(),chainId:this.network.chainId,token0:n,token1:this.assetList.find((function(e){return q.eq(e.contract,"0")})),token0AmountChange:q.mult(r,q.minus("1",q.div(o||"5","100"))),token1AmountChange:q.mult(c,q.minus("1",q.div(o||"5","100"))),timestamp:Date.now(),pending:!0},console.log("removeLiquidityETH result",x),k=this.updateHistory(O),this.updateHistories(k),g={evt:"UpdateHistories",data:this.histories},this.messenger.next(g),e.abrupt("return",O);case 27:throw e.prev=27,e.t0=e.catch(13),console.log("removeLiquidityETH error",e.t0),e.t0;case 31:case"end":return e.stop()}}),e,this,[[13,27]])})));return function(t,n,a,r,c,o,s){return e.apply(this,arguments)}}()},{key:"takeLiquidity",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r,c,o){var s,i,l,u,p,v,h,b,m,j,f,x,O,k,g;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("removeLiquidityETH slippage",c),console.log("removeLiquidityETH deadline",o),"removeLiquidity(address,address,uint256,uint256,uint256,address,uint256)",i="0x".concat(M()("removeLiquidity(address,address,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),l=t.token0.contract.replace("0x","").padStart(64,"0"),u=t.token1.contract.replace("0x","").padStart(64,"0"),p=q.toSmallestUnitHex(n,t.decimals).split(".")[0].padStart(64,"0"),v=q.toHex(Math.floor(q.mult(q.toSmallestUnit(a,t.token0.decimals),q.minus("1",q.div(c||"5","100"))))).padStart(64,"0"),h=q.toHex(Math.floor(q.mult(q.toSmallestUnit(r,t.token1.decimals),q.minus("1",q.div(c||"5","100"))))).padStart(64,"0"),b=null===(s=this.connectedAccount)||void 0===s?void 0:s.contract.replace("0x","").padStart(64,"0"),m=q.toHex(q.plus(Math.round(q.div(Date.now(),1e3)),q.mult(o||"30",60))).padStart(64,"0"),j=i+l+u+p+v+h+b+m,0,f={to:this.routerContract,amount:0,data:j},e.prev=14,e.next=17,this.lunar.send(f);case 17:return x=e.sent,console.log("takeLiquidity result",x),O={id:"".concat(this.network.chainId,"-").concat(x.toString()),type:H,transactionHash:x.toString(),chainId:this.network.chainId,token0:t.token0,token1:t.token1,token0AmountChange:q.mult(a,q.minus("1",q.div(c||"5","100"))),token1AmountChange:q.mult(r,q.minus("1",q.div(c||"5","100"))),timestamp:Date.now(),pending:!0},k=this.updateHistory(O),this.updateHistories(k),g={evt:"UpdateHistories",data:this.histories},this.messenger.next(g),e.abrupt("return",O);case 27:throw e.prev=27,e.t0=e.catch(14),console.log("takeLiquidity error",e.t0),e.t0;case 31:case"end":return e.stop()}}),e,this,[[14,27]])})));return function(t,n,a,r,c,o){return e.apply(this,arguments)}}()}]),e}(),_a=ga,ya=new ha({apiURL:"",apiKey:"",apiSecret:""}),wa=new ma.a,Ca=(null===wa||void 0===wa?void 0:wa.blockchain)||(ia?ma.a.Blockchains.EthereumTestnet:ma.a.Blockchains.Ethereum),Na=ma.a.listBlockchain().filter((function(e){return"EthereumTestnet"===e.key||"Ethereum"===e.key})),Sa=new _a(wa,Ca,ya);r.a.render(Object(f.jsx)(xa,{network:Ca,communicator:ya,children:Object(f.jsx)(ca,{ttsc:Sa,network:Ca,supportedNetworks:Na,children:Object(f.jsx)(c.a,{children:Object(f.jsx)(ra,{})})})}),document.getElementById("root"))},46:function(e,t,n){e.exports={network:"NetworkDetail_network__2syz5",highlight:"NetworkDetail_highlight__1ktK0",content:"NetworkDetail_content__3vHP-",shrink:"NetworkDetail_shrink__mZEI_",title:"NetworkDetail_title__3yPlt",icon:"NetworkDetail_icon__28jIU",header1:"NetworkDetail_header1__3nrra",paragraph:"NetworkDetail_paragraph__1aTxu",option:"NetworkDetail_option__3wBdA"}},47:function(e,t,n){e.exports={input:"Input_input__2swPp",label:"Input_label__3uKZ0",detail:"Input_detail__2VQ0x","input-controller":"Input_input-controller__scu78","input-hint":"Input_input-hint__yVEJ-",show:"Input_show__2WQWC",pannel:"Input_pannel__X3lnV",message:"Input_message__374uh",invalid:"Input_invalid__m8mGZ"}},49:function(e,t,n){e.exports={asset:"AssetDetail_asset__2cwF_",title:"AssetDetail_title__3DVBQ",subtitle:"AssetDetail_subtitle__1AbOb",content:"AssetDetail_content__2ov9y",header1:"AssetDetail_header1__1Kjoq",header2:"AssetDetail_header2__WCdRy",icon:"AssetDetail_icon__-yOOL",paragraph:"AssetDetail_paragraph__i9X-e"}},55:function(e,t,n){e.exports={pannel:"FilterList_pannel__27Tam",input:"FilterList_input__2EVl1",select:"FilterList_select__3knbB",content:"FilterList_content__1pHxq",container:"FilterList_container__2K8AM",page:"FilterList_page__2mpCe","search-bar":"FilterList_search-bar__2GKp7",header:"FilterList_header__K5jQj","hint-container":"FilterList_hint-container__1NzUD",hint:"FilterList_hint__1zqxb"}},56:function(e,t,n){e.exports={"coin-input":"CoinInput_coin-input__hYd5s",container:"CoinInput_container__13iNY",detail:"CoinInput_detail__W7vXW","input-controller":"CoinInput_input-controller__3MtgH","input-hint":"CoinInput_input-hint__Qj5Vc",show:"CoinInput_show__3lpS5"}},57:function(e,t,n){e.exports={overview:"Overview_overview__US_oz",chart:"Overview_chart__2Ycxr",summary:"Overview_summary__2O2BW",group:"Overview_group__3aiWb",data:"Overview_data__3o1Ff",change:"Overview_change__1vPud",increase:"Overview_increase__2-amt",decrease:"Overview_decrease__36lN8"}},61:function(e,t,n){e.exports={earn:"AddLiquidityPannel_earn__2ii0u",main:"AddLiquidityPannel_main__3yqXg",header:"AddLiquidityPannel_header__3S8xe",placeholder:"AddLiquidityPannel_placeholder__3vzV4","button-icon":"AddLiquidityPannel_button-icon__2UzZe","approve-button-container":"AddLiquidityPannel_approve-button-container__3KIyY",button:"AddLiquidityPannel_button__xGGrj",group:"AddLiquidityPannel_group__3rLoy",name:"AddLiquidityPannel_name__2WuKG",icon:"AddLiquidityPannel_icon__2Ns-w",content:"AddLiquidityPannel_content__KINS0",sub:"AddLiquidityPannel_sub__1iSm1",data:"AddLiquidityPannel_data__1obBY",title:"AddLiquidityPannel_title__3YRKE",amount:"AddLiquidityPannel_amount__2-bMf",details:"AddLiquidityPannel_details__11BkB",detail:"AddLiquidityPannel_detail__1zAOR",value:"AddLiquidityPannel_value__O7koj"}},62:function(e,t){e.exports={SUCCESS:"00000000",INVALID_INPUT:"01000000",USER_OCCUPATION:"02000000",USER_NOT_FOUND:"02000001",ACCOUNT_TOKEN_EXIST:"02000002",INVALID_ACCESS_TOKEN:"03000000",EXPIRED_ACCESS_TOKEN:"03000001",INVALID_ACCESS_TOKEN_SECRET:"03000002",EXPIRED_ACCESS_TOKEN_SECRET:"03000003",INVALID_SIGNATURE:"03000004",BLOCKCHAIN_ID_NOT_FOUND:"04000000",CURRENCY_ID_NOT_FOUND:"04000001",BLOCKCHAIN_HAS_NOT_TOKEN:"04000002",TOKEN_ID_NOT_FOUND:"04000003",ACCOUNT_NOT_FOUND:"04000004",TX_NOT_FOUND:"04000005",CONTRACT_CONT_FOUND:"04000005",BLOCKCHAIN_NOT_SUPPORT:"04000006",BLOCK_NOT_FOUND:"04000007",ADDRESS_NOT_FOUND:"04000008",DB_ERROR:"05000000",PUBLISH_TX_ERROR:"05000001",RPC_ERROR:"05000002",UNKNOWN_ERROR:"09000000"}},66:function(e,t,n){e.exports={modal:"Dialog_modal__1cigk",content:"Dialog_content__fFoO4",expand:"Dialog_expand__LnNKS",header:"Dialog_header__23n3D",title:"Dialog_title__iQRCw",cancel:"Dialog_cancel__3e6LL"}},68:function(e,t,n){e.exports={dropdown:"DropDown_dropdown__1PeGq",controller:"DropDown_controller__3gdoM",button:"DropDown_button__PZxMT",placeholder:"DropDown_placeholder__1-Sxc",selected:"DropDown_selected__1KvOF",label:"DropDown_label__3J2TN",options:"DropDown_options__3nWcJ",icon:"DropDown_icon__2AVr4"}},69:function(e,t,n){e.exports={summary:"Summary_summary__1SLx7",title:"Summary_title__1Cb2f",detail:"Summary_detail__3Vft7",tooltip:"Summary_tooltip__1779p",tooltiptext:"Summary_tooltiptext__8UrVC"}},7:function(e,t,n){e.exports={table:"Table_table__3cVv6",header:"Table_header__2gRGf","header-bar":"Table_header-bar__3wKRv",container:"Table_container__1u_GE",content:"Table_content__-Ptjk","title-bar":"Table_title-bar__2dByg",history:"Table_history__koJnm",tile:"Table_tile__1Quim",pending:"Table_pending__2tNMr",title:"Table_title__2DnBL",data:"Table_data__j8JKi","title-box":"Table_title-box__2HaO8",token:"Table_token__3IP6D",invest:"Table_invest__1oVzw",group:"Table_group__KzZqb",hint:"Table_hint__1AalZ",button:"Table_button__3YRTF",active:"Table_active__350ew",increase:"Table_increase__1vwjB",decrease:"Table_decrease__3Jh-l",icon:"Table_icon__B_-ID",icons:"Table_icons__3mHJZ"}},70:function(e,t,n){e.exports={"tool-bar":"Stakes_tool-bar__1jUxi",dropdown:"Stakes_dropdown__10Lll",option:"Stakes_option__3Fkll",search:"Stakes_search__1hTAA",label:"Stakes_label__17Xbt"}},73:function(e,t,n){e.exports={title:"CoinDialog_title__1dW6u",button:"CoinDialog_button__140Fr",placeholder:"CoinDialog_placeholder__3t7zn","coin-input":"CoinDialog_coin-input__75kBf",option:"CoinDialog_option__jUWo2"}},74:function(e,t,n){e.exports={modal:"ErrorDialog_modal__2hGgp",header:"ErrorDialog_header__12olq",cancel:"ErrorDialog_cancel__1wYGj",title:"ErrorDialog_title__1k8i2",message:"ErrorDialog_message__S9C8V",content:"ErrorDialog_content__3ZAtZ","error-icon":"ErrorDialog_error-icon__2TP99"}},75:function(e,t,n){e.exports={remove:"RemovePannel_remove__jpV8T",main:"RemovePannel_main__1zjl-",header:"RemovePannel_header__2auAe",content:"RemovePannel_content__2nV3x",button:"RemovePannel_button__3Nqjc","approve-button-container":"RemovePannel_approve-button-container__3ZyOJ",group:"RemovePannel_group__2LWou",name:"RemovePannel_name__2B_T5",icon:"RemovePannel_icon__2VWIX",sub:"RemovePannel_sub__3o8BA",detail:"RemovePannel_detail__2B7ES",data:"RemovePannel_data__3Onec",title:"RemovePannel_title__1kqHw",amount:"RemovePannel_amount__1Ww_j"}},83:function(e,t,n){e.exports={shrink:"CoinOption_shrink__3ehoX",name:"CoinOption_name__2UvXJ",option:"CoinOption_option__1CMJD",symbol:"CoinOption_symbol__Gs4V4",icon:"CoinOption_icon__2vU9a"}},9:function(e,t,n){e.exports={leading:"Detail_leading__2uVG7","sub-leading":"Detail_sub-leading__3ndtE",title:"Detail_title__1wIhf",main:"Detail_main__bfTRj",group:"Detail_group__2-ye8",info:"Detail_info__a5LFl",icons:"Detail_icons__sJxfz",icon:"Detail_icon__1Iuby",tag:"Detail_tag__1p2tF",action:"Detail_action__1YtsF",container:"Detail_container__1v0Sh","info-tile":"Detail_info-tile__3vUJe",chart:"Detail_chart__1Pbzu",data:"Detail_data__3pnI6",increase:"Detail_increase__1Khqo","data-change":"Detail_data-change__1ZKBU",decrease:"Detail_decrease__2AvhQ",bold:"Detail_bold__3uoBX","data-row":"Detail_data-row__2B0ed","data-detail":"Detail_data-detail__1vA5S","data-title":"Detail_data-title__1a7wd","data-value":"Detail_data-value__tAGKL"}},97:function(e,t,n){e.exports={input:"SearchInput_input__11JgY","search-icon":"SearchInput_search-icon__2Gr5g","search-icon__circle":"SearchInput_search-icon__circle__etznQ","search-icon__rectangle":"SearchInput_search-icon__rectangle__3TB9q"}},98:function(e,t,n){e.exports={content:"FilterButton_content__v5Beq",controller:"FilterButton_controller__3ehvz",title:"FilterButton_title__1LTXA",button:"FilterButton_button__1rjJG",placeholder:"FilterButton_placeholder__3tIz_",tab:"FilterButton_tab__2WQP0",icon:"FilterButton_icon__1rJuE",checkbox:"FilterButton_checkbox__OIRRm",filter:"FilterButton_filter__VwCfG",option:"FilterButton_option__3Q6Im"}},99:function(e,t,n){e.exports={controller:"RadioText_controller__3gKnD",tab:"RadioText_tab__34oKm",icon:"RadioText_icon__1V_Dm",value:"RadioText_value__1hsau"}}},[[410,1,2]]]);
//# sourceMappingURL=main.3230f61d.chunk.js.map