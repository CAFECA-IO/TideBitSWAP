(this["webpackJsonptidebit-swap"]=this["webpackJsonptidebit-swap"]||[]).push([[0],{100:function(e,t,n){e.exports={modal:"LoadingDialog_modal__3iTpZ",message:"LoadingDialog_message__x3Jjy"}},101:function(e,t,n){e.exports={invest:"Invest_invest__mq3Jd","header-bar":"Invest_header-bar__2Lsl7",header:"Invest_header__3FOmd"}},102:function(e,t,n){e.exports={"icon-button":"ConnectOptions_icon-button__3A5mo","icon-button__icon":"ConnectOptions_icon-button__icon__2GcbM","icon-button__name":"ConnectOptions_icon-button__name__1Fl3o"}},12:function(e,t,n){e.exports={sideMenu:"Menu_sideMenu__lBetq",menuOption:"Menu_menuOption__2v4u7",menuOptionIcon:"Menu_menuOptionIcon__Ald9O",connected:"Menu_connected__1mod5",active:"Menu_active__1hc7Y",footer:"Menu_footer__eGKyL"}},127:function(e,t,n){"use strict";n.r(t),n.d(t,"Config",(function(){return c}));var a="development",c={isTestnet:!0,env:a,apiVersion:"/api/v1",apiKey:"",apiSecret:"",url:"",network_publish:!0,debug_mode:true}},13:function(e,t,n){e.exports={list:"Invests_list__m9X7Q",title:"Invests_title__3mul2",container:"Invests_container__3NZqg",content:"Invests_content__32dHw","title-bar":"Invests_title-bar__30VJG","title-box":"Invests_title-box__2nVIe",hint:"Invests_hint__2UPTM",tile:"Invests_tile__ObI1k",action:"Invests_action__2uINN",button:"Invests_button__1UxLh",group:"Invests_group__1uXQ3",data:"Invests_data__34NYi",icon:"Invests_icon__YEZf2",icons:"Invests_icons__2cszc"}},14:function(e,t,n){e.exports={list:"Tokens_list__Gjr5T",title:"Tokens_title__31jd_",container:"Tokens_container__3eOiU",content:"Tokens_content__3DJ78","title-bar":"Tokens_title-bar__21Cna",hint:"Tokens_hint__3lG8a",tile:"Tokens_tile__SoXzX",action:"Tokens_action__3jhH7",button:"Tokens_button__2mtdT",group:"Tokens_group__3_VCb","title-box":"Tokens_title-box__1Rba4",data:"Tokens_data__2Y5UW",icon:"Tokens_icon__3gktW",increase:"Tokens_increase__dy310",decrease:"Tokens_decrease__H9tz1"}},15:function(e,t,n){e.exports={list:"Histories_list__2xJrX",header:"Histories_header__1YzK8","header-bar":"Histories_header-bar__3Go9h",button:"Histories_button__1PQWi",content:"Histories_content__3Z2dU","title-bar":"Histories_title-bar__2PRCM",data:"Histories_data__1ANku","title-box":"Histories_title-box__2cDNC",hint:"Histories_hint__2w_7b",tile:"Histories_tile__3xHlD"}},16:function(e,t,n){e.exports={list:"Histories_list__2zlyg",header:"Histories_header__17vJ0","header-bar":"Histories_header-bar__17o5Z",button:"Histories_button__2-Grm",content:"Histories_content__14mLR","title-bar":"Histories_title-bar__3EpIL",data:"Histories_data__236lw","title-box":"Histories_title-box__142uL",hint:"Histories_hint__2ocz-",tile:"Histories_tile__XzDUE"}},199:function(e,t,n){e.exports={"lds-spinner":"LoadingIcon_lds-spinner__3cMQd"}},20:function(e,t,n){e.exports={list:"Pairs_list__J0v05",content:"Pairs_content__lyfpd","title-bar":"Pairs_title-bar__2HvKP",header:"Pairs_header__36Jsp",group:"Pairs_group__Ad7Qo",title:"Pairs_title__jckNR",data:"Pairs_data__2XiiL","button-icon":"Pairs_button-icon__t0Zpb",name:"Pairs_name__1qKiu",tile:"Pairs_tile__wzqBh",pair:"Pairs_pair__10Ql-",icon:"Pairs_icon__2tb4X",icons:"Pairs_icons__32vhF"}},200:function(e,t,n){e.exports={backdrop:"Backdrop_backdrop__1uHu4"}},201:function(e,t,n){e.exports={card:"Card_card__1m44e"}},204:function(e,t,n){e.exports={history:"History_history__2J5PT"}},205:function(e,t,n){e.exports={race:"Race_race__3rm1k"}},206:function(e){e.exports=JSON.parse('{"name":"tidebit-swap","version":"0.9.0","description":"TideBit SWAP - The Most Friendly DeFi Solution","main":"bin/main.js","scripts":{"start":"bin/main.js","debug":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","deploy":"pm2 deploy"},"repository":{"type":"git","url":"git+https://github.com/CAFECA-IO/TideBitSWAP.git"},"keywords":["frontend","backend","framework"],"author":"CAFECA","license":"MIT","bugs":{"url":"https://github.com/CAFECA-IO/TideBitSWAP/issues"},"homepage":"https://swap.tidebit.network/","dependencies":{"@cafeca/lunar":"^0.2.12","@fortawesome/free-solid-svg-icons":"^5.15.4","@fortawesome/react-fontawesome":"^0.1.16","@testing-library/jest-dom":"^5.11.6","@testing-library/react":"^11.2.2","@testing-library/user-event":"^12.5.0","apexcharts":"^3.30.0","axios":"^0.24.0","bignumber.js":"^9.0.1","command-line-args":"^5.0.2","dvalue":"^1.0.20","ecrequest":"^1.1.5","i18n":"^0.13.3","jsonwebtoken":"^8.5.1","keccak256":"^1.0.3","koa":"^2.13.1","koa-body":"^4.2.0","koa-router":"^10.1.1","koa-session":"^6.2.0","koa-static":"^5.0.0","litepicker":"^2.0.11","ncp":"^2.0.0","pem":"^1.14.4","qrcode.react":"^1.0.1","react":"^17.0.1","react-apexcharts":"^1.3.9","react-dom":"^17.0.1","react-icons":"^4.3.1","react-router-dom":"^5.3.0","rxjs":"^7.4.0","spdy":"^4.0.2","sqlite3":"^5.0.2","tingodb":"^0.6.1","toml":"^3.0.0","web-vitals":"^0.2.4","ws":"^8.2.1"},"devDependencies":{"assert":"^2.0.0","buffer":"^6.0.3","clean-webpack-plugin":"^4.0.0-alpha.0","copy-webpack-plugin":"^9.0.1","css-loader":"^5.2.6","cssnano":"^5.0.5","file-loader":"^6.2.0","https-browserify":"^1.0.0","mini-css-extract-plugin":"^1.6.0","node-sass":"^6.0.0","os":"^0.1.1","postcss-loader":"^5.3.0","react-dom":"^17.0.2","react-scripts":"4.0.1","sass-loader":"^12.0.0","stream":"0.0.2","stream-http":"^3.2.0","svg-inline-loader":"^0.8.2","ts-loader":"^9.2.3","typescript":"^4.3.4","url":"^0.11.0","url-loader":"^4.1.1","web3":"^1.3.6"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},21:function(e,t,n){e.exports={list:"Pairs_list__2qnYy",content:"Pairs_content__1VyBy","title-bar":"Pairs_title-bar__3Muwe",header:"Pairs_header__1Y_yx",group:"Pairs_group__G0L2p",title:"Pairs_title__36TFQ",data:"Pairs_data__Q5LHX","button-icon":"Pairs_button-icon__3j-Ak",name:"Pairs_name__1M4DP",tile:"Pairs_tile__1joPZ",pair:"Pairs_pair__3cBC4",icon:"Pairs_icon__10gyi",icons:"Pairs_icons__2-mWZ"}},214:function(e,t,n){},22:function(e,t,n){e.exports={"import-token":"ImportTokenPannel_import-token__2EsQA",main:"ImportTokenPannel_main__3J_5V",header:"ImportTokenPannel_header__CjLj3",placeholder:"ImportTokenPannel_placeholder__lxFgY","button-icon":"ImportTokenPannel_button-icon__3iU7Q","approve-button-container":"ImportTokenPannel_approve-button-container__3uSGS",button:"ImportTokenPannel_button__1Q8cQ",group:"ImportTokenPannel_group__38en3",name:"ImportTokenPannel_name__1JWkA",icon:"ImportTokenPannel_icon__3Rj0X",content:"ImportTokenPannel_content__3yljF",sub:"ImportTokenPannel_sub__24dw2",detail:"ImportTokenPannel_detail__2RC_c",data:"ImportTokenPannel_data__3_w8O",title:"ImportTokenPannel_title__2ENQj",amount:"ImportTokenPannel_amount__6IMEJ"}},227:function(e,t){},229:function(e,t){},238:function(e,t){},249:function(e,t){},251:function(e,t){},287:function(e,t){},289:function(e,t){},290:function(e,t){},295:function(e,t){},297:function(e,t){},31:function(e,t,n){e.exports={overview:"Overview_overview__US_oz",chart:"Overview_chart__2Ycxr",header:"Overview_header__2aAYF",summary:"Overview_summary__2O2BW",group:"Overview_group__3aiWb",data:"Overview_data__3o1Ff",change:"Overview_change__1vPud",increase:"Overview_increase__2-amt",decrease:"Overview_decrease__36lN8"}},316:function(e,t){},32:function(e,t,n){e.exports={list:"Pairs_list__1UtYK",content:"Pairs_content__XHW41",title:"Pairs_title__3UB8T",name:"Pairs_name__38nsk",tile:"Pairs_tile__2MYUT",pair:"Pairs_pair__3Y185","icon-switch":"Pairs_icon-switch__1DwK_",icon:"Pairs_icon__15XCr"}},328:function(e,t){},33:function(e,t,n){e.exports={input:"Input_input__2swPp",label:"Input_label__3uKZ0",detail:"Input_detail__2VQ0x","input-controller":"Input_input-controller__scu78","input-hint":"Input_input-hint__yVEJ-",show:"Input_show__2WQWC",message:"Input_message__374uh",invalid:"Input_invalid__m8mGZ"}},331:function(e,t){},36:function(e,t,n){e.exports={pannel:"FilterList_pannel__27Tam",input:"FilterList_input__2EVl1",select:"FilterList_select__3knbB",content:"FilterList_content__1pHxq",container:"FilterList_container__2K8AM",page:"FilterList_page__2mpCe","search-bar":"FilterList_search-bar__2GKp7",header:"FilterList_header__K5jQj","hint-container":"FilterList_hint-container__1NzUD",hint:"FilterList_hint__1zqxb"}},367:function(e,t,n){"use strict";n.r(t);var a,c,r=n(35),o=n.n(r),s=n(96),i=(n(214),n(3)),l=n.n(i),u=n(11),d=n(2),p=n.n(d),h=n(4),b=n(54),v=n(5),j=n(45),m=n(46),f=n(49),x=n.n(f),O=function(){function e(){Object(j.a)(this,e)}return Object(m.a)(e,null,[{key:"isNumber",value:function(e){return/^(([1-9]\d*)|([0]{1}))(\.\d+)?$/.test(e)}},{key:"isHex",value:function(e){return/^(0x)?[a-fA-F0-9]*$/.test(e)}},{key:"toBn",value:function(t){return"string"===typeof t&&!e.isNumber(t)&&e.isHex(t)?new x.a(t,16):new x.a(t)}},{key:"toSmallestUnitHex",value:function(e,t){return new x.a(e).multipliedBy(new x.a(10).pow(t)).toString(16)}},{key:"plus",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.plus(c).toFixed()}},{key:"minus",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.minus(c).toFixed()}},{key:"mult",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.multipliedBy(c).toFixed()}},{key:"div",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.dividedBy(c).toFixed()}},{key:"mod",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.mod(c).toFixed()}},{key:"eq",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.eq(c)}},{key:"gt",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.gt(c)}},{key:"gte",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.gte(c)}},{key:"lt",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.lt(c)}},{key:"lte",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.lte(c)}},{key:"toCurrencyUint",value:function(t,n){var a=e.toBn(t),c=e.toBn(10).exponentiatedBy(n);return a.dividedBy(c).toFixed()}},{key:"gweiToEth",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.dividedBy(a).toFixed()}},{key:"weiToGwei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.dividedBy(a).toFixed()}},{key:"toSmallestUnit",value:function(t,n){var a=e.toBn(t),c=e.toBn(10).exponentiatedBy(n);return a.multipliedBy(c).toFixed()}},{key:"ethToGwei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.multipliedBy(a).toFixed()}},{key:"gweiToWei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.multipliedBy(a).toFixed()}},{key:"compressedPubKeyCheck",value:function(t,n){var a=e.toBn("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c=e.toBn(t),r=e.toBn(n);return c.pow(new x.a(3)).plus(new x.a(7)).minus(r.pow(new x.a(2))).mod(a).isZero()}},{key:"toHex",value:function(t){return e.toBn(t).toString(16)}}]),e}(),k=O,_=l.a.createContext({initial:!1,totalBalance:0,totalReward:0,fiat:{dollarSign:"$",symbol:"USD",exchangeRate:"1"},tvlChartData:[],volumeChartData:[],connectOptions:[],connectedAccount:null,routerContract:null,isLoading:!0,error:null,isConnected:!1,currentNetwork:null,supportedNetworks:[],supportedPools:[],supportedTokens:[],histories:[],overview:[],nativeCurrency:null,isInit:function(){},onDisconnect:function(){console.log("onDisconnect")},onConnect:function(e){console.log("onConnect",e)},getTokenAAmount:function(e,t,n){},getTokenBmount:function(e,t,n){},getAssetBalanceOf:function(){var e=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getPoolBalanceOf:function(){var e=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),switchNetwork:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getContractDataLength:function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getContractData:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSelectedPool:function(){var e=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),searchToken:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchPool:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.index,t.poolContract,t.token0Contract,t.token1Contract;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),isAllowanceEnough:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),approve:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),createPair:function(){var e=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),addLiquidityETH:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),provideLiquidity:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),getAmountsIn:function(){var e=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getAmountsOut:function(){var e=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),swap:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),swapExactTokensForETH:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),swapExactETHForTokens:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),takeLiquidity:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),removeLiquidityETH:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a,c,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r){return e.apply(this,arguments)}}(),getPriceData:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),g=_,y=l.a.createContext({isLoading:!1,totalBalance:0,reward:0,fiat:{dollarSign:"$",symbol:"USD",exchangeRate:"1"},invests:[],assets:[],histories:[],updateFiat:function(e){},updateAssets:function(e){},updateHistories:function(e){},updateInvests:function(e){}}),C=y,w="0xDDBCB302A16f27D12Ef1cA491b4791a7b3d67c04",N="All",S="Swaps",T="Adds",P="Removes",A=n(7),L=n.p+"static/media/erc20.49e225fa.png",B=n(23),I=n.n(B),E=function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=k.isHex(t)?t:"0x".concat(I()(t).toString("hex").slice(0,8)),e.prev=1,e.next=4,window.ethereum.request({id:q(1),jsonrpc:"2.0",method:"eth_call",params:[{from:"0x0000000000000000000000000000000000000000",data:"".concat(n?c+n:c),to:a},"latest"]});case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(1),console.trace("eth_call error",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),D=function(){for(var e=[],t=18e5,n=(new Date).valueOf()-108e6,a=0;a<60;a++){var c=1*Math.random()>.5,r=0===a?"".concat((1e4*Math.random()).toFixed(2)):e[a-1].y[3],o=c?k.plus(r,"".concat((2e3*Math.random()).toFixed(2))):k.minus(r,"".concat((2e3*Math.random()).toFixed(2))),s=k.plus(c?r:o,"".concat((3e3*Math.random()).toFixed(2))),i=k.minus(c?o:r,"".concat((3e3*Math.random()).toFixed(2)));e.push({x:new Date(n+a*t),y:[r,s,i,o]})}return e},H=function(e){return{series:[{data:e||[]}],options:{chart:{type:"candlestick",height:350,toolbar:{show:!1}},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}}}},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;if(e.length<=2*t)return e;var n=e.slice(0,t),a=e.slice(e.length-t,e.length);return n+"..."+a},U=function(e){var t=(k.gte(e,1e21)?k.div(e,1e21):k.gte(e,1e18)?k.div(e,1e18):k.gte(e,1e15)?k.div(e,1e15):k.gte(e,1e12)?k.div(e,1e12):k.gte(e,1e9)?k.div(e,1e9):k.gte(e,1e6)?k.div(e,1e6):k.gte(e,1e3)?k.div(e,1e3):e).split(".");return k.gte(e,1e18)?"".concat(t[0],".").concat(t[1]?t[1].substring(0,3):"00","st"):k.gte(e,1e18)?"".concat(t[0],".").concat(t[1]?t[1].substring(0,3):"00","qt"):k.gte(e,1e15)?"".concat(t[0],".").concat(t[1]?t[1].substring(0,3):"00","qd"):k.gte(e,1e12)?"".concat(t[0],".").concat(t[1]?t[1].substring(0,3):"00","t"):k.gte(e,1e9)?"".concat(t[0],".").concat(t[1]?t[1].substring(0,3):"00","b"):k.gte(e,1e6)?"".concat(t[0],".").concat(t[1]?t[1].substring(0,3):"00","m"):k.gte(e,1e3)?"".concat(t[0],".").concat(t[1]?t[1].substring(0,3):"00","k"):"".concat(t[0],".").concat(t[1]?t[1].substring(0,3):"00")},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;if(!e)return"";var n=e.split(".");return k.gte(n[0].length,t)?U(e):n.length>1?(e.length>t&&(n[1]=n[1].substring(0,t-n[0].length)),n[1].length>0?"".concat(n[0],".").concat(n[1]):n[0]):e},q=function(e){var t="",n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for((e=parseInt(e))>0||(e=8);t.length<e;)t=t.concat(n.charAt(parseInt(Math.random()*n.length)));return t},M=function(e,t){return+e>+t?+t:e},K=function(e,t,n,a){var c;c=t&&e.symbol===t.symbol?n.find((function(t){return t.symbol!==e.symbol})):t;var r=M(a,null===e||void 0===e?void 0:e.balanceOf);return{active:e,passive:c,activeAmount:r}},V=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],W=function(e){return e<10?"0"+e:e},X=function(e){var t=new Date(e),n=t.getDate(),a=t.getMonth(),c=t.getFullYear(),r=t.getHours(),o=t.getMinutes(),s="AM";return r-12>0&&(r-=12,s="PM"),{text:V[a]+" "+W(n)+", "+c+" "+r+":"+W(o)+" "+s,date:V[a]+" "+W(n)+", "+c,time:r+":"+W(o)+" "+s,month:V[a],day:W(n),year:c}},J=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=e.toString().replace("0x",""),a=[],c=0;c<n.length;c+=t){var r=n.slice(c,c+t);a.push(r)}return a},z=function(e){for(var t=e.toString().replace("0x",""),n="",a=0;a<t.length;a+=2){if("00"!==t.substr(a,2))n+=String.fromCharCode(parseInt(t.substr(a,2),16))}return n},G=n(1),Y=(q(6),q(6),n(39)),Q=n.n(Y),Z=n(199),$=n.n(Z),ee=function(e){return Object(G.jsxs)("div",{className:$.a["lds-spinner"],children:[Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{})]})},te=function(){var e,t,n=Object(i.useContext)(C),a=Object(i.useContext)(g);return Object(G.jsxs)("div",{className:Q.a.asset,children:[Object(G.jsx)("div",{className:Q.a.title,children:"Connected Account"}),Object(G.jsxs)("div",{className:Q.a.content,children:[a.connectedAccount&&Object(G.jsx)("div",{className:Q.a.paragraph,children:R(null===(e=a.connectedAccount)||void 0===e?void 0:e.contract,10)}),Object(G.jsxs)("div",{className:Q.a.icon,children:[Object(G.jsx)("div",{}),Object(G.jsx)("div",{})]})]}),n.isLoading?Object(G.jsx)(ee,{}):Object(G.jsxs)("div",{className:Q.a.content,children:[Object(G.jsx)("div",{className:Q.a.header1,children:"".concat(n.fiat.dollarSign," ").concat(F(k.mult(n.totalBalance,n.fiat.exchangeRate),6))}),Object(G.jsx)("div",{className:Q.a.header2,children:"".concat(F((null===(t=a.connectedAccount)||void 0===t?void 0:t.balanceOf)||"0",4)||"--"," ").concat(a.currentNetwork.nativeCurrency.symbol)})]})]})},ne=n(200),ae=n.n(ne),ce=function(e){return Object(G.jsx)(l.a.Fragment,{children:o.a.createPortal(Object(G.jsx)("div",{className:ae.a.backdrop,onClick:e.onCancel}),document.getElementById("backdrop-root"))})},re=n(201),oe=n.n(re),se=function(e){return Object(G.jsx)("div",{className:"".concat(oe.a.card," ").concat(e.className),children:e.children})},ie=n(50),le=n.n(ie),ue=function(e){return Object(G.jsxs)(se,{className:e.expand?le.a.modal+" "+le.a.expand:le.a.modal,children:[Object(G.jsxs)("header",{className:le.a.header,children:[Object(G.jsx)("div",{className:le.a.title,children:e.title}),Object(G.jsx)("div",{className:le.a.cancel,onClick:e.onCancel,children:"\u2715"})]}),Object(G.jsx)("div",{className:le.a.content,children:e.children})]})},de=function(e){return Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsx)(ce,{onCancel:e.onCancel}),o.a.createPortal(Object(G.jsx)(ue,{title:e.title,onCancel:e.onCancel,expand:e.expand,children:e.children}),document.getElementById("overlay-root"))]})},pe=n(97),he=n.n(pe),be=function(e){return Object(G.jsxs)("div",{className:e.className,children:[!!e.title&&Object(G.jsx)("div",{className:he.a.title,children:e.title}),Object(G.jsx)("ul",{className:"".concat(he.a.list," "),children:e.data.map((function(t,n){return Object(G.jsx)("li",{onClick:function(){e.onClick&&e.onClick(t)},children:e.children(Object(A.a)(Object(A.a)({},t),{},{index:n}))},t.id||q(6))}))}),e.isLoading&&Object(G.jsx)("div",{className:he.a.loading,children:Object(G.jsx)(ee,{})})]})},ve=n(40),je=n.n(ve),me=function(e){return Object(G.jsx)("div",{className:je.a.option,children:e.chainName})},fe=function(e){var t=Object(i.useContext)(g),n=Object(i.useState)(!1),a=Object(v.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)(!1),s=Object(v.a)(o,2),u=s[0],d=s[1],b=function(){var e=Object(h.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("changeNetworkHandler selected",n),d(!1),e.prev=2,e.next=5,t.switchNetwork(n);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:r(!1);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(G.jsxs)(l.a.Fragment,{children:[u&&Object(G.jsx)(de,{title:"Network Options",onCancel:function(){return d(!1)},children:Object(G.jsx)(be,{data:t.supportedNetworks,onClick:b,children:me})}),Object(G.jsxs)("div",{className:"".concat(je.a.network," ").concat(e.shrink?je.a.shrink:""),onClick:function(){c||(r(!0),d(!0))},children:[Object(G.jsxs)("div",{className:je.a.content,children:[Object(G.jsx)("div",{className:je.a.title,children:"Network"}),Object(G.jsx)("div",{className:je.a.header1,children:t.currentNetwork.chainName}),Object(G.jsx)("div",{className:je.a.paragraph,children:"Last Block: 13547750"})]}),Object(G.jsx)("div",{className:je.a.icon,children:Object(G.jsx)("img",{src:"https://www.tidebit.one/icons/eth.png",alt:t.currentNetwork.chainName})})]})]})},xe=n(32),Oe=n.n(xe),ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=k.div("1",e.poolBalanceOfToken0),a=1-t,c=k.mult(k.div(k.mult(n,a),k.plus(1,k.mult(n,a))),e.poolBalanceOfToken1);return c},_e=function(e){return Object(G.jsxs)("div",{className:Oe.a.tile,onClick:function(){return e.onSelect()},children:[Object(G.jsxs)("div",{className:Oe.a.name,children:["1 ".concat(e.pool.token0.symbol)," \u2248"," ".concat(F(ke(e.pool),18)," ").concat(e.pool.token1.symbol)]}),Object(G.jsxs)("div",{className:Oe.a.pair,children:[Object(G.jsx)("div",{className:Oe.a.icon,children:Object(G.jsx)("img",{src:e.pool.token0.iconSrc,alt:e.pool.token0.symbol})}),Object(G.jsx)("div",{className:Oe.a["icon-switch"],children:"\u21c4"}),Object(G.jsx)("div",{className:Oe.a.icon,children:Object(G.jsx)("img",{src:e.pool.token1.iconSrc,alt:e.pool.token1.symbol})})]})]})},ge=function(e){var t=Object(i.useContext)(g);return Object(G.jsxs)("div",{className:Oe.a.list,children:[Object(G.jsx)("div",{className:Oe.a.title,children:"Swap"}),Object(G.jsxs)("div",{className:Oe.a.content,children:[!t.supportedPools.length&&!t.isLoading&&Object(G.jsx)("div",{className:Oe.a.hint,children:"No Pair found."}),!!t.supportedPools.length&&t.supportedPools.map((function(t){return Object(G.jsx)(_e,{pool:t,onSelect:function(){return e.onSelect(t)}},"".concat(t.poolContract,"-").concat(q(6)))})),t.isLoading&&Object(G.jsx)(ee,{})]})]})},ye=n(56),Ce=n.n(ye),we=n(68),Ne=n.n(we),Se=function(e,t){return Object(G.jsxs)("div",{value:e.name,className:"".concat(Ne.a.option," ").concat(t?Ne.a.shrink:""),onClick:e.onSelect,children:[Object(G.jsx)("div",{className:Ne.a.icon,children:Object(G.jsx)("img",{src:e.iconSrc,alt:e.name})}),Object(G.jsx)("div",{className:Ne.a.symbol,children:e.symbol}),Object(G.jsx)("div",{className:Ne.a.name,children:e.name})]})},Te=n(77),Pe=n.n(Te),Ae=function(e){return Object(G.jsxs)("div",{className:Pe.a.input,children:[Object(G.jsxs)("div",{className:Pe.a["search-icon"],children:[Object(G.jsx)("div",{className:Pe.a["search-icon__circle"]}),Object(G.jsx)("div",{className:Pe.a["search-icon__rectangle"]})]}),Object(G.jsx)("input",{id:q(6),type:"text",placeholder:e.placeholder,ref:e.inputRef,value:e.value,onChange:e.onChange})]})},Le=n(78),Be=n.n(Le),Ie=n(98),Ee=n.n(Ie),De=function(e){return Object(G.jsxs)("div",{className:Ee.a["lds-spinner"],children:[Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{}),Object(G.jsx)("div",{})]})},He=function(e){return Object(G.jsx)("button",{className:"".concat(Ee.a.button," ").concat(e.loading?Ee.a.loading:""),type:e.type||"button",onClick:e.onClick,disabled:e.disabled,children:!0===e.loading?Object(G.jsx)(De,{}):e.children})},Re=n(51),Ue=n.n(Re),Fe=function(e){var t=q(6),n=Object(i.useState)(!1),a=Object(v.a)(n,2),c=a[0],r=a[1];return Object(G.jsxs)("div",{className:Ue.a.dropdown+" dropdown",children:[Object(G.jsx)("div",{className:Ue.a.label,children:e.label}),Object(G.jsx)("input",{className:Ue.a.controller,type:"checkbox",id:t,checked:c,readOnly:!0}),Object(G.jsxs)("label",{className:Ue.a.button,htmlFor:t,onClick:function(){r((function(e){return!e}))},children:[e.selected&&e.children(e.selected),!e.selected&&Object(G.jsx)("div",{className:Ue.a.placeholder,children:e.placeholder}),!!e.options&&Object(G.jsx)("div",{className:Ue.a.icon,children:"\u276f"})]}),!!e.options&&Object(G.jsx)(se,{className:Ue.a.options,children:Object(G.jsx)(be,{data:e.options,onClick:function(t){r(!1),e.onSelect(t)},children:e.children})})]})},qe=n(79),Me=n.n(qe),Ke=function(e){var t=q(6);return Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsx)("input",{className:Me.a.controller,type:e.type||"radio",name:e.name,id:t,checked:e.checked,onChange:e.onChange}),Object(G.jsxs)("label",{className:Me.a.tab,htmlFor:t,onClick:e.onSelect,children:[Object(G.jsx)("div",{className:Me.a.icon}),Object(G.jsx)("div",{className:Me.a.value,children:e.value})]})]})},Ve=function(e){return Object(G.jsx)("div",{className:Be.a.option,children:e})},We=function(e){var t,n,a=Object(i.useState)(!1),c=Object(v.a)(a,2),r=c[0],o=c[1];return Object(G.jsxs)(l.a.Fragment,{children:[r&&Object(G.jsx)(de,{title:"Search Condition",onCancel:function(){o(!1)},expand:!0,children:Object(G.jsxs)("div",{className:Be.a.content,children:[!!(null===(t=Object.keys(e.filterConditions))||void 0===t?void 0:t.length)&&Object(G.jsx)(Fe,{label:"Pools",options:Object.keys(e.filterConditions),selected:e.selectedFilter,onSelect:e.onSelectFilter,placeholder:"Select Filter",children:function(t){return Ve(e.filterConditions[t])}}),!!(null===(n=Object.keys(e.sortingConditions))||void 0===n?void 0:n.length)&&Object(G.jsx)(Fe,{label:"Sort by",options:Object.keys(e.sortingConditions),selected:e.selectedSorting,onSelect:e.onSelectSorting,placeholder:"Select Sort",children:function(t){return Ve(e.sortingConditions[t])}}),Object(G.jsx)(Ke,{type:"checkbox",name:"filter-checkbox",checked:e.matchMyAssets,onChange:function(t){e.onMatch(t.target.checked)},value:"Match My Available Assets"}),Object(G.jsxs)("div",{className:Be.a.button,children:[Object(G.jsx)(He,{type:"button",onClick:e.onReset,children:"Reset"}),Object(G.jsx)(He,{type:"button",onClick:function(){e.onSearch(),o(!1)},children:"Search"})]})]})}),Object(G.jsx)("div",{className:Be.a.filter,onClick:function(){o(!0)},children:"\u21cc"})]})},Xe=n(36),Je=n.n(Xe),ze=function(e){var t=Object(i.useState)(""),n=Object(v.a)(t,2),a=n[0],c=n[1],r=Object(i.useState)(e.data),o=Object(v.a)(r,2),s=o[0],l=o[1];Object(i.useEffect)((function(){return l(e.data),function(){}}),[e.data]);var u=Object(i.useRef)(),d=function(){var t=Object(h.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c(n.target.value.replace(/[^0-9A-Za-z]/gi,"")),!/^0x[a-fA-F0-9]{40}$/.test(n.target.value)){t.next=9;break}return t.next=4,e.onSearch(n.target.value);case 4:a=t.sent,console.log("searchToken",a),a&&l([a]),t.next=10;break;case 9:l(e.data.filter((function(t){return!u.current||t[e.filterProperty].toLowerCase().includes(u.current.value.toLowerCase())})));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(G.jsxs)("div",{className:"".concat(Je.a.pannel," ").concat(Je.a[e.className]),children:[Object(G.jsxs)("div",{className:Je.a["search-bar"],children:[Object(G.jsx)(Ae,{inputRef:u,value:a,onChange:d,placeholder:"Search"}),e.displayFilterButton&&Object(G.jsx)(We,{filterConditions:e.filterConditions,selectedFilter:e.selectedFilterConditions,onSelectFilter:e.handleFilterConditionsChange,sortingConditions:e.sortingConditions,selectedSorting:e.selectedSortCondition,onSelectSorting:e.handleSortConditionChange,onReset:e.resetHandler,matchMyAssets:e.matchMyAssets,onMatch:e.handleMatchMyAssets,onSearch:function(){}})]}),e.header&&Object(G.jsx)("div",{className:Je.a.header,children:e.header}),!(null===s||void 0===s?void 0:s.length)&&!!e.hint&&Object(G.jsx)("div",{className:Je.a["hint-container"],children:Object(G.jsx)("div",{className:Je.a.hint,children:e.hint})}),Object(G.jsxs)("div",{className:Je.a.container,children:[e.titleBar&&e.titleBar(),Object(G.jsx)("div",{className:Je.a.content,children:!!(null===s||void 0===s?void 0:s.length)&&Object(G.jsx)(be,{className:Je.a.select,data:s,onClick:e.onSelect,isLoading:e.isLoading,children:function(t){return e.children(t,!!e.isShrink)}})})]})]})},Ge=n(57),Ye=n.n(Ge),Qe=l.a.forwardRef((function(e,t){var n=Object(i.useContext)(g),a=Object(i.useState)(!1),c=Object(v.a)(a,2),r=c[0],o=c[1],s=function(){var e=Object(h.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchToken(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.useImperativeHandle)(t,(function(){return{openDialog:function(){return o(!0)},closeDialog:function(){return o(!1)}}})),Object(G.jsxs)(l.a.Fragment,{children:[r&&Object(G.jsx)(de,{title:"Select Coin",onCancel:function(){return o(!1)},children:Object(G.jsx)(ze,{onSelect:function(t){e.onSelect(t),o(!1)},onSearch:s,data:e.options,filterProperty:"symbol",children:function(e){return Se(e)}})}),Object(G.jsxs)("div",{className:"".concat(Ye.a.option," ").concat(e.className?Ye.a[e.className]:""),children:[Object(G.jsx)("div",{className:Ye.a.title,children:"Coin"}),Object(G.jsxs)("div",{className:Ye.a.button,onClick:function(){return o(!0)},children:[e.selectedCoin&&Se(e.selectedCoin,e.isShrink),!e.selectedCoin&&Object(G.jsx)("div",{className:Ye.a.placeholder,children:"Select Coin"}),Object(G.jsx)("div",{className:Ye.a.icon,children:"\u276f"})]})]})]})})),Ze=Qe,$e=n(37),et=n.n($e),tt=function(e){var t,n,a,c,r=Object(i.useRef)(),o=e.removeDetail||!(e.readOnly&&+e.value>+(null===(t=e.selected)||void 0===t?void 0:t.balanceOf))?"":"Insufficient amount";return Object(G.jsxs)("div",{className:et.a["coin-input"],children:[Object(G.jsxs)("div",{className:et.a.container,children:[Object(G.jsx)(Ze,{className:"coin-input",ref:r,options:e.options,selectedCoin:e.selected,onSelect:e.onSelect,isShrink:!0}),Object(G.jsx)("div",{className:et.a["input-controller"],children:Object(G.jsx)("input",{id:q(6),type:"number",value:e.value,onInput:function(t){console.log("onIput",t.target.value);var n=+t.target.value<0?"0":t.target.value;e.onChange(+n)},readOnly:!!e.readOnly,placeholder:"0.0"})})]}),Object(G.jsxs)("div",{className:et.a.detail,children:[Object(G.jsx)("div",{children:"Balance:"}),Object(G.jsx)("div",{className:et.a["input-maximum"],children:F("".concat((null===(n=e.selected)||void 0===n?void 0:n.balanceOf)||0),14)}),Object(G.jsx)("div",{className:et.a.symbol,children:(null===(a=e.selected)||void 0===a?void 0:a.symbol)||""}),Object(G.jsx)("div",{className:et.a["input-hint"]+(""!==e.value&&e.selected&&k.gt(e.value,null===(c=e.selected)||void 0===c?void 0:c.balanceOf)?" "+et.a.show:""),children:"(MAX)"})]}),Object(G.jsx)("div",{className:et.a.message,children:Object(G.jsx)("div",{children:o})})]})},nt=n(52),at=n.n(nt),ct=function(e){var t;return Object(G.jsxs)("div",{className:at.a.summary,children:[e.title&&Object(G.jsx)("div",{className:at.a.title,children:e.title}),null===(t=e.data)||void 0===t?void 0:t.map((function(e){return Object(G.jsxs)("div",{className:at.a.detail,children:[!!e.explain&&Object(G.jsxs)("div",{className:at.a.tooltip,children:[Object(G.jsx)("div",{children:e.title}),Object(G.jsx)("div",{className:at.a.tooltiptext,children:e.explain})]}),!e.explain&&Object(G.jsx)("div",{className:at.a["detail-title"],children:e.title}),Object(G.jsx)("div",{className:at.a["detail-value"],children:e.value})]},q(6))}))]})},rt=n(80),ot=n.n(rt),st=n(47),it=n.n(st),lt=function(e){var t,n,a,c,r=Object(i.useContext)(g);return console.log("connectorCtx.supportedTokens",r.supportedTokens),Object(G.jsxs)(l.a.Fragment,{children:[(null===e||void 0===e||null===(t=e.selectedCoin)||void 0===t?void 0:t.contract)&&Object(G.jsx)(it.a,{options:e.data.options,series:e.data.series,type:"candlestick",height:350}),Object(G.jsxs)("div",{className:ot.a.swap,children:[Object(G.jsxs)("main",{className:ot.a.main,children:[Object(G.jsx)(tt,{selected:e.selectedCoin,value:e.selectedCoinAmount,onSelect:function(t){return e.coinUpdateHandler(t,"selected")},onChange:function(t){return e.amountUpdateHandler(t,"selected")},options:r.supportedTokens}),Object(G.jsx)("div",{className:"icon",children:Object(G.jsx)("div",{children:"\u21c5"})}),Object(G.jsx)(tt,{selected:e.pairedCoin,value:e.pairedCoinAmount,onSelect:function(t){return e.coinUpdateHandler(t,"paired")},onChange:function(t){return e.amountUpdateHandler(t,"paired")},options:r.supportedTokens}),Object(G.jsxs)("div",{className:ot.a.button,children:[Object(G.jsx)("div",{className:ot.a["approve-button-container"],children:e.displayApproveSelectedCoin&&Object(G.jsxs)(He,{type:"button",onClick:e.approveHandler,children:["Approve ",null===(n=e.selectedCoin)||void 0===n?void 0:n.symbol]})}),Object(G.jsx)(He,{type:"submit",disabled:e.isLoading||!e.selectedPool||!e.isApprove,children:e.isLoading?"Loading...":!e.selectedPool&&e.selectedCoin&&e.pairedCoin?"Insufficient liquidity for this trade.":k.gt(e.selectedCoinAmount,(null===(a=e.selectedCoin)||void 0===a?void 0:a.balanceOf)||"0")?"Insufficient ".concat((null===(c=e.selectedCoin)||void 0===c?void 0:c.symbol)||""," balance"):"Swap"})]})]}),Object(G.jsx)("div",{className:"sub",children:Object(G.jsx)(ct,{title:"Summary",data:e.details})})]})]})},ut=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=k.div(t,e.poolBalanceOfToken0),c=1-n,r=k.mult(k.div(k.mult(a,c),k.plus(1,k.mult(a,c))),e.poolBalanceOfToken1);return r},dt=function(e,t,n){var a,c,r,o;if(e&&(a=e.token0.contract.toLowerCase()===t.contract.toLowerCase()?ut(e,"1"):ut(Object(A.a)(Object(A.a)({},e),{},{poolBalanceOfToken0:e.poolBalanceOfToken1,poolBalanceOfToken1:e.poolBalanceOfToken0}),"1"),console.log("_price",a),(null===n||void 0===n?void 0:n.amount)&&(null===t||void 0===t?void 0:t.amount))){if(e.token0.contract.toLowerCase()===t.contract.toLowerCase())o=ut(e,t.amount),c=ut(Object(A.a)(Object(A.a)({},e),{},{poolBalanceOfToken0:k.plus(e.poolBalanceOfToken0,t.amount),poolBalanceOfToken1:k.minus(e.poolBalanceOfToken1,o)}),"1");else{var s=Object(A.a)(Object(A.a)({},e),{},{poolBalanceOfToken0:e.poolBalanceOfToken1,poolBalanceOfToken1:e.poolBalanceOfToken0});o=ut(s,t.amount),c=ut(Object(A.a)(Object(A.a)({},s),{},{poolBalanceOfToken0:k.plus(s.poolBalanceOfToken0,t.amount),poolBalanceOfToken1:k.minus(s.poolBalanceOfToken1,o)}),"1")}console.log("_updatePrice",c),r=k.mult(k.div(k.minus(c,a),a),"100"),console.log("_impact",r)}return[{title:"Price",value:"1 ".concat((null===t||void 0===t?void 0:t.symbol)||"--"," \u2248 ").concat(a?F(a,12):"--"," ").concat((null===n||void 0===n?void 0:n.symbol)||"--"),explain:"Estimated price of the swap, not the final price that the swap is executed."},{title:"Liquidity providers Fee",value:"--",explain:"Trade transaction fee collected by liquidity providers."},{title:"Price Impact",value:"".concat(r?F(r,6):"--"," %"),explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."},{title:"Allowed Slippage",value:"0.50%",explain:"The ultimate price and output is determined by the amount of tokens in the pool at the time of your swap."},{title:"Minimun Received",value:"".concat((null===n||void 0===n?void 0:n.amount)?F(k.mult(null===n||void 0===n?void 0:n.amount,.995),8):"--"," ").concat((null===n||void 0===n?void 0:n.symbol)||"--"),explain:"Trade transaction fee collected by liquidity providers."}]},pt=function(e){var t=Object(i.useContext)(g),n=Object(i.useState)(!1),a=Object(v.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)(!1),s=Object(v.a)(o,2),l=s[0],d=s[1],b=Object(i.useState)(!1),j=Object(v.a)(b,2),m=j[0],f=j[1],x=Object(u.f)(),O=Object(u.e)(),_=Object(i.useState)(H()),y=Object(v.a)(_,2),C=y[0],w=y[1],N=Object(i.useState)(null),S=Object(v.a)(N,2),T=S[0],P=S[1],L=Object(i.useState)(null),B=Object(v.a)(L,2),I=B[0],E=B[1],R=Object(i.useState)(""),U=Object(v.a)(R,2),F=U[0],q=U[1],V=Object(i.useState)(null),W=Object(v.a)(V,2),X=W[0],J=W[1],z=Object(i.useState)(""),Y=Object(v.a)(z,2),Q=Y[0],Z=Y[1],$=Object(i.useState)(dt()),ee=Object(v.a)($,2),ne=ee[0],ae=ee[1],ce=function(){var e=Object(h.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(I.contract);case 2:(n=e.sent)&&(d(n),f(!n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){return t.isConnected&&t.connectedAccount&&(!k.gt(null===I||void 0===I?void 0:I.contract,"0")&&k.gt(F,"0")&&k.gt(Q,"0")?(f(!1),d(!0),r(!1)):(null===I||void 0===I?void 0:I.balanceOf)&&k.gt(F,"0")&&k.gt(Q,"0")&&k.gt(I.balanceOf,F)&&(r(!0),t.isAllowanceEnough(I.contract,F,I.decimals).then((function(e){f(!e),d(e),r(!1)})))),function(){console.log("CLEANUP")}}),[t,I,F,Q]);var re=function(){var e=Object(h.a)(p.a.mark((function e(n,a,c,o,s){var i,l,u,d,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=c||T,d=o||I,h=s||X,r(!0),e.t0=a,e.next="selected"===e.t0?7:"paired"===e.t0?20:33;break;case 7:if(i=d?M(n,d.balanceOf):n,!u||!k.gt(i,"0")){e.next=14;break}return e.next=11,t.getAmountsOut(i,[d,h]);case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1="0";case 15:return l=e.t1,console.log("updatePairedAmount",l),Z(l),q(i),e.abrupt("break",34);case 20:if(l=h?M(n,h.balanceOf):n,!u||!k.gt(l,"0")){e.next=27;break}return e.next=24,t.getAmountsIn(l,[d,h]);case 24:e.t2=e.sent,e.next=28;break;case 27:e.t2="0";case 28:return i=e.t2,console.log("updateSelectedAmount",i),q(i),Z(l),e.abrupt("break",34);case 33:return e.abrupt("break",34);case 34:r(!1);case 35:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){if(x.pathname.includes("/swap/")&&!(!t.supportedTokens>0)){var e,n,a,c,r=x.pathname.replace("/swap/","").split("/");if(console.log(r),r.length>0)(null===(e=r[0])||void 0===e?void 0:e.toLowerCase())!==(null===I||void 0===I||null===(n=I.contract)||void 0===n?void 0:n.toLowerCase())&&(E(t.supportedTokens.find((function(e){return e.contract.toLowerCase()===r[0].toLowerCase()}))),w(H(D()))),r[1]&&(null===(a=r[1])||void 0===a?void 0:a.toLowerCase())!==(null===X||void 0===X||null===(c=X.contract)||void 0===c?void 0:c.toLowerCase())&&J(t.supportedTokens.find((function(e){return e.contract.toLowerCase()===r[1].toLowerCase()})));return function(){}}}),[t.supportedTokens,x.pathname,null===X||void 0===X?void 0:X.contract,null===I||void 0===I?void 0:I.contract]);var oe=function(){var e=Object(h.a)(p.a.mark((function e(n,a){var c,o,s,i,l,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a,e.next="selected"===e.t0?3:"paired"===e.t0?9:11;break;case 3:return o=K(n,X,t.supportedTokens),s=(l=o).active,i=l.passive,w(H(D())),e.abrupt("break",12);case 9:return I?(o=K(I,n,t.supportedTokens),s=(u=o).active,i=u.passive):(s=t.supportedTokens.find((function(e){return n.contract.toLowerCase()===t.nativeCurrency.contract.toLowerCase()?e.contract.toLowerCase()!==t.nativeCurrency.contract.toLowerCase():e.contract.toLowerCase()===t.nativeCurrency.contract.toLowerCase()})),i=n),e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:if(E(s),J(i),O.push({pathname:"/swap/".concat(s.contract,"/").concat((null===(c=i)||void 0===c?void 0:c.contract)?i.contract:"")}),!s||!i){e.next=34;break}return r(!0),e.next=19,t.searchPool({token0Contract:s.contract,token1Contract:i.contract});case 19:d=e.sent,P(d),d&&O.push({pathname:"/swap/".concat(s.contract,"/").concat(i.contract)}),e.t1=a,e.next="selected"===e.t1?25:"paired"===e.t1?27:29;break;case 25:return d?re(F,a,d,s,i):Z("0"),e.abrupt("break",30);case 27:return d?re(Q,a,d,s,i):E("0"),e.abrupt("break",30);case 29:return e.abrupt("break",30);case 30:r(!1),console.log("pool",d),e.next=36;break;case 34:P(null),r(!1);case 36:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),se=function(){var e=Object(h.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!l){e.next=28;break}if(d(!1),e.prev=3,k.gt(I.contract,0)){e.next=10;break}return e.next=7,t.swapExactETHForTokens(F,Q,[X]);case 7:e.t0=e.sent,e.next=20;break;case 10:if(k.gt(X.contract,0)){e.next=16;break}return e.next=13,t.swapExactTokensForETH(F,Q,[I]);case 13:e.t1=e.sent,e.next=19;break;case 16:return e.next=18,t.swap(F,Q,[I,X]);case 18:e.t1=e.sent;case 19:e.t0=e.t1;case 20:a=e.t0,console.log("result",a),O.push({pathname:"/assets/"}),e.next=27;break;case 25:e.prev=25,e.t2=e.catch(3);case 27:d(!0);case 28:case"end":return e.stop()}}),e,null,[[3,25]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){T&&I&&X&&+F>0&&+Q>0&&ae(dt(T,Object(A.a)(Object(A.a)({},I),{},{amount:F}),Object(A.a)(Object(A.a)({},X),{},{amount:Q})))}),[X,Q,I,F,T]),Object(G.jsxs)("form",{className:Ce.a.swap,onSubmit:se,children:[Object(G.jsx)("div",{className:Ce.a.header,children:"Swap"}),Object(G.jsxs)("div",{className:Ce.a.container,children:[Object(G.jsx)("div",{className:Ce.a.main,children:Object(G.jsx)(lt,{data:C,selectedPool:T,selectedCoin:I,selectedCoinAmount:F,pairedCoin:X,pairedCoinAmount:Q,coinUpdateHandler:oe,amountUpdateHandler:re,approveHandler:ce,isApprove:l,displayApproveSelectedCoin:m,details:ne,isLoading:c})}),Object(G.jsxs)("div",{className:Ce.a.sub,children:[Object(G.jsxs)("div",{className:Ce.a.details,children:[Object(G.jsx)(te,{}),Object(G.jsx)(fe,{})]}),Object(G.jsx)(ge,{onSelect:function(e){var n=t.supportedTokens.find((function(t){return t.contract.toLowerCase()===e.token0.contract.toLowerCase()})),a=t.supportedTokens.find((function(t){return t.contract.toLowerCase()===e.token1.contract.toLowerCase()}));P(e),E(n),J(a),w(H(D())),O.push({pathname:"/swap/".concat(n.contract,"/").concat(a.contract)}),re(F,"selected",e,n,a)}})]})]})]})},ht=n(6),bt=n.n(ht),vt=function(e){return Object(G.jsxs)("div",{className:"".concat(bt.a["title-bar"]," ").concat(bt.a.token),children:[Object(G.jsx)("div",{className:bt.a.leading,children:"#"}),Object(G.jsxs)("div",{className:bt.a["title-box"],children:[Object(G.jsx)("div",{className:bt.a.title,children:"Name"}),Object(G.jsx)("div",{className:bt.a.icon})]}),Object(G.jsxs)("div",{className:bt.a["title-box"],children:[Object(G.jsx)("div",{className:bt.a.title,children:"Price"}),Object(G.jsx)("div",{className:bt.a.icon})]}),Object(G.jsxs)("div",{className:bt.a["title-box"],children:[Object(G.jsx)("div",{className:bt.a.title,children:"Price change 24H"}),Object(G.jsx)("div",{className:bt.a.icon})]}),Object(G.jsxs)("div",{className:bt.a["title-box"],children:[Object(G.jsx)("div",{className:bt.a.title,children:"Trading Volume 24H"}),Object(G.jsx)("div",{className:bt.a.icon})]})]})},jt=function(e){var t=Object(u.e)();return Object(G.jsxs)("div",{className:"".concat(bt.a.tile," ").concat(bt.a.token),onClick:function(){var n;n=e.token,console.log("option",n),t.push({pathname:"/asset/".concat(n.contract)})},children:[Object(G.jsx)("div",{className:bt.a.index,children:"".concat(e.index+1)}),Object(G.jsxs)("div",{className:bt.a.group,children:[Object(G.jsx)("div",{className:bt.a.icon,children:Object(G.jsx)("img",{src:e.token.iconSrc,alt:"".concat(e.token.symbol)})}),Object(G.jsx)("div",{className:bt.a.title,children:e.token.symbol})]}),Object(G.jsx)("div",{className:bt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(F(e.token.priceToEth.value,6)||"--")}),Object(G.jsxs)("div",{className:"".concat(bt.a.data," ").concat(e.token.priceToEth.change.includes("+")?bt.a.increase:bt.a.decrease),children:["".concat(F(e.token.priceToEth.change.slice(1),6)||"--")," ","%"]}),Object(G.jsx)("div",{className:bt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(F(e.token.volume.value,6)||"--")}),Object(G.jsx)("div",{className:bt.a.action,children:Object(G.jsx)("a",{className:bt.a.button,href:"#/swap/".concat(e.token.condivact),children:"Swap"})})]})},mt=function(e){var t=Object(i.useContext)(C);return Object(G.jsxs)("div",{className:"".concat(bt.a.table," ").concat(bt.a.token),children:[Object(G.jsx)("div",{className:bt.a.header,children:"Tokens"}),Object(G.jsxs)("div",{className:bt.a.container,children:[Object(G.jsx)(vt,{}),Object(G.jsxs)("div",{className:bt.a.content,children:[!e.tokens.length&&!e.isLoading&&Object(G.jsx)("div",{className:bt.a.hint,children:"No token found."}),!!e.tokens.length&&e.tokens.map((function(e,n){return Object(G.jsx)(jt,{index:n,token:e,fiat:t.fiat,onClick:function(){}},e.contract)})),e.isLoading&&Object(G.jsx)(ee,{})]})]})]})},ft=n(99),xt=n.n(ft),Ot=function(e){var t=Object(i.useContext)(g),n=function(){var n=Object(h.a)(p.a.mark((function n(a){var c,r,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=e.pools.findIndex((function(e){return e.token0.contract===a||e.token1.contract===a})),-1!==c){n.next=9;break}return n.next=4,t.searchToken(a);case 4:o=n.sent,console.log(o),r={token0:o},n.next=10;break;case 9:r=e.options[c];case 10:return n.abrupt("return",r);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(G.jsxs)("div",{className:xt.a.market,children:[Object(G.jsxs)("div",{className:xt.a["header-bar"],children:[Object(G.jsx)("div",{className:xt.a.header,children:"Tokens"}),Object(G.jsx)(fe,{shrink:!0})]}),Object(G.jsx)(ze,{className:"page",header:"All Tokens",filterProperty:"name",data:t.supportedTokens,onSelect:function(){},onImport:n,titleBar:vt,isLoading:t.isLoading,children:function(e){return jt({token:e,index:e.index,fiat:t.fiat,id:e.contract})}})]})},kt=n(58),_t=n.n(kt),gt=n(15),yt=n.n(gt),Ct=function(e){return Object(G.jsxs)("div",{className:yt.a["title-bar"],children:[Object(G.jsxs)("div",{className:yt.a["title-box"],children:[Object(G.jsx)("div",{className:yt.a.title,children:"Type"}),Object(G.jsx)("div",{className:yt.a.icon})]}),Object(G.jsxs)("div",{className:yt.a["title-box"],children:[Object(G.jsx)("div",{className:yt.a["title-box"],children:"Token Amount"}),Object(G.jsx)("div",{className:yt.a.icon})]}),Object(G.jsxs)("div",{className:yt.a["title-box"],children:[Object(G.jsx)("div",{className:yt.a["title-box"],children:"Token Amount"}),Object(G.jsx)("div",{className:yt.a.icon})]}),Object(G.jsxs)("div",{className:yt.a["title-box"],children:[Object(G.jsx)("div",{className:yt.a["title-box"],children:"Time"}),Object(G.jsx)("div",{className:yt.a.icon})]})]})},wt=function(e){return Object(G.jsxs)("div",{className:yt.a.tile,children:[Object(G.jsx)("div",{className:yt.a.data,children:"".concat(e.history.type," ").concat(e.history.tokenA.symbol," for ").concat(e.history.tokenB.symbol)}),Object(G.jsx)("div",{className:yt.a.data,children:"".concat(F(e.history.tokenA.amount,6)," ").concat(e.history.tokenA.symbol)}),Object(G.jsx)("div",{className:yt.a.data,children:"".concat(F(e.history.tokenB.amount,6)," ").concat(e.history.tokenB.symbol)}),Object(G.jsx)("div",{className:yt.a.data,children:e.history.dateTime.date})]})},Nt=function(e){var t=Object(i.useState)(e.histories),n=Object(v.a)(t,2),a=n[0],c=n[1],r=function(e,t){var n=e===N?t:t.filter((function(t){return t.type===e}));c(n)};return Object(i.useEffect)((function(){return r(N,e.histories),function(){}}),[e.histories]),Object(G.jsxs)("div",{className:yt.a.list,children:[Object(G.jsxs)("div",{className:yt.a["header-bar"],children:[Object(G.jsx)("div",{className:yt.a.header,children:"Transactions"}),Object(G.jsx)("div",{className:yt.a.button,onClick:function(){return r(N)},children:"All"}),Object(G.jsx)("div",{className:yt.a.button,onClick:function(){return r(S)},children:"Swaps"}),Object(G.jsx)("div",{className:yt.a.button,onClick:function(){return r(T)},children:"Adds"}),Object(G.jsx)("div",{className:yt.a.button,onClick:function(){return r(P)},children:"Removes"})]}),Object(G.jsxs)("div",{className:yt.a.content,children:[Object(G.jsx)(Ct,{}),!a.length&&!e.isLoading&&Object(G.jsx)("div",{className:yt.a.hint,children:"No record found."}),!!a.length&&a.map((function(e){return Object(G.jsx)(wt,{history:e},e.id)})),e.isLoading&&Object(G.jsx)(ee,{})]})]})},St=n(13),Tt=n.n(St),Pt=function(e){return Object(G.jsxs)("div",{className:Tt.a["title-bar"],children:[Object(G.jsxs)("div",{className:Tt.a["title-box"],children:[Object(G.jsx)("div",{className:Tt.a.title,children:"TOKEN"}),Object(G.jsx)("div",{className:Tt.a.icon})]}),Object(G.jsxs)("div",{className:Tt.a["title-box"],children:[Object(G.jsx)("div",{className:Tt.a.title,children:"MYSHARE"}),Object(G.jsx)("div",{className:Tt.a.icon})]}),Object(G.jsxs)("div",{className:Tt.a["title-box"],children:[Object(G.jsx)("div",{className:Tt.a.title,children:"TVL"}),Object(G.jsx)("div",{className:Tt.a.icon})]}),Object(G.jsxs)("div",{className:Tt.a["title-box"],children:[Object(G.jsx)("div",{className:Tt.a.title,children:"IRR"}),Object(G.jsx)("div",{className:Tt.a.icon})]}),Object(G.jsxs)("div",{className:Tt.a["title-box"],children:[Object(G.jsx)("div",{className:Tt.a.title,children:"REWARD"}),Object(G.jsx)("div",{className:Tt.a.icon})]})]})},At=function(e){return Object(G.jsxs)("div",{className:Tt.a.tile,children:[Object(G.jsxs)("div",{className:Tt.a.group,children:[Object(G.jsxs)("div",{className:Tt.a.icons,children:[Object(G.jsx)("div",{className:Tt.a.icon,children:Object(G.jsx)("img",{src:e.pool.token0.iconSrc,alt:"".concat(e.pool.token0.symbol)})}),Object(G.jsx)("div",{className:Tt.a.icon,children:Object(G.jsx)("img",{src:e.pool.token1.iconSrc,alt:"".concat(e.pool.token1.symbol)})})]}),Object(G.jsx)("div",{className:Tt.a.title,children:e.pool.name})]}),Object(G.jsx)("div",{className:Tt.a.data,children:"".concat(F(k.mult(e.pool.share,"100"),6),"%")}),Object(G.jsx)("div",{className:Tt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(F(e.pool.tvl.value,6)||"--")}),Object(G.jsxs)("div",{className:Tt.a.data,children:["".concat(e.pool.irr||"--")," %"]}),Object(G.jsx)("div",{className:Tt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.pool.reward||"0")}),Object(G.jsxs)("div",{className:Tt.a.action,children:[Object(G.jsx)("a",{className:Tt.a.button,href:"#/add-liquidity/".concat(e.pool.token0.contract,"/").concat(e.pool.token1.contract),children:"Add"}),Object(G.jsx)("a",{className:Tt.a.button,href:"#/redeem-liquidity/".concat(e.pool.poolContract),children:"Remove"})]})]})},Lt=function(e){var t=Object(i.useContext)(g);return Object(G.jsxs)("div",{className:Tt.a.list,children:[Object(G.jsx)("div",{className:Tt.a.title,children:"Pools"}),Object(G.jsxs)("div",{className:Tt.a.container,children:[Object(G.jsx)(Pt,{}),Object(G.jsxs)("div",{className:Tt.a.content,children:[!e.invests.length&&!e.isLoading&&Object(G.jsx)("div",{className:Tt.a.hint,children:"No token found."}),!!e.invests.length&&e.invests.map((function(e){return Object(G.jsx)(At,{pool:e,fiat:t.fiat},"".concat(e.poolContract,"-").concat(q(6)))})),e.isLoading&&Object(G.jsx)(ee,{})]})]})]})},Bt=n(14),It=n.n(Bt),Et=function(e){return Object(G.jsxs)("div",{className:It.a["title-bar"],children:[Object(G.jsxs)("div",{className:It.a["title-box"],children:[Object(G.jsx)("div",{className:It.a.title,children:"TOKEN"}),Object(G.jsx)("div",{className:It.a.icon})]}),Object(G.jsxs)("div",{className:It.a["title-box"],children:[Object(G.jsx)("div",{className:It.a.title,children:"PRICE"}),Object(G.jsx)("div",{className:It.a.icon})]}),Object(G.jsxs)("div",{className:It.a["title-box"],children:[Object(G.jsx)("div",{className:It.a.title,children:"PRICE 24H"}),Object(G.jsx)("div",{className:It.a.icon})]}),Object(G.jsxs)("div",{className:It.a["title-box"],children:[Object(G.jsx)("div",{className:It.a.title,children:"BALANCE"}),Object(G.jsx)("div",{className:It.a.icon})]}),Object(G.jsxs)("div",{className:It.a["title-box"],children:[Object(G.jsx)("div",{className:It.a.title,children:"inFIAT"}),Object(G.jsx)("div",{className:It.a.icon})]})]})},Dt=function(e){return Object(G.jsxs)("div",{className:It.a.tile,children:[Object(G.jsxs)("div",{className:It.a.group,children:[Object(G.jsx)("div",{className:It.a.icon,children:Object(G.jsx)("img",{src:e.token.iconSrc,alt:"".concat(e.token.symbol)})}),Object(G.jsx)("div",{className:It.a.title,children:e.token.symbol})]}),Object(G.jsx)("div",{className:It.a.data,children:"".concat(e.fiat.dollarSign," ").concat(F(e.token.priceToEth.value,6)||"--")}),Object(G.jsxs)("div",{className:"".concat(It.a.data," ").concat(e.token.priceToEth.change.includes("+")?It.a.increase:It.a.decrease),children:["".concat(F(e.token.priceToEth.change.slice(1),6)||"--")," ","%"]}),Object(G.jsx)("div",{className:It.a.data,children:"".concat(F(e.token.balanceOf,6)," ").concat(e.token.symbol)}),Object(G.jsx)("div",{className:It.a.data,children:"".concat(e.fiat.dollarSign," ").concat(F(k.mult(e.token.balanceOf,e.fiat.exchangeRate),6))}),Object(G.jsx)("div",{className:It.a.action,children:Object(G.jsx)("a",{className:It.a.button,href:"#/swap/".concat(e.token.contract),children:"Swap"})})]})},Ht=function(e){var t=Object(i.useContext)(g);return Object(G.jsxs)("div",{className:It.a.list,children:[Object(G.jsx)("div",{className:It.a.title,children:"Tokens"}),Object(G.jsxs)("div",{className:It.a.container,children:[Object(G.jsx)(Et,{}),Object(G.jsxs)("div",{className:It.a.content,children:[!e.tokens.length&&!e.isLoading&&Object(G.jsx)("div",{className:It.a.hint,children:"No token found."}),!!e.tokens.length&&e.tokens.map((function(e){return Object(G.jsx)(Dt,{token:e,fiat:t.fiat},e.contract)})),e.isLoading&&Object(G.jsx)(ee,{})]})]})]})},Rt=function(e){var t=Object(i.useContext)(g),n=Object(i.useState)([]),a=Object(v.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)([]),s=Object(v.a)(o,2),l=s[0],u=s[1];return Object(i.useEffect)((function(){return t.isConnected&&t.supportedTokens.length>0&&r(t.supportedTokens.filter((function(e){return k.gt(e.balanceOf,0)}))),function(){}}),[t.isConnected,t.supportedTokens]),Object(i.useEffect)((function(){return t.isConnected&&t.supportedPools.length>0&&u(t.supportedPools.filter((function(e){return k.gt(e.balanceOf,0)}))),function(){}}),[t.isConnected,t.supportedPools]),Object(G.jsxs)("div",{className:_t.a.assets,children:[Object(G.jsx)("div",{className:_t.a.header,children:"My Assets"}),Object(G.jsxs)("div",{className:_t.a.container,children:[Object(G.jsxs)("div",{className:_t.a.main,children:[Object(G.jsx)(Ht,{tokens:c,isLoading:t.isLoading}),Object(G.jsx)(Lt,{invests:l,isLoading:t.isLoading})]}),Object(G.jsxs)("div",{className:_t.a.sub,children:[Object(G.jsxs)("div",{className:_t.a.details,children:[Object(G.jsx)(te,{}),Object(G.jsx)(fe,{})]}),Object(G.jsx)(Nt,{histories:t.histories,isLoading:t.isLoading})]})]})]})},Ut=n(16),Ft=n.n(Ut),qt=function(e){return Object(G.jsxs)("div",{className:Ft.a["title-bar"],children:[Object(G.jsxs)("div",{className:Ft.a["title-box"],children:[Object(G.jsx)("div",{className:Ft.a.title,children:"Type"}),Object(G.jsx)("div",{className:Ft.a.icon})]}),Object(G.jsxs)("div",{className:Ft.a["title-box"],children:[Object(G.jsx)("div",{className:Ft.a["title-box"],children:"Token Amount"}),Object(G.jsx)("div",{className:Ft.a.icon})]}),Object(G.jsxs)("div",{className:Ft.a["title-box"],children:[Object(G.jsx)("div",{className:Ft.a["title-box"],children:"Token Amount"}),Object(G.jsx)("div",{className:Ft.a.icon})]}),Object(G.jsxs)("div",{className:Ft.a["title-box"],children:[Object(G.jsx)("div",{className:Ft.a["title-box"],children:"Time"}),Object(G.jsx)("div",{className:Ft.a.icon})]})]})},Mt=function(e){return Object(G.jsxs)("div",{className:Ft.a.tile,children:[Object(G.jsx)("div",{className:Ft.a.data,children:"".concat(e.history.type," ").concat(e.history.tokenA.symbol," for ").concat(e.history.tokenB.symbol)}),Object(G.jsx)("div",{className:Ft.a.data,children:"".concat(e.history.tokenA.amount," ").concat(e.history.tokenA.symbol)}),Object(G.jsx)("div",{className:Ft.a.data,children:"".concat(e.history.tokenB.amount," ").concat(e.history.tokenB.symbol)}),Object(G.jsx)("div",{className:Ft.a.data,children:e.history.time})]})},Kt=function(e){var t=e.histories,n=Object(i.useState)(e.histories),a=Object(v.a)(n,2),c=a[0],r=a[1],o=function(e){var n=e===N?t:t.filter((function(t){return t.type===e}));r(n)};return Object(G.jsxs)("div",{className:Ft.a.list,children:[Object(G.jsxs)("div",{className:Ft.a["header-bar"],children:[Object(G.jsx)("div",{className:Ft.a.header,children:"Transactions"}),Object(G.jsx)("div",{className:Ft.a.button,onClick:function(){return o(N)},children:"All"}),Object(G.jsx)("div",{className:Ft.a.button,onClick:function(){return o(S)},children:"Swaps"}),Object(G.jsx)("div",{className:Ft.a.button,onClick:function(){return o(T)},children:"Adds"}),Object(G.jsx)("div",{className:Ft.a.button,onClick:function(){return o(P)},children:"Removes"})]}),Object(G.jsxs)("div",{className:Ft.a.content,children:[Object(G.jsx)(qt,{}),!c.length&&Object(G.jsx)("div",{className:Ft.a.hint,children:"No record found."}),!!c.length&&c.map((function(e){return Object(G.jsx)(Mt,{history:e},e.id)}))]})]})},Vt=n(8),Wt=n.n(Vt),Xt=n(100),Jt=n.n(Xt),zt=function(e){return Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsx)(ce,{onCancel:function(){}}),o.a.createPortal(Object(G.jsxs)(se,{className:Jt.a.modal,children:[Object(G.jsx)("div",{className:Jt.a.content,children:Object(G.jsx)(ee,{})}),Object(G.jsx)("div",{className:Jt.a.message,children:"Loading..."})]}),document.getElementById("overlay-root"))]})},Gt=function(e){var t=Object(i.useContext)(g),n=Object(u.f)(),a=Object(u.e)(),c=Object(i.useState)(!0),r=Object(v.a)(c,2),o=r[0],s=r[1],d=Object(i.useState)(null),p=Object(v.a)(d,2),h=p[0],b=p[1],j=Object(i.useState)(null),m=Object(v.a)(j,2),f=m[0],x=m[1],O=Object(i.useState)([]),k=Object(v.a)(O,2),_=k[0],y=k[1];return Object(i.useEffect)((function(){var e;return n.pathname.includes("/asset/")&&!_.length&&(e=n.pathname.replace("/asset/",""),console.log("getPriceData /^0x[a-fA-F0-9]{40}$/.test(contract)",/^0x[a-fA-F0-9]{40}$/.test(e)),/^0x[a-fA-F0-9]{40}$/.test(e)&&t.getPriceData(e).then((function(e){console.log("getPriceData",e),y(e)})).catch((function(e){var t=D();console.log("getPriceData",t),y(t)}))),function(){clearInterval(undefined)}}),[t,_.length,n.pathname]),Object(i.useEffect)((function(){return n.pathname.includes("/asset/")&&(null===h||void 0===h?void 0:h.contract)!==n.pathname.replace("/asset/","")&&(s(!0),t.searchToken(n.pathname.replace("/asset/","")).then((function(e){e?(b(e),console.log("token:",e)):a.push({pathname:"/"}),s(!1);var n=t.supportedPools.find((function(t){return t.token0.contract===e.contract||t.token1.contract===e.contract}));console.log("investToken:",n),n&&x(n)}))),function(){}}),[t,t.supportedTokens,a,n.pathname,null===h||void 0===h?void 0:h.contract]),Object(G.jsxs)(l.a.Fragment,{children:[o&&Object(G.jsx)(zt,{}),Object(G.jsxs)("div",{className:Wt.a.asset,children:[Object(G.jsx)("div",{className:Wt.a.header,children:"My Assets"}),Object(G.jsxs)("div",{className:Wt.a.container,children:[Object(G.jsxs)("div",{className:Wt.a.main,children:[!o&&Object(G.jsxs)("div",{className:Wt.a.info,children:[Object(G.jsxs)("div",{className:Wt.a.leading,children:[Object(G.jsxs)("div",{className:Wt.a.group,children:[Object(G.jsx)("div",{className:Wt.a.icon,children:Object(G.jsx)("img",{src:h.iconSrc,alt:"".concat(h.symbol)})}),Object(G.jsx)("div",{className:Wt.a.title,children:"".concat(h.name," (").concat(h.symbol,")")})]}),Object(G.jsx)("div",{className:Wt.a.tag,children:"".concat(R(h.contract))})]}),Object(G.jsxs)("div",{className:Wt.a.leading,children:[Object(G.jsx)("div",{className:"".concat(Wt.a.data," ").concat(Wt.a.bold),children:"".concat(t.fiat.dollarSign," ").concat(F(h.priceToEth.value,12)||"--")}),Object(G.jsxs)("div",{className:"".concat(Wt.a.data," ").concat(h.priceToEth.change.includes("+")?Wt.a.increase:Wt.a.decrease),children:["".concat(h.priceToEth.change.slice(1)||"--")," %"]}),Object(G.jsxs)("div",{className:Wt.a.action,children:[Object(G.jsx)("a",{className:Wt.a.tag,href:"#/swap/".concat(h.contract),children:"Swap"}),Object(G.jsx)("a",{className:Wt.a.tag,href:"#/add-liquidity/".concat(h.contract),children:"Invest"})]})]})]}),Object(G.jsx)(fe,{})]}),Object(G.jsxs)("div",{className:Wt.a.sub,children:[(null===h||void 0===h?void 0:h.contract)&&Object(G.jsxs)("div",{className:Wt.a.container,children:[Object(G.jsxs)("div",{className:Wt.a.details,children:[f&&Object(G.jsxs)("div",{className:Wt.a["data-row"],children:[Object(G.jsxs)("div",{className:Wt.a["data-detail"],children:[Object(G.jsx)("div",{className:Wt.a["data-title"],children:"TVL"}),Object(G.jsx)("div",{className:Wt.a["data-value"],children:"".concat(t.fiat.dollarSign," ").concat(F(f.tvl.value,8))}),Object(G.jsxs)("div",{className:"".concat(Wt.a["data-change"]," ").concat(f.tvl.change.includes("+")?Wt.a.increase:Wt.a.decrease),children:["".concat(f.tvl.change.slice(1)||"--")," %"]})]}),Object(G.jsxs)("div",{className:Wt.a["data-detail"],children:[Object(G.jsx)("div",{className:Wt.a["data-title"],children:"IRR"}),Object(G.jsx)("div",{className:Wt.a["data-value"],children:"".concat(f.irr," %")}),Object(G.jsx)("div",{className:Wt.a["data-change"]})]})]}),Object(G.jsxs)("div",{className:Wt.a["data-row"],children:[Object(G.jsxs)("div",{className:Wt.a["data-detail"],children:[Object(G.jsx)("div",{className:Wt.a["data-title"],children:"24h Trading Vol"}),Object(G.jsx)("div",{className:Wt.a["data-value"],children:"".concat(t.fiat.dollarSign," ").concat(F(h.volume.value,8))}),Object(G.jsxs)("div",{className:"".concat(Wt.a["data-change"]," ").concat(h.volume.change.includes("+")?Wt.a.increase:Wt.a.decrease),children:["".concat(h.volume.change.slice(1)||"--")," %"]})]}),f&&Object(G.jsxs)("div",{className:Wt.a["data-detail"],children:[Object(G.jsx)("div",{className:Wt.a["data-title"],children:"24h Investing Vol"}),Object(G.jsx)("div",{className:Wt.a["data-value"],children:"".concat(t.fiat.dollarSign," ").concat(F(f.tvl.value,8))}),Object(G.jsxs)("div",{className:"".concat(Wt.a["data-change"]," ").concat(f.volume.change.includes("+")?Wt.a.increase:Wt.a.decrease),children:["".concat(f.volume.change.slice(1)||"--")," %"]})]})]}),Object(G.jsx)("div",{className:Wt.a["data-row"],children:f&&Object(G.jsxs)("div",{className:Wt.a["data-detail"],children:[Object(G.jsx)("div",{className:Wt.a["data-title"],children:"24h Investment Interest"}),Object(G.jsxs)("div",{className:Wt.a["data-value"],children:[" ","".concat(t.fiat.dollarSign," ").concat(F(f.interest24,8))]}),Object(G.jsx)("div",{className:Wt.a["data-change"]})]})})]}),Object(G.jsx)("div",{className:Wt.a.chart,children:Object(G.jsx)(it.a,{options:{chart:{type:"candlestick",height:350,toolbar:{show:!1}},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}},series:[{data:_}],type:"candlestick",height:350})})]}),Object(G.jsx)(Kt,{histories:t.histories})]})]})]})]})},Yt=n(20),Qt=n.n(Yt),Zt=function(e){var t,n,a,c;return Object(G.jsxs)("div",{className:Qt.a.tile,onClick:function(){return e.onSelect()},children:[Object(G.jsxs)("div",{className:Qt.a.group,children:[Object(G.jsxs)("div",{className:Qt.a.icons,children:[Object(G.jsx)("div",{className:Qt.a.icon,children:Object(G.jsx)("img",{src:e.pool.token0.iconSrc,alt:e.pool.token0.symbol})}),Object(G.jsx)("div",{className:Qt.a.icon,children:Object(G.jsx)("img",{src:e.pool.token1.iconSrc,alt:e.pool.token1.symbol})})]}),Object(G.jsx)("div",{className:Qt.a.name,children:"".concat(e.pool.token0.symbol,"/").concat(e.pool.token1.symbol)})]}),Object(G.jsx)("div",{className:Qt.a.data,children:"".concat((null===(t=e.pool)||void 0===t?void 0:t.share)?F(k.mult(e.pool.share,100),4):"0"," %")}),Object(G.jsxs)("div",{className:Qt.a.data,children:[F(null===(n=e.pool)||void 0===n?void 0:n.yield,4)||"--"," %"]}),Object(G.jsx)("div",{className:Qt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(F(null===(a=e.pool)||void 0===a||null===(c=a.volume)||void 0===c?void 0:c.value,6)||"--")})]})},$t=function(e){return Object(G.jsxs)("div",{className:Qt.a["title-bar"],children:[Object(G.jsx)("div",{className:Qt.a.title,children:"My Share"}),Object(G.jsx)("div",{className:Qt.a.title,children:"Yield"}),Object(G.jsx)("div",{className:Qt.a.title,children:"Volume"})," "]})},en=function(e){var t=Object(i.useContext)(g),n=Object(i.useState)(!1),a=Object(v.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)([]),s=Object(v.a)(o,2),u=s[0],d=s[1];Object(i.useEffect)((function(){var e,n=[],a=[];null===(e=t.supportedPools)||void 0===e||e.forEach((function(e){+e.share>0?n.push(e):a.push(e)}));var c=n.concat(a);return d(c),function(){}}),[t.supportedPools,t.supportedPools.length]);return Object(G.jsxs)(l.a.Fragment,{children:[c&&Object(G.jsx)(de,{title:"Select Token",onCancel:function(){return r(!1)},children:Object(G.jsx)(ze,{onSelect:function(t){e.onSelect(t),r(!1)},data:u,filterProperty:"symbol",children:function(n){return Zt({pool:n,fiat:t.fiat,onSelect:function(){return e.onSelect(n)}})}})}),Object(G.jsxs)("div",{className:Qt.a.list,children:[Object(G.jsx)("div",{className:Qt.a.header,children:Object(G.jsx)("div",{children:"Invest"})}),Object(G.jsx)($t,{}),Object(G.jsxs)("div",{className:Qt.a.content,children:[!u.length&&!t.isLoading&&Object(G.jsx)("div",{className:Qt.a.hint,children:"No Token found."}),!!u.length&&u.map((function(n){return Object(G.jsx)(Zt,{pool:n,fiat:t.fiat,onSelect:function(){return e.onSelect(n)}},n.poolContract)})),t.isLoading&&Object(G.jsx)(ee,{})]})]})]})},tn=n(59),nn=n.n(tn),an=n(41),cn=n.n(an),rn=function(e){var t,n,a,c,r,o,s,l=Object(i.useContext)(g);return Object(G.jsxs)("div",{className:cn.a.earn,children:[Object(G.jsxs)("main",{className:cn.a.main,children:[Object(G.jsx)(tt,{selected:e.selectedCoin,value:e.selectedCoinAmount,onSelect:function(t){return e.coinUpdateHandler(t,"selected")},onChange:function(t){return e.amountUpdateHandler(t,"selected")},options:l.supportedTokens}),Object(G.jsx)("div",{className:"icon",children:Object(G.jsx)("div",{children:"+"})}),Object(G.jsx)(tt,{selected:e.pairedCoin,value:e.pairedCoinAmount,onSelect:function(t){return e.coinUpdateHandler(t,"paired")},onChange:function(t){return e.amountUpdateHandler(t,"paired")},options:l.supportedTokens}),e.selectedPool&&Object(G.jsx)("div",{className:cn.a.details,children:null===(t=e.details)||void 0===t?void 0:t.map((function(e){return Object(G.jsxs)("div",{className:cn.a.detail,children:[Object(G.jsx)("div",{className:cn.a.value,children:e.value}),Object(G.jsx)("div",{className:cn.a.label,children:e.title})]},q(6))}))}),Object(G.jsxs)("div",{className:cn.a.button,children:[Object(G.jsxs)("div",{className:cn.a["approve-button-container"],children:[e.displayApproveSelectedCoin&&Object(G.jsxs)(He,{type:"button",onClick:function(){var t;return e.approveHandler(null===(t=e.selectedCoin)||void 0===t?void 0:t.contract,"selected")},children:["Approve ",null===(n=e.selectedCoin)||void 0===n?void 0:n.symbol]}),e.displayApprovePairedCoin&&Object(G.jsxs)(He,{type:"button",onClick:function(){var t;return e.approveHandler(null===(t=e.pairedCoin)||void 0===t?void 0:t.contract,"paired")},children:["Approve ",null===(a=e.pairedCoin)||void 0===a?void 0:a.symbol]})]}),Object(G.jsx)(He,{type:"submit",disabled:e.isLoading||!e.selectedCoinIsApprove||!e.pairedCoinIsApprove,children:e.isLoading?"Loading...":k.gt(e.selectedCoinAmount,(null===(c=e.selectedCoin)||void 0===c?void 0:c.balanceOf)||"0")?"Insufficient ".concat((null===(r=e.selectedCoin)||void 0===r?void 0:r.symbol)||""," balance"):k.gt(e.pairedCoinAmount,(null===(o=e.pairedCoin)||void 0===o?void 0:o.balanceOf)||"0")?"Insufficient ".concat((null===(s=e.pairedCoin)||void 0===s?void 0:s.symbol)||""," balance"):"Confirm"})]})]}),Object(G.jsx)("div",{className:"sub",children:Object(G.jsx)(ct,{title:"Summary",data:e.summary})})]})},on=function(e){var t,n,a,c;return e?[{title:"".concat((null===e||void 0===e||null===(t=e.token0)||void 0===t?void 0:t.symbol)||"--"," per ").concat((null===e||void 0===e||null===(n=e.token1)||void 0===n?void 0:n.symbol)||"--"),value:"".concat(F(k.div(null===e||void 0===e?void 0:e.poolBalanceOfToken1,null===e||void 0===e?void 0:e.poolBalanceOfToken0),8))},{title:"".concat((null===e||void 0===e||null===(a=e.token1)||void 0===a?void 0:a.symbol)||"--"," per ").concat((null===e||void 0===e||null===(c=e.token0)||void 0===c?void 0:c.symbol)||"--"),value:"".concat(F(k.div(null===e||void 0===e?void 0:e.poolBalanceOfToken0,null===e||void 0===e?void 0:e.poolBalanceOfToken1),8))},{title:"".concat((null===e||void 0===e?void 0:e.share)?F(k.mult(null===e||void 0===e?void 0:e.share,100),4):"0"," %"),value:"Your pool share",explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."}]:[]},sn=function(e,t,n){var a,c;return e?[{title:null===e||void 0===e||null===(a=e.token0)||void 0===a?void 0:a.symbol,value:k.plus(null===e||void 0===e?void 0:e.poolBalanceOfToken0,(null===t||void 0===t?void 0:t.amount)||"0")},{title:null===e||void 0===e||null===(c=e.token1)||void 0===c?void 0:c.symbol,value:k.plus(null===e||void 0===e?void 0:e.poolBalanceOfToken1,(null===n||void 0===n?void 0:n.amount)||"0")},{title:"Share of the pool",value:"".concat((null===t||void 0===t?void 0:t.amount)?F(k.mult(k.div(null===t||void 0===t?void 0:t.amount,k.plus(null===e||void 0===e?void 0:e.poolBalanceOfToken0,(null===t||void 0===t?void 0:t.amount)||"0")),100),4):"0"," %"),explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."},{title:"Total yield",value:"--",explain:"Trade transaction fee collected by liquidity providers."}]:[{title:"Initial prices",value:"1 ".concat((null===t||void 0===t?void 0:t.symbol)||"--"," \u2248 ").concat((null===t||void 0===t?void 0:t.amount)&&(null===n||void 0===n?void 0:n.amount)?k.div(null===t||void 0===t?void 0:t.amount,null===n||void 0===n?void 0:n.amount):"--"," ").concat((null===n||void 0===n?void 0:n.symbol)||"--"),explain:"Estimated price of the swap, not the final price that the swap is executed."},{title:"Initial prices",value:"1 ".concat((null===n||void 0===n?void 0:n.symbol)||"--"," \u2248 ").concat((null===t||void 0===t?void 0:t.amount)&&(null===n||void 0===n?void 0:n.amount)?k.div(null===n||void 0===n?void 0:n.amount,null===t||void 0===t?void 0:t.amount):"--"," ").concat((null===t||void 0===t?void 0:t.symbol)||"--"),explain:"Estimated price of the swap, not the final price that the swap is executed."},{title:"Share of the pool",value:"100 %",explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."},{title:"Total yield",value:"--",explain:"Trade transaction fee collected by liquidity providers."}]},ln=function(e){var t=Object(i.useContext)(g),n=Object(i.useState)(null),a=Object(v.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)(null),s=Object(v.a)(o,2),l=s[0],d=s[1],b=Object(i.useState)(""),j=Object(v.a)(b,2),m=j[0],f=j[1],x=Object(i.useState)(null),O=Object(v.a)(x,2),_=O[0],y=O[1],C=Object(i.useState)(""),w=Object(v.a)(C,2),N=w[0],S=w[1],T=Object(u.e)(),P=Object(u.f)(),L=Object(i.useState)(!1),B=Object(v.a)(L,2),I=B[0],E=B[1],D=Object(i.useState)(!1),H=Object(v.a)(D,2),R=H[0],U=H[1],F=Object(i.useState)(!1),q=Object(v.a)(F,2),V=q[0],W=q[1],X=Object(i.useState)(!1),J=Object(v.a)(X,2),z=J[0],Y=J[1],Q=Object(i.useState)(!1),Z=Object(v.a)(Q,2),$=Z[0],ee=Z[1];Object(i.useEffect)((function(){return t.isConnected&&t.connectedAccount?l&&!k.gt(null===l||void 0===l?void 0:l.contract,"0")?(E(!1),U(!0),ee(!1)):(null===l||void 0===l?void 0:l.balanceOf)&&k.gt(m,"0")&&k.gt(l.balanceOf,m)&&(ee(!0),t.isAllowanceEnough(l.contract,m,l.decimals).then((function(e){E(!e),U(e),ee(!1)})),ee(!0)):U(!1),function(){}}),[t,l,m]),Object(i.useEffect)((function(){return t.isConnected&&t.connectedAccount?_&&!k.gt(null===_||void 0===_?void 0:_.contract,"0")?(W(!1),Y(!0),ee(!1)):(null===_||void 0===_?void 0:_.balanceOf)&&k.gt(N,"0")&&k.gt(_.balanceOf,N)&&(ee(!0),t.isAllowanceEnough(_.contract,N,_.decimals).then((function(e){W(!e),Y(e),ee(!1)})),ee(!0)):Y(!1),function(){}}),[t,_,N]);var ne=function(){var e=Object(h.a)(p.a.mark((function e(n,a){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(n);case 2:c=e.sent,e.t0=a,e.next="selected"===e.t0?6:"paired"===e.t0?9:12;break;case 6:return U(c),E(!c),e.abrupt("break",13);case 9:return Y(c),W(!c),e.abrupt("break",13);case 12:return e.abrupt("break",13);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=Object(i.useCallback)((function(e,t,n,a,r){var o,s,i,u,d;switch(i=n||c,u=a||l,d=r||_,t){case"selected":o=u?M(e,u.balanceOf):e,i&&(s=i.token0.contract.toLowerCase()===u.contract.toLowerCase()?k.mult(k.div(i.poolBalanceOfToken1,i.poolBalanceOfToken0),o):k.mult(k.div(i.poolBalanceOfToken0,i.poolBalanceOfToken1),o),S(s)),f(o);break;case"paired":s=d?M(e,d.balanceOf):e,i&&(o=i.token0.contract.toLowerCase()===u.contract.toLowerCase()?k.mult(k.div(i.poolBalanceOfToken0,i.poolBalanceOfToken1),s):k.mult(k.div(i.poolBalanceOfToken1,i.poolBalanceOfToken0),s),f(o)),S(s)}}),[_,l,c]),ce=function(){var e=Object(h.a)(p.a.mark((function e(n,a){var c,o,s,i,u,h,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a,e.next="selected"===e.t0?3:"paired"===e.t0?8:10;break;case 3:return o=K(n,_,t.supportedTokens),s=(u=o).active,i=u.passive,e.abrupt("break",11);case 8:return l?(o=K(l,n,t.supportedTokens),s=(h=o).active,i=h.passive):(s=t.supportedTokens.find((function(e){return k.gt(n.contrac,0)?k.gt(e.contract,0):!k.gt(e.contract,0)})),i=n),e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:if(d(s),y(i),T.push({pathname:"/add-liquidity/".concat(s.contract,"/").concat((null===(c=i)||void 0===c?void 0:c.contract)?i.contract:"")}),!s||!i){e.next=35;break}return ee(!0),e.next=18,t.searchPool({token0Contract:s.contract,token1Contract:i.contract});case 18:if(b=e.sent,r(b),console.log("pool",b),!b){e.next=32;break}console.log("type",a),e.t1=a,e.next="selected"===e.t1?26:"paired"===e.t1?28:31;break;case 26:return ae(m,a,b,s,i),e.abrupt("break",32);case 28:return console.log("type",a),ae(N,a,b,s,i),e.abrupt("break",32);case 31:return e.abrupt("break",32);case 32:ee(!1),e.next=36;break;case 35:r(null);case 36:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=Object(h.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log("submitHandler","selectedCoin",l.symbol,"pairedCoin",_.symbol),!R){e.next=62;break}if(U(!1),!c){e.next=37;break}if(e.prev=5,k.gt(l.contract,0)){e.next=12;break}return e.next=9,t.addLiquidityETH(_,m,N);case 9:e.t0=e.sent,e.next=29;break;case 12:if(k.gt(_.contract,0)){e.next=18;break}return e.next=15,t.addLiquidityETH(l,m,N);case 15:e.t1=e.sent,e.next=28;break;case 18:if(c.token0.contract.toLowerCase()!==l.contract.toLowerCase()){e.next=24;break}return e.next=21,t.provideLiquidity(l,_,m,N);case 21:e.t2=e.sent,e.next=27;break;case 24:return e.next=26,t.provideLiquidity(_,l,N,m);case 26:e.t2=e.sent;case 27:e.t1=e.t2;case 28:e.t0=e.t1;case 29:a=e.t0,console.log("provideLiquidityResut selectedPool",a),e.next=35;break;case 33:e.prev=33,e.t3=e.catch(5);case 35:e.next=60;break;case 37:if(e.prev=37,k.gt(l.contract,0)){e.next=44;break}return e.next=41,t.addLiquidityETH(_,m,N);case 41:e.t4=e.sent,e.next=54;break;case 44:if(k.gt(_.contract,0)){e.next=50;break}return e.next=47,t.addLiquidityETH(l,m,N);case 47:e.t5=e.sent,e.next=53;break;case 50:return e.next=52,t.provideLiquidity(l,_,m,N);case 52:e.t5=e.sent;case 53:e.t4=e.t5;case 54:a=e.t4,console.log("provideLiquidityResut",a),e.next=60;break;case 58:e.prev=58,e.t6=e.catch(37);case 60:T.push({pathname:"/assets/"}),U(!0);case 62:case"end":return e.stop()}}),e,null,[[5,33],[37,58]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){if(!(!P.pathname.includes("/add-liquidity/")||!t.supportedTokens>0||!t.supportedPools>0||t.isLoading)){var e,n,a=P.pathname.replace("/add-liquidity/","").split("/");return console.log("tokensContract",a),a.length>0&&(a[0]!==(null===l||void 0===l?void 0:l.contract)?(e=t.supportedTokens.find((function(e){return e.contract.toLowerCase()===a[0].toLowerCase()})),d(e)):e=l,a[1]&&(n=a[1]!==(null===_||void 0===_?void 0:_.contract)?t.supportedTokens.find((function(e){return e.contract.toLowerCase()===a[1].toLowerCase()})):_,y(n),console.log("active",e),console.log("passive",n),e&&n&&t.searchPool({token0Contract:e.contract,token1Contract:n.contract}).then((function(e){console.log("pool",e),r(e)})))),function(){}}}),[t,t.supportedTokens,P.pathname,_,l,m]),Object(G.jsxs)("form",{className:nn.a.earn,onSubmit:re,children:[Object(G.jsx)("div",{className:nn.a.header,children:"Earn"}),Object(G.jsxs)("div",{className:nn.a.container,children:[Object(G.jsx)("div",{className:nn.a.main,children:Object(G.jsx)(rn,{selectedPool:c,selectedCoin:l,selectedCoinAmount:m,pairedCoin:_,pairedCoinAmount:N,coinUpdateHandler:ce,amountUpdateHandler:ae,approveHandler:ne,selectedCoinIsApprove:R,displayApproveSelectedCoin:I,pairedCoinIsApprove:z,displayApprovePairedCoin:V,details:on(c),summary:sn(c,Object(A.a)(Object(A.a)({},l),{},{amount:m}),Object(A.a)(Object(A.a)({},_),{},{amount:N})),isLoading:$})}),Object(G.jsxs)("div",{className:nn.a.sub,children:[Object(G.jsxs)("div",{className:nn.a.details,children:[Object(G.jsx)(te,{}),Object(G.jsx)(fe,{})]}),Object(G.jsx)(en,{onSelect:function(e){console.log("pool",e);var n=t.supportedTokens.find((function(t){return t.contract.toLowerCase()===e.token0.contract.toLowerCase()})),a=t.supportedTokens.find((function(t){return t.contract.toLowerCase()===e.token1.contract.toLowerCase()}));r(e),d(n),y(a),T.push({pathname:"/add-liquidity/".concat(n.contract,"/").concat(a.contract)}),ae(m,"selected",e,n,a)}})]})]})]})},un=n(60),dn=n.n(un),pn=n(33),hn=n.n(pn),bn=function(e){var t=q(6);return Object(G.jsxs)("div",{className:"".concat(hn.a.input," ").concat(!1===e.isValid?hn.a.invalid:""),children:[Object(G.jsx)("label",{htmlFor:t,className:hn.a.label,children:e.label}),Object(G.jsxs)("div",{className:hn.a["input-controller"],children:[Object(G.jsx)("input",{id:t,type:"number",value:e.value,onInput:function(t){console.log("onIput",t.target.value);var n=t.target.value;e.onChange(+n)},readOnly:!!e.readOnly}),Object(G.jsx)("div",{className:hn.a["input-hint"]+(""!==e.value&&+e.value===+e.max?" "+hn.a.show:""),children:"MAX"})]}),!e.removeDetail&&Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsxs)("div",{className:hn.a.detail,children:[Object(G.jsx)("div",{children:"Available:"}),Object(G.jsx)("div",{className:hn.a["input-maximum"],children:F("".concat(e.max),14)}),e.symbol&&Object(G.jsx)("div",{className:hn.a.symbol,children:e.symbol})]}),Object(G.jsx)("div",{className:hn.a.message,children:Object(G.jsx)("div",{children:e.message})})]})]})},vn=n(61),jn=n.n(vn),mn=n(21),fn=n.n(mn),xn=function(e){var t,n,a,c;return Object(G.jsxs)("div",{className:fn.a.tile,onClick:function(){return e.onSelect()},children:[Object(G.jsxs)("div",{className:fn.a.group,children:[Object(G.jsxs)("div",{className:fn.a.icons,children:[Object(G.jsx)("div",{className:fn.a.icon,children:Object(G.jsx)("img",{src:e.pool.token0.iconSrc,alt:e.pool.token0.symbol})}),Object(G.jsx)("div",{className:fn.a.icon,children:Object(G.jsx)("img",{src:e.pool.token1.iconSrc,alt:e.pool.token1.symbol})})]}),Object(G.jsx)("div",{className:fn.a.name,children:"".concat(e.pool.token0.symbol,"/").concat(e.pool.token1.symbol)})]})," ",Object(G.jsx)("div",{className:fn.a.data,children:"".concat((null===(t=e.pool)||void 0===t?void 0:t.share)?F(k.mult(e.pool.share,100),4):"0"," %")}),Object(G.jsxs)("div",{className:fn.a.data,children:[F(null===(n=e.pool)||void 0===n?void 0:n.yield,4)||"--"," %"]}),Object(G.jsx)("div",{className:fn.a.data,children:"".concat(e.fiat.dollarSign," ").concat(F(null===(a=e.pool)||void 0===a||null===(c=a.volume)||void 0===c?void 0:c.value,6)||"--")})]})},On=function(e){return Object(G.jsxs)("div",{className:fn.a["title-bar"],children:[Object(G.jsx)("div",{className:fn.a.title,children:"My Share"}),Object(G.jsx)("div",{className:fn.a.title,children:"Yield"}),Object(G.jsx)("div",{className:fn.a.title,children:"Volume"})," "]})},kn=function(e){var t=Object(i.useContext)(g),n=Object(i.useState)(!1),a=Object(v.a)(n,2),c=a[0],r=a[1];return Object(G.jsxs)(l.a.Fragment,{children:[c&&Object(G.jsx)(de,{title:"Select Token",onCancel:function(){return r(!1)},children:Object(G.jsx)(ze,{onSelect:function(t){e.onSelect(t),r(!1)},data:e.pools,filterProperty:"symbol",children:function(n){return xn({pool:n,fiat:t.fiat,onSelect:function(){return e.onSelect(n)}})}})}),Object(G.jsxs)("div",{className:fn.a.list,children:[Object(G.jsx)("div",{className:fn.a.header,children:Object(G.jsx)("div",{children:"Invest"})}),Object(G.jsx)(On,{}),Object(G.jsxs)("div",{className:fn.a.content,children:[!e.pools.length&&!t.isLoading&&Object(G.jsx)("div",{className:fn.a.hint,children:"No Token found."}),!!e.pools.length&&e.pools.map((function(n){return Object(G.jsx)(xn,{pool:n,fiat:t.fiat,onSelect:function(){return e.onSelect(n)}},n.poolContract)})),t.isLoading&&Object(G.jsx)(ee,{})]})]})]})},_n=n(81),gn=n.n(_n),yn=function(e){return Object(G.jsxs)("div",{className:gn.a.pair,onClick:e.onSelect,children:[Object(G.jsx)("div",{className:gn.a.icon,children:Object(G.jsx)("img",{src:e.token0.iconSrc,alt:e.token0.symbol})}),Object(G.jsx)("div",{className:gn.a.icon,children:Object(G.jsx)("img",{src:e.token1.iconSrc,alt:e.token1.symbol})}),Object(G.jsx)("div",{className:gn.a.name,children:e.name})]})},Cn=function(e){var t,n=Object(i.useContext)(g),a=Object(i.useState)(!1),c=Object(v.a)(a,2),r=c[0],o=c[1];return Object(G.jsxs)(l.a.Fragment,{children:[r&&Object(G.jsx)(de,{title:"Select Token",onCancel:function(){return o(!1)},children:Object(G.jsx)(ze,{onSelect:function(t){e.onSelect(t),o(!1)},data:e.pools,filterProperty:"symbol",children:function(t){return xn({pool:t,fiat:n.fiat,onSelect:function(){return e.onSelect(t)}})}})}),Object(G.jsxs)("div",{className:jn.a.remove,children:[Object(G.jsxs)("main",{className:jn.a.main,children:[Object(G.jsx)("div",{className:jn.a.header,children:e.selectedPool&&Object(G.jsx)(yn,{token0:e.selectedPool.token0,token1:e.selectedPool.token1,name:e.selectedPool.name})}),Object(G.jsxs)("div",{className:jn.a.content,children:[Object(G.jsx)(bn,{max:(null===(t=e.selectedPool)||void 0===t?void 0:t.balanceOf)||"0",symbol:"",onChange:e.changeAmountHandler,value:e.shareAmount}),+e.shareAmount>0&&e.coinOptions.map((function(e){return Object(G.jsx)(tt,{label:"Coin",selected:e,value:e.amount,readOnly:!0,removeDetail:!0},e.contract)}))]}),Object(G.jsxs)("div",{className:jn.a.button,children:[Object(G.jsx)("div",{className:jn.a["approve-button-container"],children:e.displayApprovePoolContract&&Object(G.jsxs)(He,{type:"button",onClick:function(){var t;return e.approveHandler(null===(t=e.selectedPool)||void 0===t?void 0:t.contract,(function(t){e.setPoolContractIsApprove(t),e.setDisplayApprovePoolContract(!t)}))},children:["Approve ",e.selectedPool.name]})}),Object(G.jsx)(He,{type:"submit",disabled:!e.poolContractIsApprove,children:e.isLoading?"Loading...":"Confirm"})]})]}),Object(G.jsx)("div",{className:"sub",children:Object(G.jsx)(ct,{title:"Summary",data:e.details})})]})]})},wn=function(e,t){var n,a,c,r,o,s;return[{title:null===e||void 0===e||null===(n=e.token0)||void 0===n?void 0:n.symbol,value:null===e||void 0===e?void 0:e.poolBalanceOfToken0},{title:null===e||void 0===e||null===(a=e.token1)||void 0===a?void 0:a.symbol,value:null===e||void 0===e?void 0:e.poolBalanceOfToken1},{title:"Take share",value:"".concat(t?F(k.mult(k.div(t,null===e||void 0===e?void 0:e.balanceOf),100),4):"--"," %")},{title:"Price",value:"1 ".concat((null===e||void 0===e||null===(c=e.token0)||void 0===c?void 0:c.symbol)||"--"," \u2248 ").concat(e?F(k.div(null===e||void 0===e?void 0:e.poolBalanceOfToken1,null===e||void 0===e?void 0:e.poolBalanceOfToken0),4):"--"," ").concat((null===e||void 0===e||null===(r=e.token1)||void 0===r?void 0:r.symbol)||"--")},{title:"Price",value:"1 ".concat((null===e||void 0===e||null===(o=e.token1)||void 0===o?void 0:o.symbol)||"--"," \u2248 ").concat(e?F(k.div(null===e||void 0===e?void 0:e.poolBalanceOfToken0,null===e||void 0===e?void 0:e.poolBalanceOfToken1),4):"--"," ").concat((null===e||void 0===e||null===(s=e.token0)||void 0===s?void 0:s.symbol)||"--")},{title:"Your pool share",value:"".concat((null===e||void 0===e?void 0:e.share)?F(k.mult(null===e||void 0===e?void 0:e.share,100),4):"0"," %"),explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."}]},Nn=function(e){var t=Object(i.useContext)(g),n=Object(i.useState)(null),a=Object(v.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)([]),s=Object(v.a)(o,2),l=s[0],d=s[1],b=Object(i.useState)(""),j=Object(v.a)(b,2),m=j[0],f=j[1],x=Object(u.e)(),O=Object(i.useState)(!1),_=Object(v.a)(O,2),y=_[0],C=_[1],w=Object(i.useState)(!1),N=Object(v.a)(w,2),S=N[0],T=N[1],P=Object(i.useState)(null),L=Object(v.a)(P,2),B=L[0],I=L[1],E=Object(i.useState)(!1),D=Object(v.a)(E,2),H=D[0],R=D[1],U=Object(i.useState)([]),F=Object(v.a)(U,2),q=F[0],K=F[1];Object(i.useEffect)((function(){var e,n=null===(e=t.supportedPools)||void 0===e?void 0:e.filter((function(e){return k.gt(e.share,"0")}));return K(n),function(){}}),[t.supportedPools]);var V=function(){var e=Object(h.a)(p.a.mark((function e(n,a){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(n);case 2:c=e.sent,a(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(e){r(e),x.push({pathname:"/redeem-liquidity/".concat(e.poolContract)}),m&&X(m)},X=function(e){var t=M(e,(null===c||void 0===c?void 0:c.balanceOf)||"0");f(t);var n=0===+t?null:+t>0;if(n){I(n);var a=[Object(A.a)(Object(A.a)({},c.token0),{},{amount:k.mult(k.mult(k.div(t,c.totalSupply),c.poolBalanceOfToken0),.9)}),Object(A.a)(Object(A.a)({},c.token1),{},{amount:k.mult(k.mult(k.div(t,c.totalSupply),c.poolBalanceOfToken1),.9)})];d(a)}},J=function(){var e=Object(h.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log("submitHandler"),!S){e.next=29;break}if(T(!1),e.prev=4,k.gt(c.token0.contract,0)){e.next=11;break}return e.next=8,t.removeLiquidityETH(c,c.token1,m,k.mult(k.mult(k.div(m,c.totalSupply),c.poolBalanceOfToken1),.9),k.mult(k.mult(k.div(m,c.totalSupply),c.poolBalanceOfToken0),.9));case 8:e.t0=e.sent,e.next=21;break;case 11:if(k.gt(c.token1.contract,0)){e.next=17;break}return e.next=14,t.removeLiquidityETH(c,c.token0,m,k.mult(k.mult(k.div(m,c.totalSupply),c.poolBalanceOfToken0),.9),k.mult(k.mult(k.div(m,c.totalSupply),c.poolBalanceOfToken1),.9));case 14:e.t1=e.sent,e.next=20;break;case 17:return e.next=19,t.takeLiquidity(c,m,k.mult(k.mult(k.div(m,c.totalSupply),c.poolBalanceOfToken0),.9),k.mult(k.mult(k.div(m,c.totalSupply),c.poolBalanceOfToken1),.9));case 19:e.t1=e.sent;case 20:e.t0=e.t1;case 21:a=e.t0,console.log("takeLiquidityResult",a),x.push({pathname:"/assets/"}),e.next=28;break;case 26:e.prev=26,e.t2=e.catch(4);case 28:T(!0);case 29:case"end":return e.stop()}}),e,null,[[4,26]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return B&&(R(!0),t.isAllowanceEnough(c.poolContract,m,c.decimals).then((function(e){C(!e),T(e),R(!1)}))),function(){}}),[t,B,null===c||void 0===c?void 0:c.poolContract,null===c||void 0===c?void 0:c.decimals,m]),Object(i.useEffect)((function(){return r(t.supportedPools.find((function(e){return x.location.pathname.includes(e.poolContract)}))),function(){}}),[t.supportedPools,x.location.pathname]),Object(G.jsxs)("form",{className:dn.a.remove,onSubmit:J,children:[Object(G.jsx)("div",{className:dn.a.header,children:"Remove"}),Object(G.jsxs)("div",{className:dn.a.container,children:[Object(G.jsx)("div",{className:dn.a.main,children:Object(G.jsx)(Cn,{selectedPool:c,coinOptions:l,pools:q,onSelect:W,isLoading:H,approveHandler:V,shareAmount:m,changeAmountHandler:X,displayApprovePoolContract:y,setDisplayApprovePoolContract:C,poolContractIsApprove:S,setPoolContractIsApprove:T,details:wn(c,m)})}),Object(G.jsxs)("div",{className:dn.a.sub,children:[Object(G.jsxs)("div",{className:dn.a.details,children:[Object(G.jsx)(te,{}),Object(G.jsx)(fe,{})]}),Object(G.jsx)(kn,{pools:q,onSelect:W})]})]})]})},Sn=(n(204),function(e){return Object(G.jsxs)("div",{className:bt.a["title-bar"],children:[Object(G.jsx)("div",{className:bt.a.leading,children:"#"}),Object(G.jsxs)("div",{className:bt.a["title-box"],children:[Object(G.jsx)("div",{className:bt.a.title,children:"TOKEN"}),Object(G.jsx)("div",{className:bt.a.icon})]}),Object(G.jsxs)("div",{className:bt.a["title-box"],children:[Object(G.jsx)("div",{className:bt.a.title,children:"TVL"}),Object(G.jsx)("div",{className:bt.a.icon})]}),Object(G.jsxs)("div",{className:bt.a["title-box"],children:[Object(G.jsx)("div",{className:bt.a.title,children:"IRR"}),Object(G.jsx)("div",{className:bt.a.icon})]})]})}),Tn=function(e){var t=Object(u.e)();return Object(G.jsxs)("div",{className:bt.a.tile,onClick:function(){var n;n=e.pool,t.push({pathname:"/asset/".concat(n.token0.contract)})},children:[Object(G.jsx)("div",{className:bt.a.index,children:"".concat(e.index+1)}),Object(G.jsxs)("div",{className:bt.a.group,children:[Object(G.jsxs)("div",{className:bt.a.icons,children:[Object(G.jsx)("div",{className:bt.a.icon,children:Object(G.jsx)("img",{src:e.pool.token0.iconSrc,alt:"".concat(e.pool.token0.symbol)})}),Object(G.jsx)("div",{className:bt.a.icon,children:Object(G.jsx)("img",{src:e.pool.token1.iconSrc,alt:"".concat(e.pool.token1.symbol)})})]}),Object(G.jsx)("div",{className:bt.a.title,children:e.pool.name})]}),Object(G.jsx)("div",{className:bt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(F(e.pool.tvl.value,6)||"--")}),Object(G.jsxs)("div",{className:bt.a.data,children:["".concat(e.pool.irr||"--")," %"]}),Object(G.jsx)("div",{className:bt.a.action,children:Object(G.jsx)("a",{className:bt.a.button,href:"#/add-liquidity/".concat(e.pool.token0.contract,"/").concat(e.pool.token1.contract),children:"Invest"})})]})},Pn=function(e){var t=Object(i.useContext)(C);return Object(G.jsxs)("div",{className:"".concat(bt.a.table," ").concat(bt.a.invest),children:[Object(G.jsx)("div",{className:bt.a.header,children:"Pools"}),Object(G.jsxs)("div",{className:bt.a.container,children:[Object(G.jsx)(Sn,{}),!e.pools.length&&!e.isLoading&&Object(G.jsx)("div",{children:Object(G.jsx)("div",{className:bt.a.hint,children:"No token found."})}),Object(G.jsxs)("div",{className:bt.a.content,children:[!!e.pools.length&&e.pools.map((function(e,n){return Object(G.jsx)(Tn,{index:n,pool:e,fiat:t.fiat,onClick:function(){}},"".concat(n,"-").concat(e.poolContract))})),e.isLoading&&Object(G.jsx)(ee,{})]})]})]})},An=n(101),Ln=n.n(An),Bn=function(e){var t=Object(i.useContext)(g),n=function(){var n=Object(h.a)(p.a.mark((function n(a){var c,r,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=e.pools.findIndex((function(e){return e.token0.contract.toLowerCase()===a.toLowerCase()||e.token1.contract.toLowerCase()===a.toLowerCase()})),-1!==c){n.next=9;break}return n.next=4,t.searchToken(a);case 4:o=n.sent,console.log(o),r={token0:o},n.next=10;break;case 9:r=e.options[c];case 10:return n.abrupt("return",r);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(G.jsxs)("div",{className:Ln.a.invest,children:[Object(G.jsxs)("div",{className:Ln.a["header-bar"],children:[Object(G.jsx)("div",{className:Ln.a.header,children:"Pools"}),Object(G.jsx)(fe,{shrink:!0})]}),Object(G.jsx)(ze,{className:"page",header:"All Tokens",filterProperty:"name",data:t.supportedPools,onSelect:function(){},onImport:n,titleBar:Sn,isLoading:t.isLoading,children:function(e){return Tn({pool:e,index:e.index,fiat:t.fiat,id:e.contract})}})]})},In=function(e){return Object(G.jsxs)("div",{className:bt.a["title-bar"],children:[Object(G.jsxs)("div",{className:bt.a["header-bar"],children:[Object(G.jsx)("div",{className:bt.a.title,children:"Type"}),Object(G.jsx)("div",{className:bt.a.button,onClick:function(){return e.onFilter(N)},children:"All"}),Object(G.jsx)("div",{className:bt.a.button,onClick:function(){return e.onFilter(S)},children:"Swaps"}),Object(G.jsx)("div",{className:bt.a.button,onClick:function(){return e.onFilter(T)},children:"Adds"}),Object(G.jsx)("div",{className:bt.a.button,onClick:function(){return e.onFilter(P)},children:"Removes"})]}),Object(G.jsxs)("div",{className:bt.a["title-box"],children:[Object(G.jsx)("div",{className:bt.a["title-box"],children:"Token Amount"}),Object(G.jsx)("div",{className:bt.a.icon})]}),Object(G.jsxs)("div",{className:bt.a["title-box"],children:[Object(G.jsx)("div",{className:bt.a["title-box"],children:"Token Amount"}),Object(G.jsx)("div",{className:bt.a.icon})]}),Object(G.jsxs)("div",{className:bt.a["title-box"],children:[Object(G.jsx)("div",{className:bt.a["title-box"],children:"Time"}),Object(G.jsx)("div",{className:bt.a.icon})]})]})},En=function(e){return Object(G.jsxs)("div",{className:bt.a.tile,children:[Object(G.jsx)("div",{className:bt.a.index,children:e.index}),Object(G.jsx)("div",{className:"".concat(bt.a.data," ").concat(bt.a.expand),children:"".concat(e.history.type," ").concat(e.history.tokenA.symbol," for ").concat(e.history.tokenB.symbol)}),Object(G.jsx)("div",{className:bt.a.data,children:"".concat(F(e.history.tokenA.amount,6)," ").concat(e.history.tokenA.symbol)}),Object(G.jsx)("div",{className:bt.a.data,children:"".concat(F(e.history.tokenB.amount,6)," ").concat(e.history.tokenB.symbol)}),Object(G.jsx)("div",{className:bt.a.data,children:e.history.dateTime.date})]})},Dn=function(e){var t=Object(i.useContext)(g),n=Object(i.useState)(e.histories),a=Object(v.a)(n,2),c=a[0],r=a[1],o=function(e,t){var n=e===N?t:t.filter((function(t){return t.type===e}));r(n)};return Object(i.useEffect)((function(){return o(N,t.histories),function(){}}),[t.histories]),Object(G.jsxs)("div",{className:"".concat(bt.a.table," ").concat(bt.a.history),children:[Object(G.jsx)("div",{className:bt.a.header,children:"Transactions"}),Object(G.jsxs)("div",{className:bt.a.container,children:[Object(G.jsx)(In,{onFilter:o}),Object(G.jsxs)("div",{className:bt.a.content,children:[!c.length&&!e.isLoading&&Object(G.jsx)("div",{className:bt.a.hint,children:"No record found."}),!!c.length&&c.map((function(e,t){return Object(G.jsx)(En,{history:e,index:t+1},e.id)})),e.isLoading&&Object(G.jsx)(ee,{})]})]})]})},Hn=n(95),Rn=n.n(Hn),Un=function(e){return{options:{chart:{type:"area",toolbar:{show:!1}},title:{text:"TVL",align:"left"},xaxis:{categories:e.map((function(e){return e.date})),tickAmount:12,labels:{rotate:0}},stroke:{curve:"straight",width:1},dataLabels:{enabled:!1}},series:[{name:"TVL",data:e.map((function(e){return e.value}))}]}},Fn=function(e){var t=Object(i.useState)(Un([])),n=Object(v.a)(t,2),a=n[0],c=n[1],r=Object(i.useContext)(g);return Object(i.useEffect)((function(){return c(Un(r.tvlChartData)),function(){}}),[r.tvlChartData]),Object(G.jsx)("div",{className:Rn.a.chart,children:Object(G.jsx)(it.a,{options:a.options,series:a.series,type:"area"})})},qn=function(e){return{options:{chart:{id:"basic-bar",toolbar:{show:!1}},title:{text:"Volume 24H",align:"left"},xaxis:{categories:e.map((function(e){return e.date})),tickAmount:12,labels:{rotate:0}},dataLabels:{enabled:!1}},series:[{name:"Volume",data:e.map((function(e){return e.value}))}]}},Mn=function(e){var t=Object(i.useState)(qn([])),n=Object(v.a)(t,2),a=n[0],c=n[1],r=Object(i.useContext)(g);return Object(i.useEffect)((function(){return c(qn(r.volumeChartData)),function(){}}),[r.volumeChartData]),Object(G.jsx)("div",{className:Rn.a.chart,children:Object(G.jsx)(it.a,{options:a.options,series:a.series,type:"bar"})})},Kn=n(31),Vn=n.n(Kn),Wn=function(e){var t=Object(i.useContext)(g);return Object(G.jsxs)("div",{className:Vn.a.overview,children:[Object(G.jsx)("div",{className:Vn.a.header,children:"Overview"}),Object(G.jsxs)("div",{className:Vn.a.chart,children:[Object(G.jsx)(Fn,{}),Object(G.jsx)(Mn,{})]}),Object(G.jsx)("div",{className:Vn.a.summary,children:t.overview.map((function(e){return Object(G.jsxs)("div",{className:Vn.a.group,children:[Object(G.jsxs)("div",{className:Vn.a.title,children:[e.title," :"]}),Object(G.jsxs)("div",{className:Vn.a.data,children:[Object(G.jsx)("div",{className:Vn.a.value,children:e.data.value}),Object(G.jsxs)("div",{className:"".concat(Vn.a.change," ").concat(e.data.change.includes("+")?Vn.a.increase:Vn.a.decrease),children:["(",e.data.change.slice(1),")"]})]})]},q(6))}))}),Object(G.jsx)(mt,{tokens:t.supportedTokens,isLoading:!t.supportedTokens.length>0||t.isLoading}),Object(G.jsx)(Pn,{pools:t.supportedPools,isLoading:!t.supportedPools.length>0||t.isLoading}),Object(G.jsx)(Dn,{histories:t.histories,isLoading:t.isLoading})]})},Xn=(n(205),n(82)),Jn=n(129),zn=n(207),Gn=n(130),Yn=["title","titleId"];function Qn(){return Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qn.apply(this,arguments)}function Zn(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function $n(e,t){var n=e.title,r=e.titleId,o=Zn(e,Yn);return i.createElement("svg",Qn({width:135,height:135,ref:t,"aria-labelledby":r},o),n?i.createElement("title",{id:r},n):null,a||(a=i.createElement("path",{d:"M90,105 a60,60 0 1,0 -115,0",fill:"#169AE7",transform:"rotate(-30)"})),c||(c=i.createElement("path",{d:"M-40,110 a60,60 0 0,0 115,0",fill:"#0085D7",transform:"rotate(-30)"})))}var ea=i.forwardRef($n),ta=(n.p,n(206)),na=n(12),aa=n.n(na),ca=n(102),ra=n.n(ca),oa=function(e){var t=Object(i.useContext)(g);return Object(G.jsx)(l.a.Fragment,{children:t.connectOptions.map((function(n){return Object(G.jsxs)("div",{className:ra.a["icon-button"],onClick:function(){!function(n){e.onClick();try{t.onConnect(n)}catch(a){console.log("ConnectOptions error",a)}}(n.name)},children:[Object(G.jsx)(se,{className:ra.a["icon-button__icon"],children:Object(G.jsx)("img",{src:n.src,alt:n.name})}),Object(G.jsx)("p",{className:ra.a["icon-button__name"],children:n.name})]},n.name)}))})},sa=function(e){var t=Object(i.useContext)(g),n=Object(u.f)();return Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsxs)("div",{className:aa.a.brand,children:[Object(G.jsx)(ea,{})," TideBit"]}),Object(G.jsxs)("div",{className:"".concat(aa.a.menuOption," ").concat("#/"===n.hash?aa.a.active:""),children:[Object(G.jsx)("div",{className:aa.a.menuOptionIcon,children:Object(G.jsx)(Xn.a,{size:"1.5em"})}),Object(G.jsx)("a",{className:aa.a.menuOptionText,href:"/#",children:"overview"})]}),Object(G.jsxs)("div",{className:"".concat(aa.a.menuOption," ").concat(n.hash.includes("tokens")?aa.a.active:""),children:[Object(G.jsx)("div",{className:aa.a.menuOptionIcon,children:Object(G.jsx)(Jn.a,{size:"1.5em"})}),Object(G.jsx)("a",{className:aa.a.menuOptionText,href:"#/tokens",children:"tokens"})]}),Object(G.jsxs)("div",{className:"".concat(aa.a.menuOption," ").concat(n.hash.includes("pools")?aa.a.active:""),children:[Object(G.jsx)("div",{className:aa.a.menuOptionIcon,children:Object(G.jsx)(zn.a,{size:"1.5em"})}),Object(G.jsx)("a",{className:aa.a.menuOptionText,href:"#/pools",children:"pools"})]}),(!t.isConnected||!t.connectedAccount)&&Object(G.jsxs)("div",{className:aa.a.menuOption,children:[Object(G.jsx)("div",{className:aa.a.menuOptionIcon,children:Object(G.jsx)(Xn.b,{size:"1.5em"})}),Object(G.jsx)("div",{className:aa.a.menuOptionText,onClick:e.onConnect,children:"login"})]}),Object(G.jsxs)("div",{className:"".concat(aa.a.menuOption," ").concat(n.hash.includes("assets")?aa.a.active:""),children:[Object(G.jsx)("div",{className:aa.a.menuOptionIcon,children:Object(G.jsx)(Gn.a,{size:"1.5em"})}),Object(G.jsx)("a",{className:aa.a.menuOptionText,href:"#/assets",children:"my assets"})]}),Object(G.jsxs)("div",{className:"".concat(aa.a.menuOption," ").concat(n.hash.includes("swap")?aa.a.active:""),children:[Object(G.jsx)("div",{className:aa.a.menuOptionIcon,children:Object(G.jsx)(Xn.d,{size:"1.5em"})}),Object(G.jsx)("a",{className:aa.a.menuOptionText,href:"#/swap",children:"swap"})]}),Object(G.jsxs)("div",{className:"".concat(aa.a.menuOption," ").concat(n.hash.includes("add-liquidity")?aa.a.active:""),children:[Object(G.jsx)("div",{className:aa.a.menuOptionIcon,children:Object(G.jsx)(Gn.b,{size:"1.5em"})}),Object(G.jsx)("a",{className:aa.a.menuOptionText,href:"#/add-liquidity",children:"liquidity"})]}),Object(G.jsxs)("div",{className:"".concat(aa.a.menuOption," ").concat(n.hash.includes("race")?aa.a.active:""),disabled:!0,children:[Object(G.jsx)("div",{className:aa.a.menuOptionIcon,children:Object(G.jsx)(Jn.b,{size:"1.5em"})}),Object(G.jsx)("a",{className:aa.a.menuOptionText,children:"race"})]}),t.isConnected&&t.connectedAccount&&Object(G.jsxs)("div",{className:aa.a.menuOption,children:[Object(G.jsx)("div",{className:aa.a.menuOptionIcon,children:Object(G.jsx)(Xn.c,{size:"1.5em"})}),Object(G.jsx)("div",{className:aa.a.menuOptionText,onClick:t.onDisconnect,children:"logout"})]})]})},ia=function(e){return Object(G.jsxs)("div",{className:aa.a.footer,children:[Object(G.jsxs)("div",{children:["v",ta.version," BETA"]}),Object(G.jsx)("div",{children:"\xa92021 TideBit. All rights reserved."}),Object(G.jsx)("div",{children:"Power By CAFECA"})]})},la=function(e){var t=Object(i.useContext)(g),n=Object(i.useState)(!1),a=Object(v.a)(n,2),c=a[0],r=a[1],s=function(){r(!0)};return Object(i.useEffect)((function(){return t.isConnected&&t.connectedAccount&&r(!1),function(){}}),[t.connectedAccount,t.isConnected]),Object(G.jsxs)(l.a.Fragment,{children:[c&&Object(G.jsx)(de,{title:"Connect Wallet",onCancel:function(){r(!1)},children:Object(G.jsx)(oa,{onClick:s})}),o.a.createPortal(Object(G.jsxs)("div",{className:"".concat(aa.a.sideMenu," ").concat(t.isConnected&&t.connectedAccount?aa.a.connected:""),children:[Object(G.jsx)(sa,{onConnect:s}),Object(G.jsx)(ia,{})]}),document.getElementById("side-menu"))]})},ua=(n(62),n(22),function(){return Object(G.jsxs)(l.a.Fragment,{children:[Object(G.jsx)(la,{}),Object(G.jsxs)(s.b,{children:[Object(G.jsx)(u.a,{exact:!0,path:"/",children:Object(G.jsx)(Wn,{})}),Object(G.jsx)(u.a,{path:"/tokens",children:Object(G.jsx)(Ot,{})}),Object(G.jsx)(u.a,{path:"/pools",children:Object(G.jsx)(Bn,{})}),Object(G.jsx)(u.a,{path:"/assets",children:Object(G.jsx)(Rt,{})}),Object(G.jsx)(u.a,{path:"/asset",children:Object(G.jsx)(Gt,{})}),Object(G.jsx)(u.a,{path:"/swap",children:Object(G.jsx)(pt,{})}),Object(G.jsx)(u.a,{path:"/add-liquidity",children:Object(G.jsx)(ln,{})}),Object(G.jsx)(u.a,{path:"/redeem-liquidity",children:Object(G.jsx)(Nn,{})})]})]})}),da=n(48),pa=n.n(da),ha=n.p+"static/media/imToken.14ab6720.png",ba=n(42),va=n(208),ja=n(127),ma=n(348),fa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.apiURL,a=void 0===n?"":n;return Object(j.a)(this,e),this.url=a,this.axios=ma.create({baseURL:ja.Config.apiVersion+this.url}),this}return Object(m.a)(e,[{key:"setInterceptor",value:function(){}},{key:"setToken",value:function(e){this.axios.defaults.headers.common.token=e}},{key:"getToken",value:function(){try{return this.axios.defaults.headers.common.token||null}catch(e){return null}}},{key:"_request",value:function(e){return e().then((function(e){return e.data?{success:e.data.success,data:e.data.payload,message:e.data.message,code:e.data.code}:{success:!1}}))}},{key:"get",value:function(e){var t=this;return this._request((function(){return t.axios.get(e)}))}},{key:"post",value:function(e,t){var n=this;return this._request((function(){return n.axios.post(e,t)}))}},{key:"delete",value:function(e,t){var n=this;return this._request((function(){return n.axios.delete(e,t)}))}},{key:"put",value:function(e,t){var n=this;return this._request((function(){return n.axios.put(e,t)}))}},{key:"_refreshToken",value:function(){}}]),e}(),xa=fa,Oa=function(){function e(t){var n=t.apiURL,a=t.apiKey,c=t.apiSecret;return Object(j.a)(this,e),this.apiURL=n,this.apiKey=a,this.apiSecret=c,this.httpAgent=new xa({apiURL:n}),this.token=null,this.tokenSecret=null,this.tokenRenewTimeout=null,this}return Object(m.a)(e,[{key:"priceData",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/candleStickData/").concat(n));case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tvlHistory",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/tvlHistory/"));case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"volume24hr",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid chainId"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/volume24hr/"));case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchToken",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&n){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/searchToken/")+n);case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tokenList",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/tokenList"));case 3:if(!(n=e.sent).success){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"poolList",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/poolList"));case 3:if(!(n=e.sent).success){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchPool",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&n&&a){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return c={token0Contract:n,token1Contract:a},e.next=6,this._post(this.apiURL+"/chainId/".concat(t,"/explorer/searchPool/"),c);case 6:if(!(r=e.sent).success){e.next=9;break}return e.abrupt("return",r.data);case 9:return e.abrupt("return",Promise.reject({message:r.message,code:r.code}));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"poolDetail",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&n){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/poolDetail/")+n);case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addrTransHistory",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/addrTransHistory/").concat(n));case 3:if(!(a=e.sent).success){e.next=6;break}return e.abrupt("return",a.data);case 6:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tokenDetail",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&n){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get(this.apiURL+"/chainId/".concat(t,"/explorer/tokenDetail/")+n);case 5:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",Promise.reject({message:a.message,code:a.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"cryptoRate",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get(this.apiURL+"/rate/crypto/chainId/".concat(t));case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fiatRate",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",{message:"invalid input"});case 3:return e.next=5,this._get(this.apiURL+"/rate/fiat");case 5:if(!(n=e.sent).success){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",Promise.reject({message:n.message,code:n.code}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject({message:e.t0}));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"accessTokenRenew",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,a=t.tokenSecret,e.prev=1,c={token:n,tokenSecret:a},e.next=5,this.httpAgent.post(this.apiURL+"/token/renew",c);case 5:if(!(r=e.sent).success){e.next=9;break}return this._setInfo(r.data.token,r.data.tokenSecret),e.abrupt("return",r.data);case 9:return e.abrupt("return",Promise.reject({message:r.message,code:r.code}));case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",Promise.reject({message:e.t0}));case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpAgent.get(t);case 3:if((n=e.sent).code!==ba.EXPIRED_ACCESS_TOKEN){e.next=10;break}return e.next=7,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 7:return e.next=9,this.httpAgent.get(t);case 9:n=e.sent;case 10:return e.abrupt("return",n);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.code!==ba.EXPIRED_ACCESS_TOKEN){e.next=25;break}return e.prev=16,e.next=19,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 19:return e.abrupt("return",this.httpAgent.get(t));case 22:return e.prev=22,e.t1=e.catch(16),e.abrupt("return",Promise.reject(e.t0));case 25:return e.abrupt("return",Promise.reject(e.t0));case 26:case"end":return e.stop()}}),e,this,[[0,13],[16,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_post",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpAgent.post(t,n);case 3:if((a=e.sent).code!==ba.EXPIRED_ACCESS_TOKEN){e.next=10;break}return e.next=7,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 7:return e.next=9,this.httpAgent.post(t,n);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.code!==ba.EXPIRED_ACCESS_TOKEN){e.next=25;break}return e.prev=16,e.next=19,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 19:return e.abrupt("return",this.httpAgent.post(t,n));case 22:return e.prev=22,e.t1=e.catch(16),e.abrupt("return",Promise.reject(e.t0));case 25:return e.abrupt("return",Promise.reject(e.t0));case 26:case"end":return e.stop()}}),e,this,[[0,13],[16,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpAgent.delete(t,n);case 3:if((a=e.sent).code!==ba.EXPIRED_ACCESS_TOKEN){e.next=10;break}return e.next=7,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 7:return e.next=9,this.httpAgent.delete(t,n);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.code!==ba.EXPIRED_ACCESS_TOKEN){e.next=25;break}return e.prev=16,e.next=19,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 19:return e.abrupt("return",this.httpAgent.delete(t,n));case 22:return e.prev=22,e.t1=e.catch(16),e.abrupt("return",Promise.reject(e.t0));case 25:return e.abrupt("return",Promise.reject(e.t0));case 26:case"end":return e.stop()}}),e,this,[[0,13],[16,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_put",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpAgent.put(t,n);case 3:if((a=e.sent).code!==ba.EXPIRED_ACCESS_TOKEN){e.next=10;break}return e.next=7,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 7:return e.next=9,this.httpAgent.put(t,n);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.code!==ba.EXPIRED_ACCESS_TOKEN){e.next=25;break}return e.prev=16,e.next=19,this.accessTokenRenew({token:this.token,tokenSecret:this.tokenSecret});case 19:return e.abrupt("return",this.httpAgent.put(t,n));case 22:return e.prev=22,e.t1=e.catch(16),e.abrupt("return",Promise.reject(e.t0));case 25:return e.abrupt("return",Promise.reject(e.t0));case 26:case"end":return e.stop()}}),e,this,[[0,13],[16,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_setInfo",value:function(e,t){var n=this;this.token=e,this.tokenSecret=t,this.httpAgent.setToken(e);try{var a=1e3*Object(va.decode)(e).exp-Date.now()-5e3;console.log("renew token timeout",a),this.tokenRenewTimeout&&(clearTimeout(this.tokenRenewTimeout),this.tokenRenewTimeout=null),this.tokenRenewTimeout=setTimeout(Object(h.a)(p.a.mark((function a(){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.accessTokenRenew({token:e,tokenSecret:t});case 2:case"end":return a.stop()}}),a)}))),a)}catch(c){this.tokenRenewTimeout=null}}}]),e}(),ka=Oa,_a=n(366).Subject,ga=function(){function e(t){Object(j.a)(this,e),this.setMessenger(),this.syncInterval=3600,this.lunar=new pa.a,this.api={apiURL:"",apiKey:"",apiSecret:""},this.communicator=new ka(this.api),this.network=t;var n=this.findContractByNetwork(t);this.routerContract=n,this.poolList=[],this.assetList=[],this.histories=[],this.walletList=this.lunar.env.wallets.map((function(e){switch(e){case"Metamask":return{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/MetaMask_Fox.svg/440px-MetaMask_Fox.svg.png",name:"MetaMask"};case"imToken":return{src:ha,name:"imToken"};case"TideWallet":return{src:ha,name:"TideWallet"};default:return[]}}))}return Object(m.a)(e,[{key:"messenger",get:function(){return this._messenger}},{key:"setMessenger",value:function(){this._messenger=new _a}},{key:"walletList",get:function(){return this._walletList},set:function(e){this._walletList=e}},{key:"routerContract",get:function(){return this._routerContract},set:function(e){this._routerContract=e}},{key:"network",get:function(){return this._network},set:function(e){this._network=e}},{key:"connectedAccount",get:function(){return this._connectedAccount},set:function(e){this._connectedAccount=e}},{key:"nativeCurrency",get:function(){return this._nativeCurrency},set:function(e){this._nativeCurrency=e}},{key:"isConnected",get:function(){return this._isConnected},set:function(e){this._isConnected=e}},{key:"factoryContract",get:function(){return this._factoryContract},set:function(e){this._factoryContract=e}},{key:"pairLength",get:function(){return this._pairLength},set:function(e){this._pairLength=e}},{key:"findContractByNetwork",value:function(e){var t;if("BSCTestnet"===e.key)t="0x214798a5ca2Fc1cD0d9E4020eCA384406AB67755";else t=w;return t}},{key:"getData",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){var c,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="0x".concat(I()(t).toString("hex").slice(0,8)),e.prev=1,e.next=4,this.lunar.getData({contract:a,data:"".concat(n?c+n:c)});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),console.log("GOT ERROR! ".concat(t," ").concat(c)),e.prev=11,e.next=14,E(c,n,a);case 14:return o=e.sent,e.abrupt("return",o);case 18:throw e.prev=18,e.t1=e.catch(11),console.log("".concat(t," error"),e.t1),e.t1;case 22:case"end":return e.stop()}}),e,this,[[1,8],[11,18]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getNativeCurrency",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,a,c,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=this.nativeCurrency)||void 0===t?void 0:t.contract){e.next=5;break}return e.next=3,this.getData("WETH()",null,this.routerContract);case 3:n=e.sent,this.nativeCurrency={contract:"0x".concat(n.slice(26,66)),decimals:this.network.nativeCurrency.decimals,symbol:this.network.nativeCurrency.symbol};case 5:if(!this.isConnected||!this.connectedAccount){e.next=10;break}return e.next=8,this.getBalance({contract:null===(a=this.nativeCurrency)||void 0===a?void 0:a.contract,address:null===(c=this.connectedAccount)||void 0===c?void 0:c.contract});case 8:r=e.sent,this.nativeCurrency=Object(A.a)(Object(A.a)({},this.nativeCurrency),{},{balanceOf:r});case 10:console.log("this.getNativeCurrency",this.nativeCurrency),o={evt:"UpdateNativeCurrency",data:this.nativeCurrency},this.messenger.next(o);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFactoryContract",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("factory()",null,this.routerContract);case 2:t=e.sent,this.factoryContract="0x".concat(t.slice(26,66)),console.log("this.factoryContract",this.factoryContract);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"switchNetwork",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isConnected=!1,e.prev=1,e.next=4,this.lunar.switchBlockchain({blockchain:t});case 4:this.isConnected=!0,n=this.findContractByNetwork(t),this.routerContract=n,this.factoryContract="",this.nativeCurrency=null,this.network=t,this.poolList=[],this.assetList=[],e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.connectedAccount=null,this.isConnected=!1,e.next=4,this.lunar.disconnect();case 4:this.poolList=this.poolList.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{balanceOf:0,share:0,balanceOfToken0InPool:0,balanceOfToken1InPool:0})})),this.assetList=this.assetList.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{balanceOf:0})}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next="MetaMask"===e.t0?4:"imToken"===e.t0?8:12;break;case 4:return e.next=6,this.lunar.connect({wallet:pa.a.Wallets.Metamask,blockchain:this.network});case 6:case 10:return n=e.sent,e.abrupt("break",13);case 8:return e.next=10,this.lunar.connect({wallet:pa.a.Wallets[t],blockchain:this.network});case 12:return e.abrupt("break",13);case 13:return this.isConnected=!!n,a={evt:"UpdateConnectedStatus",data:this.isConnected},this.messenger.next(a),e.t1=this.lunar.address,e.next=19,this.getBalance({address:this.lunar.address});case 19:return e.t2=e.sent,this.connectedAccount={contract:e.t1,balanceOf:e.t2},c={evt:"UpdateConnectedAccount",data:this.connectedAccount},this.messenger.next(c),console.log("connect connectedAccount",this.connectedAccount),e.next=26,this.getNativeCurrency();case 26:return e.next=28,this.getContractData(!0);case 28:return e.abrupt("return",{connectedAccount:this.connectedAccount});case 31:throw e.prev=31,e.t3=e.catch(0),console.log("connect in TideTimeSwapContract",e.t3),e.t3;case 35:case"end":return e.stop()}}),e,this,[[0,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolContractByTokens",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.replace("0x","").padStart(64,"0"),c=n.replace("0x","").padStart(64,"0"),this.factoryContract){e.next=5;break}return e.next=5,this.getFactoryContract();case 5:return e.next=7,this.getData("getPair(address,address)",a+c,this.factoryContract);case 7:return r=e.sent,e.abrupt("return","0x".concat(r.slice(26,66)));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolContractByIndex",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.toString(16).padStart(64,"0"),this.factoryContract||this.getFactoryContract(),e.next=4,this.getData("allPairs(uint256)",n,this.factoryContract);case 4:return a=e.sent,e.abrupt("return","0x".concat(a.slice(26,66)));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolTokenContract",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("token".concat(t,"()"),null,n);case 2:return a=e.sent,c="0x".concat(a.slice(26,66)),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSelectedPool",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a,c,r,o,s,i,l,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:if(null===(a=this.nativeCurrency)||void 0===a?void 0:a.contract){e.next=5;break}return e.next=5,this.getNativeCurrency();case 5:if(c=t.contract===this.nativeCurrency.contract?"0x0000000000000000000000000000000000000000":t.contract,r=n.contract===this.nativeCurrency.contract?"0x0000000000000000000000000000000000000000":n.contract,o=this.poolList.findIndex((function(e){return(c===e.token0.contract||c===e.token1.contract)&&(r===e.token0.contract||r===e.token1.contract)})),console.log("getSelectedPool findIndex",o),-1!==o){e.next=31;break}return e.next=12,this.getPoolContractByTokens(c,r);case 12:if(s=e.sent,console.log("poolContract ",s),!k.gt(parseInt(s,16),"0")){e.next=30;break}return e.next=17,this.getPoolTokenContract(0,s);case 17:return i=e.sent,e.next=20,this.getPoolTokenContract(1,s);case 20:return l=e.sent,e.next=23,this.getPoolDetail(s);case 23:return u=e.sent,e.next=26,this.getPoolByContract({poolContract:s,token0Contract:i,token1Contract:l});case 26:return d=e.sent,e.abrupt("return",Object(A.a)(Object(A.a)({},d),u));case 30:return e.abrupt("return",null);case 31:return console.log("this.poolList[index] ",this.poolList[o]),e.abrupt("return",this.poolList[o]);case 33:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a,c,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contract,a=t.address,e.prev=1,e.next=4,this.lunar.getBalance({contract:n,address:a});case 4:c=e.sent,e.next=14;break;case 7:return e.prev=7,e.t0=e.catch(1),r=a.replace("0x","").padStart(64,"0"),e.next=12,this.getData("balanceOf(address)",r,n);case 12:o=e.sent,c=parseInt(o,16);case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenDetail",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.tokenDetail(this.network.chainId,t.contract);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return n||(n={priceToEth:{value:"".concat(1e7*Math.random()),change:"".concat(1*Math.random()>.5?"+":"-").concat((1*Math.random()).toFixed(2))},volume:{value:"".concat(1e7*Math.random()),change:"".concat(1*Math.random()>.5?"+":"-").concat((1*Math.random()).toFixed(2))}}),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenByContract",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a,c,r,o,s,i,l,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===this.nativeCurrency.contract&&(n=this.assetList.find((function(e){return k.eq(e.contract,0)}))),n||(n=this.assetList.find((function(e){return e.contract===t}))),n){e.next=32;break}return e.prev=3,e.next=6,this.lunar.getAsset({contract:t});case 6:s=e.sent,a=s.symbol,c=s.decimals,r=s.totalSupply,o=s.name,e.next=31;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,this.getData("symbol()",null,t);case 17:return i=e.sent,a=z(J(i)[2]),e.next=21,this.getData("decimals()",null,t);case 21:return l=e.sent,c=parseInt(l,16),e.next=25,this.getData("totalSupply()",null,t);case 25:return u=e.sent,r=parseInt(u,16),e.next=29,this.getData("name()",null,t);case 29:d=e.sent,o=z(J(d)[2]);case 31:n={id:q(6),contract:t,iconSrc:L,name:o,symbol:a,decimals:c,totalSupply:r};case 32:return e.abrupt("return",n);case 33:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolBalanceOf",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a,c,r,o,s,i,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=((null===(n=this.connectedAccount)||void 0===n?void 0:n.contract)||this.lunar.address).replace("0x","").padStart(64,"0"),e.next=3,E("balanceOf(address)",a,t.poolContract);case 3:return c=e.sent,r=k.toCurrencyUint(parseInt(c,16),t.decimals),console.log("balanceOf",r),o=k.gt(t.totalSupply,"0")?k.div(r,t.totalSupply):"0",s=k.gt(o,"0")?k.mult(o,t.poolBalanceOfToken0):"0",i=k.gt(o,"0")?k.mult(o,t.poolBalanceOfToken1):"0",l={balanceOf:r,share:o,balanceOfToken0InPool:s,balanceOfToken1InPool:i},console.log("balance",Object(A.a)(Object(A.a)({},t),l)),e.abrupt("return",Object(A.a)(Object(A.a)({},t),l));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAssetBalanceOf",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a,c,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k.eq(t.contract,0)){e.next=6;break}return e.next=3,this.getBalance({address:null===(a=this.connectedAccount)||void 0===a?void 0:a.contract});case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,this.getBalance({contract:t.contract,address:null===(c=this.connectedAccount)||void 0===c?void 0:c.contract});case 8:e.t0=e.sent;case 9:return r=e.t0,k.eq(t.contract,0)&&(this.connectedAccount=Object(A.a)(Object(A.a)({},this.connectedAccount),{},{balanceOf:r}),o={evt:"UpdateConnectedAccount",data:this.connectedAccount},this.messenger.next(o)),e.abrupt("return",Object(A.a)(Object(A.a)({},t),{},{balanceOf:r}));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updatePools",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1===(a=n&&k.gt(this.poolList.length,k.minus(n,1))?this.poolList[n].poolContract===t.poolContract?n:null:this.poolList.findIndex((function(e){return t.poolContract===e.poolContract})))?(this.poolList=this.poolList.concat(t),console.log("this.poolList",this.poolList)):(this.poolList[a]=t,console.log("this.poolList",this.poolList));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateAssets",value:function(e,t){var n;-1===(n=t?this.assetList[t].contract===e.contract?t:null:this.assetList.findIndex((function(t){return e.contract===t.contract})))?this.assetList=this.assetList.concat(e):this.assetList[n]=e}},{key:"searchToken",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a,c,r,o,s,i,l,u,d,h,b,v,j,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.assetList.findIndex((function(e){return e.contract.toLowerCase()===t.toLowerCase()})),c=-1!==a?this.assetList[a]:null,"0x8b3192f5eebd8579568a2ed41e6feb402f93f73f"===t&&console.log("searchToken",c),!c||n){e.next=5;break}return e.abrupt("return",this.assetList[a]);case 5:if(c){e.next=54;break}return e.prev=6,e.next=9,this.communicator.searchToken(this.network.chainId,t);case 9:(c=e.sent).iconSrc=k.eq(t,0)?"https://www.tidebit.one/icons/eth.png":L,"0x8b3192f5eebd8579568a2ed41e6feb402f93f73f"===t&&console.log("searchToken",c),e.next=54;break;case 14:return e.prev=14,e.t0=e.catch(6),console.log(e.t0),e.prev=17,e.next=20,this.lunar.getAsset({contract:t});case 20:l=e.sent,r=l.symbol,o=l.decimals,s=l.totalSupply,i=l.name,e.next=53;break;case 27:return e.prev=27,e.t1=e.catch(17),console.log(e.t1),e.prev=30,e.next=33,this.getData("symbol()",null,t);case 33:return u=e.sent,r=z(J(u)[2]),e.next=37,this.getData("decimals()",null,t);case 37:return d=e.sent,o=parseInt(d,16),e.next=41,this.getData("totalSupply()",null,t);case 41:return h=e.sent,s=parseInt(h,16),e.next=45,this.getData("name()",null,t);case 45:b=e.sent,i=z(J(b)[2]),e.next=53;break;case 49:return e.prev=49,e.t2=e.catch(30),console.log(e.t2),e.abrupt("return",null);case 53:c={id:"".concat(this.network.chainId,"-").concat(t),contract:t,iconSrc:k.eq(t,0)?"https://www.tidebit.one/icons/eth.png":L,name:i,symbol:r,decimals:o,totalSupply:s,chainId:this.network.chainId};case 54:return e.next=56,this.getTokenDetail(c);case 56:if(j=e.sent,!this.isConnected||!this.connectedAccount){e.next=62;break}return e.next=60,this.getAssetBalanceOf(c);case 60:m=e.sent,v=m.balanceOf;case 62:return c=Object(A.a)(Object(A.a)(Object(A.a)({},c),j),{},{balanceOf:v}),this.updateAssets(c),"0x8b3192f5eebd8579568a2ed41e6feb402f93f73f"===t&&console.log("searchToken",c),e.abrupt("return",c);case 66:case"end":return e.stop()}}),e,this,[[6,14],[17,27],[30,49]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolDetail",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.poolDetail(this.network.chainId,t);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return n||(n={liquidity:"--",yield:"--",volume:{value:"".concat(1e7*Math.random()),change:"".concat(1*Math.random()>.5?"+":"-").concat((1*Math.random()).toFixed(2))},tvl:{value:"".concat(1e7*Math.random()),change:"".concat(1*Math.random()>.5?"+":"-").concat((1*Math.random()).toFixed(2))},irr:"3",interest24:"".concat(1e7*Math.random())}),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolByContract",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a,c,r,o,s,i,l,u,d,h,b,v,j,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.poolContract,a=t.token0Contract,c=t.token1Contract,a===this.nativeCurrency.contract&&(r=this.assetList.find((function(e){return k.eq(e.contract,0)}))),r){e.next=6;break}return e.next=5,this.searchToken(a);case 5:r=e.sent;case 6:if(console.log("token0",r),c===this.nativeCurrency.contract&&(o=this.assetList.find((function(e){return k.eq(e.contract,0)}))),o){e.next=12;break}return e.next=11,this.searchToken(c);case 11:o=e.sent;case 12:return console.log("token1",o),e.next=15,this.getData("getReserves()",null,n);case 15:return s=e.sent,i=J(s.replace("0x",""),64),l=k.toCurrencyUint(k.toBn(i[0]),r.decimals),u=k.toCurrencyUint(k.toBn(i[1]),o.decimals),console.log("reserve",i),console.log("poolBalanceOfToken0",l),console.log("poolBalanceOfToken1",u),e.next=24,this.getData("decimals()",null,n);case 24:return d=e.sent,h=parseInt(d,16),e.next=28,this.getData("totalSupply()",null,n);case 28:return b=e.sent,v=k.toCurrencyUint(parseInt(b,16),h),e.next=32,this.getPoolDetail(n);case 32:return j=e.sent,m=Object(A.a)({id:q(6),poolContract:n,decimals:h,totalSupply:v,name:"".concat(r.symbol,"/").concat(o.symbol),token0:r,token1:o,poolBalanceOfToken0:l,poolBalanceOfToken1:u},j),e.abrupt("return",m);case 35:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAddrHistory",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.communicator.addrTransHistory(this.network.chainId,this.connectedAccount.contract);case 2:return t=e.sent,console.log("getAddrHistory.histories",t),e.next=6,Promise.all(t.map((function(e){return new Promise(function(){var t=Object(h.a)(p.a.mark((function t(n,c){var r,o,s,i,l,u,d,h,b,v;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.type){t.next=14;break}return t.next=3,a.searchToken(e.fromTokenContract);case 3:return r=t.sent,t.next=6,a.searchToken(e.toTokenContract);case 6:o=t.sent,s=k.toCurrencyUint(e.amountIn,r.decimals),i=k.toCurrencyUint(e.amountOut,o.decimals),l=a.updateHistory({type:S,transactionHash:e.transactionHash,chainId:e.chainId,token0:r,token1:o,token0AmountChange:s,token1AmountChange:i,timestamp:1e3*e.timestamp}),console.log("_history",l),n(l),t.next=25;break;case 14:if(1!==e.type){t.next=25;break}return t.next=17,a.searchToken(e.token0Contract);case 17:return u=t.sent,t.next=20,a.searchToken(e.token1Contract);case 20:d=t.sent,h=k.toCurrencyUint(e.token0AmountIn,u.decimals),b=k.toCurrencyUint(e.token1AmountIn,d.decimals),v=a.updateHistory({type:S,transactionHash:e.transactionHash,chainId:e.chainId,token0:u,token1:d,token0AmountChange:h,token1AmountChange:b,timestamp:1e3*e.timestamp}),n(v);case 25:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 6:this.histories=e.sent,n={evt:"UpdateHistories",data:this.histories},this.messenger.next(n),console.log("this.histories",this.histories);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPoolByIndex",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPoolContractByIndex(t);case 2:return a=e.sent,e.next=5,this.searchPool({index:t,poolContract:a,update:n});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getContractData",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,a,c,r,o,s,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],!(Date.now()-this.lastTimeSync>this.syncInterval||t)){e.next=31;break}if(null===(n=this.nativeCurrency)||void 0===n?void 0:n.contract){e.next=6;break}return e.next=6,this.getNativeCurrency();case 6:if(this.factoryContract){e.next=9;break}return e.next=9,this.getFactoryContract();case 9:return e.next=11,this.getTVLHistory();case 11:return a=e.sent,e.next=14,this.getVolumeData();case 14:return c=e.sent,e.next=17,this.getOverviewData();case 17:return r=e.sent,o={evt:"UpdateOveriew",data:r},this.messenger.next(o),this.messenger.next(o),s={evt:"UpdateChart",data:{tvl:a,volume:c}},this.messenger.next(s),e.next=25,this.getSupportedTokens();case 25:return e.next=27,this.getSupportedPools();case 27:if(!this.isConnected||!this.connectedAccount){e.next=30;break}return e.next=30,this.getAddrHistory();case 30:this.lastTimeSync=Date.now();case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setMessenger(),e.next=3,this.getContractData(!0);case 3:this.timer=setInterval((function(){console.log("synce"),t.getContractData()}),this.syncInterval);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContractDataLength",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=this.nativeCurrency)||void 0===t?void 0:t.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:if(this.factoryContract){e.next=6;break}return e.next=6,this.getFactoryContract();case 6:return e.next=8,this.getData("allPairsLength()",null,this.factoryContract);case 8:return n=e.sent,a=parseInt(n,16),console.log("getContractDataLength",a),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPriceData",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.priceData(this.network.chainId,t);case 3:return n=e.sent,a=n.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{date:new Date(e.x)})})),console.log("priceData",a),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTVLHistory",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.tvlHistory(this.network.chainId);case 3:return t=e.sent,n=t.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{date:X(e.date).day})})),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getOverviewData",value:function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var t=setTimeout((function(){e([{title:"Volume 24H",data:{value:"1.65b",change:"-5.57%"}},{title:"Fees 24H",data:{value:"3.36m",change:"-4.42%"}},{title:"TVL",data:{value:"3.84b",change:"+0.71%"}}]),clearTimeout(t)}),500)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getVolumeData",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.volume24hr(this.network.chainId);case 3:return t=e.sent,n=t.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{date:X(e.date).day})})),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSupportedTokens",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,a,c,r=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="0",e.next=4,this.communicator.tokenList(this.network.chainId);case 4:return n=e.sent,e.next=7,Promise.all(n.map((function(e){return new Promise(function(){var n=Object(h.a)(p.a.mark((function n(a,c){var o,s,i;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getTokenDetail(e);case 2:if(o=n.sent,s=Object(A.a)(Object(A.a)(Object(A.a)({},e),o),{},{iconSrc:k.eq(e.contract,0)?"https://www.tidebit.one/icons/eth.png":L}),!r.isConnected||!r.connectedAccount){n.next=12;break}return n.next=7,r.getAssetBalanceOf(s);case 7:i=n.sent,k.gt(i.balanceOf,"0")&&(t=k.plus(t,i.balanceOf)),a(i),n.next=13;break;case 12:a(s);case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 7:return n=e.sent,a={evt:"UpdateTotalBalance",data:t},this.messenger.next(a),this.assetList=n,console.log("getSupportedTokens this.assetList",this.assetList),c={evt:"UpdateSupportedTokens",data:this.assetList},this.messenger.next(c),e.abrupt("return",this.assetList);case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSupportedPools",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.communicator.poolList(this.network.chainId);case 3:return t=e.sent,console.log("getSupportedPools",t),e.next=7,Promise.all(t.map((function(e){return new Promise(function(){var t=Object(h.a)(p.a.mark((function t(n,c){var r,o,s,i,l,u,d,h;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.token0Contract===a.nativeCurrency.contract&&(r=a.assetList.find((function(e){return k.eq(e.contract,0)}))),r){t.next=5;break}return t.next=4,a.searchToken(e.token0Contract);case 4:r=t.sent;case 5:if(e.token1Contract===a.nativeCurrency.contract&&(o=a.assetList.find((function(e){return k.eq(e.contract,0)}))),o){t.next=10;break}return t.next=9,a.searchToken(e.token1Contract);case 9:o=t.sent;case 10:return s=k.toCurrencyUint(k.toBn(e.reserve0),r.decimals),i=k.toCurrencyUint(k.toBn(e.reserve1),o.decimals),l=k.toCurrencyUint(e.totalSupply,e.decimals),t.next=15,a.getPoolDetail(e.poolContract);case 15:if(u=t.sent,d=Object(A.a)(Object(A.a)(Object(A.a)({},e),{},{token0:r,token1:o,poolBalanceOfToken0:s,poolBalanceOfToken1:i,name:"".concat(r.symbol,"/").concat(o.symbol)},u),{},{totalSupply:l}),!a.isConnected||!a.connectedAccount){t.next=24;break}return t.next=20,a.getPoolBalanceOf(d);case 20:h=t.sent,n(h),t.next=25;break;case 24:n(d);case 25:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 7:t=e.sent,this.poolList=t,console.log("getSupportedPools this.poolList",this.poolList),n={evt:"UpdateSupportedPools",data:this.poolList},this.messenger.next(n),console.log("getSupportedPools !this.poolList.length",!this.poolList.length),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"findPoolIndex",value:function(e){var t=this,n=e.poolContract,a=e.token0Contract,c=e.token1Contract;return n?this.poolList.findIndex((function(e){return e.poolContract.toLowerCase()===n.toLowerCase()})):!n&&a&&c?this.poolList.findIndex((function(e){return e.token0.contract.toLowerCase()===(a.toLowerCase()===t.nativeCurrency.contract.toLowerCase()?"0x0000000000000000000000000000000000000000":a)&&e.token1.contract.toLowerCase()===(c.toLowerCase()===t.nativeCurrency.contract.toLowerCase()?"0x0000000000000000000000000000000000000000":c)||e.token1.contract.toLowerCase()===(a.toLowerCase()===t.nativeCurrency.contract.toLowerCase()?"0x0000000000000000000000000000000000000000":a)&&e.token0.contract.toLowerCase()===(c.toLowerCase()===t.nativeCurrency.contract.toLowerCase()?"0x0000000000000000000000000000000000000000":c)})):-1}},{key:"searchPool",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a,c,r,o,s,i,l,u,d,h,b,v,j,m,f,x,O,_,g,y,C;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.index,a=t.poolContract,c=t.token0Contract,r=t.token1Contract,o=t.update){e.next=5;break}if(-1===(s=this.findPoolIndex({poolContract:a,token0Contract:c,token1Contract:r}))){e.next=5;break}return e.abrupt("return",this.poolList[s]);case 5:if(console.log("poolContract",a),a){e.next=12;break}return e.next=9,this.getPoolContractByTokens(k.eq(c,0)?this.nativeCurrency.contract:c,k.eq(r,0)?this.nativeCurrency.contract:r);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=a;case 13:if(a=e.t0,console.log("poolContract",a),a){e.next=17;break}return e.abrupt("return",null);case 17:return e.next=19,this.getPoolTokenContract(0,a);case 19:return c=e.sent,e.next=22,this.getPoolTokenContract(1,a);case 22:if(r=e.sent,c!==this.nativeCurrency.contract){e.next=30;break}return e.next=26,this.searchToken(c,o);case 26:return u=this.assetList.find((function(e){return k.eq(e.contract,0)})),e.next=29,this.getAssetBalanceOf(u);case 29:u=e.sent;case 30:if(u){e.next=34;break}return e.next=33,this.searchToken(c,o);case 33:u=e.sent;case 34:if(console.log("token0",u),r!==this.nativeCurrency.contract){e.next=42;break}return e.next=38,this.searchToken(r,o);case 38:return d=this.assetList.find((function(e){return k.eq(e.contract,0)})),e.next=41,this.getAssetBalanceOf(d);case 41:d=e.sent;case 42:if(d){e.next=46;break}return e.next=45,this.searchToken(r,o);case 45:d=e.sent;case 46:return console.log("token1",d),e.prev=47,e.next=50,this.communicator.searchPool(this.network.chainId,c,r);case 50:throw h=e.sent,b=k.toCurrencyUint(k.toBn(h.reserve0),u.decimals),v=k.toCurrencyUint(k.toBn(h.reserve1),d.decimals),h=Object(A.a)(Object(A.a)({},h),{},{token0:u,token1:d,poolBalanceOfToken0:b,poolBalanceOfToken1:v,name:"".concat(u.symbol,"/").concat(d.symbol)}),console.log(h),Error();case 58:return e.prev=58,e.t1=e.catch(47),console.log(e.t1),e.next=63,this.getData("getReserves()",null,a);case 63:return j=e.sent,m=J(j.replace("0x",""),64),i=k.toCurrencyUint(k.toBn(m[0]),u.decimals),l=k.toCurrencyUint(k.toBn(m[1]),d.decimals),e.next=69,this.getData("decimals()",null,a);case 69:return f=e.sent,x=parseInt(f,16),e.next=73,this.getData("totalSupply()",null,a);case 73:return O=e.sent,_=k.toCurrencyUint(parseInt(O,16),x),e.next=77,this.getPoolDetail(a);case 77:if(g=e.sent,y={},!this.isConnected||!this.connectedAccount){e.next=84;break}return e.next=82,this.getPoolBalanceOf(h);case 82:C=e.sent,y=C.balance;case 84:h=Object(A.a)(Object(A.a)({id:q(6),poolContract:a,decimals:x,totalSupply:_,token0:u,token1:d,poolBalanceOfToken0:i,poolBalanceOfToken1:l,name:"".concat(u.symbol,"/").concat(d.symbol)},g),y);case 85:return e.next=87,this.updatePools(h,n);case 87:return e.abrupt("return",h);case 88:case"end":return e.stop()}}),e,this,[[47,58]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAmountsIn",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a,c,r,o,s,i,l,u=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"getAmountsIn(uint256,address[])",a=k.toSmallestUnitHex(t,n[n.length-1].decimals).split(".")[0].padStart(64,"0"),c=k.toHex(n.length).padStart(64,"0"),r=n.reduce((function(e,t){return e+k.gt(t.contract,"0")?t.contract.replace("0x","").padStart(64,"0"):u.nativeCurrency.contract.replace("0x","").padStart(64,"0")}),""),o=a+"0000000000000000000000000000000000000000000000000000000000000040"+c+r,e.next=7,this.getData("getAmountsIn(uint256,address[])",o,this.routerContract);case 7:return s=e.sent,console.log("getAmountsIn result",s),i=J(s.replace("0x",""),64)[2],console.log("getAmountsIn parsedResult",i),l=k.toCurrencyUint(k.toBn(i),n[0].decimals),console.log("getAmountsIn amountIn",l),e.abrupt("return",l);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAmountsOut",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a,c,r,o,s,i,l,u,d,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"getAmountsOut(uint256,address[])",a=k.toSmallestUnitHex(t,n[0].decimals).split(".")[0].padStart(64,"0"),c=k.toHex(n.length).padStart(64,"0"),r=this.nativeCurrency.contract.replace("0x","").padStart(64,"0"),o=k.gt(n[0].contract,"0")?n[0].contract.replace("0x","").padStart(64,"0"):r,s=k.gt(n[n.length-1].contract,"0")?n[n.length-1].contract.replace("0x","").padStart(64,"0"):r,i=a+"0000000000000000000000000000000000000000000000000000000000000040"+c+o+s,e.next=9,this.getData("getAmountsOut(uint256,address[])",i,this.routerContract);case 9:return l=e.sent,console.log("getAmountsOut result",l),u=J(l.replace("0x",""),64),d=u[u.length-1],console.log("getAmountsOut parsedResult",d),h=k.toCurrencyUint(k.toBn(d),n[n.length-1].decimals),console.log("getAmountsOut amountOut",h),e.abrupt("return",h);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"isAllowanceEnough",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){var c,r,o,s,i,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"allowance(address,address)",o=null===(c=this.connectedAccount)||void 0===c?void 0:c.contract.replace("0x","").padStart(64,"0"),s=null===(r=this.routerContract)||void 0===r?void 0:r.replace("0x","").padStart(64,"0"),i=o+s,e.next=6,this.getData("allowance(address,address)",i,t);case 6:return l=e.sent,console.log("allowance result",l),u=k.toCurrencyUint(k.toBn(l),a),console.log("allowance amount",u),e.abrupt("return",k.gt(u,n));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"approve",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){var c,r,o,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"approve(address,uint256)",c="0x".concat(I()("approve(address,uint256)").toString("hex").slice(0,8)),r=this.routerContract.replace("0x","").padStart(64,"0"),o=n?k.toSmallestUnitHex(n,a).split(".")[0].padStart(64,"0"):"".padEnd(64,"f"),0,s={to:t,amount:0,data:c+r+o},e.next=9,this.lunar.send(s);case 9:return i=e.sent,console.log("approve result",i),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"updateHistory",value:function(e){var t=e.type,n=(e.chainId,e.transactionHash),a=e.token0,c=e.token0AmountChange,r=e.token1,o=e.token1AmountChange,s=e.timestamp;return{id:q(6),transactionHash:n,type:t,tokenA:{symbol:a.symbol,amount:c},tokenB:{symbol:(null===r||void 0===r?void 0:r.symbol)||"--",amount:o||"--"},dateTime:X(s)}}},{key:"createPair",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n){var a,c,r,o,s,i,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("createPair(address,address)",a="0x".concat(I()("createPair(address,address)").toString("hex").slice(0,8)),c=t.replace("0x","").padStart(64,"0"),r=n.replace("0x","").padStart(64,"0"),o=a+c+r,s=0,this.factoryContract){e.next=9;break}return e.next=9,this.getFactoryContract();case 9:return i={to:this.factoryContract,amount:s,data:o},e.next=12,this.lunar.send(i);case 12:return l=e.sent,console.log("createPair result",l),e.abrupt("return",l);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLatestPool",value:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addLiquidityETH",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){var c,r,o,s,i,l,u,d,h,b,v,j;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"addLiquidityETH(address,uint256,uint256,uint256,address,uint256)",r="0x".concat(I()("addLiquidityETH(address,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),o=t.contract.replace("0x","").padStart(64,"0"),s=k.toSmallestUnitHex(n,t.decimals).split(".")[0].padStart(64,"0"),i=k.toHex(Math.floor(k.mult(k.toSmallestUnit(n,t.decimals),"0.95"))).padStart(64,"0"),console.log("amountTokenMin",i),l=k.toSmallestUnitHex(a,18).split(".")[0].padStart(64,"0"),console.log("amountETHMin",l),u=null===(c=this.connectedAccount)||void 0===c?void 0:c.contract.replace("0x","").padStart(64,"0"),d=k.toHex(k.plus(Math.round(k.div(Date.now(),1e3)),1800)).padStart(64,"0"),h=r+o+s+i+l+u+d,console.log("data",h),b={to:this.routerContract,amount:a,data:h},e.prev=13,e.next=16,this.lunar.send(b);case 16:v=e.sent,j=this.findPoolIndex({token0Contract:t.contract,token1Contract:this.nativeCurrency.contract}),this.getLatestPool(j),console.log("addLiquidityETH result",v),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(13),console.log(e.t0);case 25:case"end":return e.stop()}}),e,this,[[13,22]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getTokenAAmount",value:function(e,t,n){var a,c;return(a=this.searchPool({token0Contract:e.contract,token1Contract:t.contract}))&&(c=a.token0.contract.toLowerCase()===e.contract.toLowerCase()?k.mult(k.div(a.poolBalanceOfToken0,a.poolBalanceOfToken1),n):k.mult(k.div(a.poolBalanceOfToken1,a.poolBalanceOfToken0),n)),{pool:a,amountADesired:c}}},{key:"getTokenBAmount",value:function(e,t,n){var a,c;return(a=this.searchPool({token0Contract:e.contract,token1Contract:t.contract}))&&(c=a.token0.contract.toLowerCase()===e.contract.toLowerCase()?k.mult(k.div(a.poolBalanceOfToken1,a.poolBalanceOfToken0),n):k.mult(k.div(a.poolBalanceOfToken0,a.poolBalanceOfToken1),n)),{pool:a,tokenA:e,tokenB:t,amountADesired:n,amountBDesired:c}}},{key:"addLiquidity",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a,c){var r,o,s,i,l,u,d,h,b,v,j,m,f,x;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"addLiquidity(address,address,uint256,uint256,uint256,uint256,address,uint256)",o="0x".concat(I()("addLiquidity(address,address,uint256,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),s=t.contract.replace("0x","").padStart(64,"0"),i=n.contract.replace("0x","").padStart(64,"0"),l=k.toSmallestUnitHex(a,t.decimals).split(".")[0].padStart(64,"0"),u=k.toSmallestUnitHex(c,n.decimals).split(".")[0].padStart(64,"0"),d=k.toHex(Math.floor(k.mult(k.toSmallestUnit(a,t.decimals),"0.95"))).padStart(64,"0"),h=k.toHex(Math.floor(k.mult(k.toSmallestUnit(c,n.decimals),"0.95"))).padStart(64,"0"),b=null===(r=this.connectedAccount)||void 0===r?void 0:r.contract.replace("0x","").padStart(64,"0"),v=k.toHex(k.plus(Math.round(k.div(Date.now(),1e3)),1800)).padStart(64,"0"),j=o+s+i+l+u+d+h+b+v,0,m={to:this.routerContract,amount:0,data:j},e.prev=13,e.next=16,this.lunar.send(m);case 16:return f=e.sent,console.log("addLiquidity result",f),x=this.findPoolIndex({token0Contract:t.contract,token1Contract:n.contract}),this.getLatestPool(x),e.abrupt("return",f);case 23:e.prev=23,e.t0=e.catch(13),console.log(e.t0);case 26:case"end":return e.stop()}}),e,this,[[13,23]])})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"provideLiquidity",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a,c){var r,o,s,i,l,u,d,h,b,v,j,m,f,x;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"addLiquidity(address,address,uint256,uint256,uint256,uint256,address,uint256)",o="0x".concat(I()("addLiquidity(address,address,uint256,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),s=t.contract.replace("0x","").padStart(64,"0"),i=n.contract.replace("0x","").padStart(64,"0"),l=k.toSmallestUnitHex(a,t.decimals).split(".")[0].padStart(64,"0"),u=k.toSmallestUnitHex(c,n.decimals).split(".")[0].padStart(64,"0"),d=k.toHex(Math.floor(k.mult(k.toSmallestUnit(a,t.decimals),"0.95"))).padStart(64,"0"),h=k.toHex(Math.floor(k.mult(k.toSmallestUnit(c,n.decimals),"0.95"))).padStart(64,"0"),b=null===(r=this.connectedAccount)||void 0===r?void 0:r.contract.replace("0x","").padStart(64,"0"),v=k.toHex(k.plus(Math.round(k.div(Date.now(),1e3)),1800)).padStart(64,"0"),j=o+s+i+l+u+d+h+b+v,0,m={to:this.routerContract,amount:0,data:j},e.prev=13,e.next=16,this.lunar.send(m);case 16:return f=e.sent,console.log("addLiquidity result",f),x=this.findPoolIndex({token0Contract:t.contract,token1Contract:n.contract}),this.getLatestPool(x),e.abrupt("return",f);case 23:e.prev=23,e.t0=e.catch(13),console.log(e.t0);case 26:case"end":return e.stop()}}),e,this,[[13,23]])})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"swapExactTokensForETH",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){var c,r,o,s,i,l,u,d,h,v,j,m,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(c=this.nativeCurrency)||void 0===c?void 0:c.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:return"swapExactTokensForETH(uint256,uint256,address[],address,uint256)",o="0x".concat(I()("swapExactTokensForETH(uint256,uint256,address[],address,uint256)").toString("hex").slice(0,8)),s=k.toSmallestUnitHex(t,a[0].decimals).split(".")[0].padStart(64,"0"),i=k.toHex(Math.floor(k.mult(k.toSmallestUnit(n,a[a.length-1].decimals),"0.995"))).padStart(64,"0"),l=null===(r=this.connectedAccount)||void 0===r?void 0:r.contract.replace("0x","").padStart(64,"0"),u=k.toHex(k.plus(Math.round(k.div(Date.now(),1e3)),1800)).padStart(64,"0"),d=k.toHex(a.length+1).padStart(64,"0"),h=[].concat(Object(b.a)(a),[this.nativeCurrency]).reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),v=o+s+i+"00000000000000000000000000000000000000000000000000000000000000a0"+l+u+d+h,0,j={to:this.routerContract,amount:0,data:v},e.prev=14,e.next=17,this.lunar.send(j);case 17:return m=e.sent,f=this.findPoolIndex({token0Contract:a[0].contract,token1Contract:a[a.length-1].contract}),this.getLatestPool(f),console.log("swapExactETHForTokens result",m),e.abrupt("return",m);case 24:e.prev=24,e.t0=e.catch(14),console.log(e.t0);case 27:case"end":return e.stop()}}),e,this,[[14,24]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"swapExactETHForTokens",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){var c,r,o,s,i,l,u,d,h,v,j,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(c=this.nativeCurrency)||void 0===c?void 0:c.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:return"swapExactETHForTokens(uint256,address[],address,uint256)",o="0x".concat(I()("swapExactETHForTokens(uint256,address[],address,uint256)").toString("hex").slice(0,8)),s=k.toHex(Math.floor(k.mult(k.toSmallestUnit(n,a[a.length-1].decimals),"0.995"))).padStart(64,"0"),i=null===(r=this.connectedAccount)||void 0===r?void 0:r.contract.replace("0x","").padStart(64,"0"),l=k.toHex(k.plus(Math.round(k.div(Date.now(),1e3)),1800)).padStart(64,"0"),u=k.toHex(a.length+1).padStart(64,"0"),d=[this.nativeCurrency].concat(Object(b.a)(a)).reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),h=o+s+"0000000000000000000000000000000000000000000000000000000000000080"+i+l+u+d,v={to:this.routerContract,amount:t,data:h},e.prev=12,e.next=15,this.lunar.send(v);case 15:return j=e.sent,console.log("swapExactETHForTokens result",j),m=this.findPoolIndex({token0Contract:a[0].contract,token1Contract:a[a.length-1].contract}),this.getLatestPool(m),e.abrupt("return",j);case 22:e.prev=22,e.t0=e.catch(12),console.log(e.t0);case 25:case"end":return e.stop()}}),e,this,[[12,22]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"swap",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a){var c,r,o,s,i,l,u,d,h,b,v,j,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(c=this.nativeCurrency)||void 0===c?void 0:c.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:return"swapExactTokensForTokens(uint256,uint256,address[],address,uint256)",o="0x".concat(I()("swapExactTokensForTokens(uint256,uint256,address[],address,uint256)").toString("hex").slice(0,8)),s=k.toSmallestUnitHex(t,a[0].decimals).split(".")[0].padStart(64,"0"),i=k.toSmallestUnitHex(n,a[a.length-1].decimals).split(".")[0].padStart(64,"0"),l=null===(r=this.connectedAccount)||void 0===r?void 0:r.contract.replace("0x","").padStart(64,"0"),u=k.toHex(k.plus(Math.round(k.div(Date.now(),1e3)),1800)).padStart(64,"0"),d=k.toHex(a.length).padStart(64,"0"),h=a.reduce((function(e,t){return e+t.contract.replace("0x","").padStart(64,"0")}),""),b=o+s+i+"00000000000000000000000000000000000000000000000000000000000000a0"+l+u+d+h,0,v={to:this.routerContract,amount:0,data:b},e.prev=14,e.next=17,this.lunar.send(v);case 17:return j=e.sent,console.log("swap result",j),m=this.findPoolIndex({token0Contract:a[0].contract,token1Contract:a[a.length-1].contract}),this.getLatestPool(m),e.abrupt("return",j);case 24:e.prev=24,e.t0=e.catch(14),console.log(e.t0);case 27:case"end":return e.stop()}}),e,this,[[14,24]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"removeLiquidityETH",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a,c,r){var o,s,i,l,u,d,h,b,v,j,m,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"removeLiquidityETH(address,uint256,uint256,uint256,address,uint256)",s="0x".concat(I()("removeLiquidityETH(address,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),i=n.contract.replace("0x","").padStart(64,"0"),l=k.toSmallestUnitHex(a,t.decimals).split(".")[0].padStart(64,"0"),u=k.toHex(Math.floor(k.mult(k.toSmallestUnit(c,n.decimals),"0.95"))).padStart(64,"0"),d=k.toHex(Math.floor(k.mult(k.toSmallestUnit(r,18),"0.95"))).padStart(64,"0"),h=null===(o=this.connectedAccount)||void 0===o?void 0:o.contract.replace("0x","").padStart(64,"0"),b=k.toHex(k.plus(Math.round(k.div(Date.now(),1e3)),1800)).padStart(64,"0"),v=s+i+l+u+d+h+b,0,j={to:this.routerContract,amount:0,data:v},e.prev=11,e.next=14,this.lunar.send(j);case 14:return m=e.sent,console.log("removeLiquidityETH result",m),f=this.findPoolIndex({poolContract:t.contract}),this.getLatestPool(f),e.abrupt("return",m);case 21:e.prev=21,e.t0=e.catch(11),console.log(e.t0);case 24:case"end":return e.stop()}}),e,this,[[11,21]])})));return function(t,n,a,c,r){return e.apply(this,arguments)}}()},{key:"takeLiquidity",value:function(){var e=Object(h.a)(p.a.mark((function e(t,n,a,c){var r,o,s,i,l,u,d,h,b,v,j,m,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"removeLiquidity(address,address,uint256,uint256,uint256,address,uint256)",o="0x".concat(I()("removeLiquidity(address,address,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),s=t.token0.contract.replace("0x","").padStart(64,"0"),i=t.token1.contract.replace("0x","").padStart(64,"0"),l=k.toSmallestUnitHex(n,t.decimals).split(".")[0].padStart(64,"0"),u=k.toSmallestUnitHex(a,t.token0.decimals).split(".")[0].padStart(64,"0"),d=k.toSmallestUnitHex(c,t.token1.decimals).split(".")[0].padStart(64,"0"),h=null===(r=this.connectedAccount)||void 0===r?void 0:r.contract.replace("0x","").padStart(64,"0"),b=k.toHex(k.plus(Math.round(k.div(Date.now(),1e3)),1800)).padStart(64,"0"),v=o+s+i+l+u+d+h+b,0,j={to:this.routerContract,amount:0,data:v},e.prev=12,e.next=15,this.lunar.send(j);case 15:return m=e.sent,console.log("takeLiquidity result",m),f=this.findPoolIndex({poolContract:t.contract}),this.getLatestPool(f),e.abrupt("return",m);case 22:e.prev=22,e.t0=e.catch(12),console.log(e.t0);case 25:case"end":return e.stop()}}),e,this,[[12,22]])})));return function(t,n,a,c){return e.apply(this,arguments)}}()}]),e}(),ya=ga,Ca=n(127).Config,wa=function(e){var t,n=Object(i.useMemo)((function(){return new ya(pa.a.Blockchains.EthereumTestnet)}),[]),a=Object(i.useState)(pa.a.Blockchains.EthereumTestnet),c=Object(v.a)(a,2),r=c[0],o=c[1],s=Object(i.useState)(pa.a.listBlockchain({testnet:Ca.isTestnet})),l=Object(v.a)(s,2),u=l[0],d=l[1],b=Object(i.useState)(n.walletList),j=Object(v.a)(b,2),m=j[0],f=j[1],x=Object(i.useState)(!1),O=Object(v.a)(x,2),k=O[0],_=O[1],y=Object(i.useState)(!0),C=Object(v.a)(y,2),w=C[0],N=C[1],S=Object(i.useState)(null),T=Object(v.a)(S,2),P=T[0],L=T[1],B=Object(i.useState)({dollarSign:"$",symbol:"USD",exchangeRate:"1"}),I=Object(v.a)(B,2),E=I[0],D=(I[1],Object(i.useState)([])),H=Object(v.a)(D,2),R=H[0],U=H[1],F=Object(i.useState)([]),q=Object(v.a)(F,2),M=q[0],K=q[1],V=Object(i.useState)([]),W=Object(v.a)(V,2),X=W[0],J=W[1],z=Object(i.useState)([]),Y=Object(v.a)(z,2),Q=Y[0],Z=Y[1],$=Object(i.useState)([]),ee=Object(v.a)($,2),te=ee[0],ne=ee[1],ae=Object(i.useState)(!1),ce=Object(v.a)(ae,2),re=ce[0],oe=ce[1],se=Object(i.useState)(null),ie=Object(v.a)(se,2),le=ie[0],ue=ie[1],de=Object(i.useState)(null),pe=Object(v.a)(de,2),he=pe[0],be=pe[1],ve=Object(i.useState)("0.0"),je=Object(v.a)(ve,2),me=je[0],fe=je[1],xe=Object(i.useState)("-.-"),Oe=Object(v.a)(xe,2),ke=Oe[0],_e=(Oe[1],Object(i.useState)([])),ge=Object(v.a)(_e,2),ye=ge[0],Ce=ge[1];null===(t=n.messenger)||void 0===t||t.subscribe((function(e){switch(console.log("ttsc.messenger",e),e.evt){case"UpdateConnectedStatus":_(e.data),e.data?(_(e.data),be(n.connectedAccount),L(n.nativeCurrency)):(_(e.data),be(null),oe(e.data),N(e.data));break;case"UpdateChart":J(e.data.tvl),Z(e.data.volume);break;case"UpdateTotalBalance":fe(e.data);break;case"UpdateConnectedAccount":be(e.data);break;case"UpdateNativeCurrency":L(e.data);break;case"UpdateSupportedNetworks":d(e.data);break;case"UpdateConnectOptions(":f(n.walletList);break;case"UpdateNetwork":o(e.data);break;case"UpdateSupportedTokens":K(e.data);break;case"UpdateSupportedPools":U(e.data);break;case"UpdateHistories":Ce(e.data);break;case"UpdateOveriew":ne(e.data)}})),Object(i.useEffect)((function(){return n.start().then((function(){N(!1)})),function(){}}),[n]);var we=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(!0),e.next=4,n.connect(t);case 4:e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(0),console.log("connect error",e.t0),ue({hasError:!0,message:e.t0.message}),e.t0;case 11:N(!1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[n]),Ne=function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.disconnect();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("disconnect error",e.t0),ue(Object(A.a)(Object(A.a)({},e.t0),{},{hasError:!0}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Se=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("switchNetwork network",t),e.prev=1,e.next=4,n.switchNetwork(t);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("switchNetwork error",e.t0),ue(Object(A.a)(Object(A.a)({},e.t0),{},{hasError:!0}));case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),[n]),Te=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getPoolBalanceOf(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),Pe=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getAssetBalanceOf(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),Ae=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t){var a,c,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.index,c=t.poolContract,r=t.token0Contract,o=t.token1Contract,e.next=3,n.searchPool({index:a,poolContract:c,token0Contract:r,token1Contract:o});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),Le=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getPriceData(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),Be=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.searchToken(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),Ie=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.isAllowanceEnough(t,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[n]),Ee=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.approve(t,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[n]),De=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.createPair(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),He=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a,c,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.addLiquidityETH(t,a,c,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),[n]),Re=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a,c,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.provideLiquidity(t,a,c,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),[n]),Ue=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.swap(t,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[n]),Fe=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.swapExactTokensForETH(t,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[n]),qe=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.swapExactETHForTokens(t,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[n]),Me=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getAmountsIn(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),Ke=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getAmountsOut(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),Ve=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a,c,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.takeLiquidity(t,a,c,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),[n]),We=Object(i.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t,a,c,r,o){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.removeLiquidityETH(t,a,c,r,o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r){return e.apply(this,arguments)}}(),[n]),Xe=Object(i.useCallback)((function(e,t,a){return n.getTokenAAmount(e,t,a)}),[n]),Je=Object(i.useCallback)((function(e,t,a){return n.getTokenBAmount(e,t,a)}),[n]);return Object(G.jsx)(g.Provider,{value:{fiat:E,tvlChartData:X,volumeChartData:Q,totalBalance:me,totalReward:ke,initial:re,isLoading:w,isConnected:k,connectOptions:m,connectedAccount:he,histories:ye,supportedNetworks:u,supportedPools:R,supportedTokens:M,overview:te,currentNetwork:r,nativeCurrency:P,error:le,isInit:function(){return oe(!1)},onConnect:we,onDisconnect:Ne,switchNetwork:Se,getAssetBalanceOf:Pe,getPoolBalanceOf:Te,searchPool:Ae,getPriceData:Le,searchToken:Be,isAllowanceEnough:Ie,approve:Ee,createPair:De,provideLiquidity:Re,addLiquidityETH:He,getAmountsIn:Me,getAmountsOut:Ke,swap:Ue,swapExactTokensForETH:Fe,swapExactETHForTokens:qe,takeLiquidity:Ve,removeLiquidityETH:We,setSupportedTokens:K,setSupportedPools:U,getTokenAAmount:Xe,getTokenBAmount:Je},children:e.children})};o.a.render(Object(G.jsx)(wa,{children:Object(G.jsx)(s.a,{children:Object(G.jsx)(ua,{})})}),document.getElementById("root"))},37:function(e,t,n){e.exports={"coin-input":"CoinInput_coin-input__hYd5s",container:"CoinInput_container__13iNY",detail:"CoinInput_detail__W7vXW","input-controller":"CoinInput_input-controller__3MtgH","input-hint":"CoinInput_input-hint__Qj5Vc",show:"CoinInput_show__3lpS5"}},39:function(e,t,n){e.exports={asset:"AssetDetail_asset__2cwF_",title:"AssetDetail_title__3DVBQ",content:"AssetDetail_content__2ov9y",header1:"AssetDetail_header1__1Kjoq",header2:"AssetDetail_header2__WCdRy",icon:"AssetDetail_icon__-yOOL",paragraph:"AssetDetail_paragraph__i9X-e"}},40:function(e,t,n){e.exports={network:"NetworkDetail_network__2syz5",content:"NetworkDetail_content__3vHP-",shrink:"NetworkDetail_shrink__mZEI_",icon:"NetworkDetail_icon__28jIU",title:"NetworkDetail_title__3yPlt",header1:"NetworkDetail_header1__3nrra",paragraph:"NetworkDetail_paragraph__1aTxu",option:"NetworkDetail_option__3wBdA"}},41:function(e,t,n){e.exports={earn:"EarnPannel_earn__3z8zB",main:"EarnPannel_main__26RDS",header:"EarnPannel_header__HcEyW",placeholder:"EarnPannel_placeholder__AE-SO","button-icon":"EarnPannel_button-icon__3vYlY","approve-button-container":"EarnPannel_approve-button-container__1ge31",button:"EarnPannel_button__cWS6h",group:"EarnPannel_group__3DZmy",name:"EarnPannel_name__3P03D",icon:"EarnPannel_icon__1UYE3",content:"EarnPannel_content__UqCL6",sub:"EarnPannel_sub__2oloi",data:"EarnPannel_data__5P21y",title:"EarnPannel_title__eji1d",amount:"EarnPannel_amount__wLVS6",details:"EarnPannel_details__2dLkq",detail:"EarnPannel_detail__2ecZK",value:"EarnPannel_value__5_Ks1"}},42:function(e,t){e.exports={SUCCESS:"00000000",INVALID_INPUT:"01000000",USER_OCCUPATION:"02000000",USER_NOT_FOUND:"02000001",ACCOUNT_TOKEN_EXIST:"02000002",INVALID_ACCESS_TOKEN:"03000000",EXPIRED_ACCESS_TOKEN:"03000001",INVALID_ACCESS_TOKEN_SECRET:"03000002",EXPIRED_ACCESS_TOKEN_SECRET:"03000003",INVALID_SIGNATURE:"03000004",BLOCKCHAIN_ID_NOT_FOUND:"04000000",CURRENCY_ID_NOT_FOUND:"04000001",BLOCKCHAIN_HAS_NOT_TOKEN:"04000002",TOKEN_ID_NOT_FOUND:"04000003",ACCOUNT_NOT_FOUND:"04000004",TX_NOT_FOUND:"04000005",CONTRACT_CONT_FOUND:"04000005",BLOCKCHAIN_NOT_SUPPORT:"04000006",BLOCK_NOT_FOUND:"04000007",ADDRESS_NOT_FOUND:"04000008",DB_ERROR:"05000000",PUBLISH_TX_ERROR:"05000001",RPC_ERROR:"05000002",UNKNOWN_ERROR:"09000000"}},50:function(e,t,n){e.exports={modal:"Dialog_modal__1cigk",content:"Dialog_content__fFoO4",expand:"Dialog_expand__LnNKS",header:"Dialog_header__23n3D",title:"Dialog_title__iQRCw",cancel:"Dialog_cancel__3e6LL"}},51:function(e,t,n){e.exports={dropdown:"DropDown_dropdown__1PeGq",controller:"DropDown_controller__3gdoM",button:"DropDown_button__PZxMT",placeholder:"DropDown_placeholder__1-Sxc",selected:"DropDown_selected__1KvOF",label:"DropDown_label__3J2TN",options:"DropDown_options__3nWcJ",icon:"DropDown_icon__2AVr4"}},52:function(e,t,n){e.exports={summary:"Summary_summary__1SLx7",title:"Summary_title__1Cb2f",detail:"Summary_detail__3Vft7",tooltip:"Summary_tooltip__1779p",tooltiptext:"Summary_tooltiptext__8UrVC"}},56:function(e,t,n){e.exports={swap:"Swap_swap__1KF6G",container:"Swap_container__2uhmH",main:"Swap_main__3FNMx",sub:"Swap_sub__2psBl",header:"Swap_header__2Kkgq",details:"Swap_details__3AxVk"}},57:function(e,t,n){e.exports={title:"CoinDialog_title__1dW6u",button:"CoinDialog_button__140Fr",placeholder:"CoinDialog_placeholder__3t7zn","coin-input":"CoinDialog_coin-input__75kBf",option:"CoinDialog_option__jUWo2"}},58:function(e,t,n){e.exports={assets:"Assets_assets__2wbpj",container:"Assets_container__2lSPN",main:"Assets_main__1blVk",sub:"Assets_sub__zuPKG",header:"Assets_header__2Hw2b",details:"Assets_details__OAA6m"}},59:function(e,t,n){e.exports={earn:"Earn_earn__1RmLP",container:"Earn_container__3ui41",main:"Earn_main__2jKkM",sub:"Earn_sub__3uaFo",header:"Earn_header__2ND1J",details:"Earn_details__2HfWD"}},6:function(e,t,n){e.exports={table:"Table_table__3cVv6",header:"Table_header__2gRGf","header-bar":"Table_header-bar__3wKRv",container:"Table_container__1u_GE",content:"Table_content__-Ptjk","title-bar":"Table_title-bar__2dByg",history:"Table_history__koJnm",tile:"Table_tile__1Quim","title-box":"Table_title-box__2HaO8",data:"Table_data__j8JKi",token:"Table_token__3IP6D",invest:"Table_invest__1oVzw",group:"Table_group__KzZqb",expand:"Table_expand__19SGB",hint:"Table_hint__1AalZ",button:"Table_button__3YRTF",increase:"Table_increase__1vwjB",decrease:"Table_decrease__3Jh-l",icon:"Table_icon__B_-ID",icons:"Table_icons__3mHJZ"}},60:function(e,t,n){e.exports={remove:"Remove_remove__2QtZ7",container:"Remove_container__1jXva",main:"Remove_main__E7bnp",sub:"Remove_sub__1tqXs",header:"Remove_header__2ahCz",details:"Remove_details__2gJPj",button:"Remove_button__1BGgg"}},61:function(e,t,n){e.exports={remove:"RemovePannel_remove__jpV8T",main:"RemovePannel_main__1zjl-",header:"RemovePannel_header__2auAe",content:"RemovePannel_content__2nV3x","approve-button-container":"RemovePannel_approve-button-container__3ZyOJ",group:"RemovePannel_group__2LWou",name:"RemovePannel_name__2B_T5",icon:"RemovePannel_icon__2VWIX",sub:"RemovePannel_sub__3o8BA",detail:"RemovePannel_detail__2B7ES",data:"RemovePannel_data__3Onec",title:"RemovePannel_title__1kqHw",amount:"RemovePannel_amount__1Ww_j"}},62:function(e,t,n){e.exports={"import-token":"ImportToken_import-token__3iVyT",container:"ImportToken_container__3FZKB",main:"ImportToken_main__3Hn1A",sub:"ImportToken_sub__1irui",header:"ImportToken_header__2JN63",details:"ImportToken_details__2xQmU"}},68:function(e,t,n){e.exports={shrink:"CoinOption_shrink__3ehoX",name:"CoinOption_name__2UvXJ",option:"CoinOption_option__1CMJD",symbol:"CoinOption_symbol__Gs4V4",icon:"CoinOption_icon__2vU9a"}},77:function(e,t,n){e.exports={input:"SearchInput_input__11JgY","search-icon":"SearchInput_search-icon__2Gr5g","search-icon__circle":"SearchInput_search-icon__circle__etznQ","search-icon__rectangle":"SearchInput_search-icon__rectangle__3TB9q"}},78:function(e,t,n){e.exports={content:"FilterButton_content__v5Beq",controller:"FilterButton_controller__3ehvz",title:"FilterButton_title__1LTXA",button:"FilterButton_button__1rjJG",placeholder:"FilterButton_placeholder__3tIz_",tab:"FilterButton_tab__2WQP0",icon:"FilterButton_icon__1rJuE",checkbox:"FilterButton_checkbox__OIRRm",filter:"FilterButton_filter__VwCfG",option:"FilterButton_option__3Q6Im"}},79:function(e,t,n){e.exports={controller:"RadioText_controller__3gKnD",tab:"RadioText_tab__34oKm",icon:"RadioText_icon__1V_Dm",value:"RadioText_value__1hsau"}},8:function(e,t,n){e.exports={asset:"Asset_asset__8pi9W",container:"Asset_container__2A25i",main:"Asset_main__Ad_zq",sub:"Asset_sub__14pyZ",chart:"Asset_chart__fsniB",header:"Asset_header__20IdH",info:"Asset_info__33c0T",leading:"Asset_leading__ut9M3",title:"Asset_title__3ytsG",group:"Asset_group__1OmzC",icon:"Asset_icon__epg2b",action:"Asset_action__nhKGB",tag:"Asset_tag__gJldd",data:"Asset_data__3NkXR","data-change":"Asset_data-change__1ex77",increase:"Asset_increase__3Dosu",decrease:"Asset_decrease__28LzH",bold:"Asset_bold__Nz7wt",details:"Asset_details__hkSMR","data-row":"Asset_data-row__2F1Rl","data-detail":"Asset_data-detail__hGKwS","data-title":"Asset_data-title__JKCWl","data-value":"Asset_data-value__3o0gn"}},80:function(e,t,n){e.exports={"approve-button-container":"SwapPannel_approve-button-container__sxcH6",swap:"SwapPannel_swap__2eqJD",main:"SwapPannel_main__17IbX",hint:"SwapPannel_hint__unnyR",button:"SwapPannel_button__3Riv6"}},81:function(e,t,n){e.exports={container:"PoolOption_container__1WisG",pair:"PoolOption_pair__3TGuv",name:"PoolOption_name__1MYMv",icon:"PoolOption_icon__2IbvS"}},95:function(e,t,n){e.exports={chart__container:"Chart_chart__container__2M0fW"}},97:function(e,t,n){e.exports={list:"List_list__XVT3P",title:"List_title__1J_ZH",loading:"List_loading__1X4WL"}},98:function(e,t,n){e.exports={button:"Button_button__6-R6B",loading:"Button_loading__2RWSQ","lds-spinner":"Button_lds-spinner__2xMNt"}},99:function(e,t,n){e.exports={market:"Market_market__2gkcO","header-bar":"Market_header-bar__2sGu4",header:"Market_header__1X8uX"}}},[[367,1,2]]]);
//# sourceMappingURL=main.b2f907c4.chunk.js.map