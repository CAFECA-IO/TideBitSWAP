(this["webpackJsonptidebit-swap"]=this["webpackJsonptidebit-swap"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports={list:"Invests_list__m9X7Q",title:"Invests_title__3mul2",container:"Invests_container__3NZqg",content:"Invests_content__32dHw","title-bar":"Invests_title-bar__30VJG","title-box":"Invests_title-box__2nVIe",hint:"Invests_hint__2UPTM",tile:"Invests_tile__ObI1k",action:"Invests_action__2uINN",button:"Invests_button__1UxLh",group:"Invests_group__1uXQ3",data:"Invests_data__34NYi",icon:"Invests_icon__YEZf2"}},function(e,t,n){e.exports={sideMenu:"Menu_sideMenu__lBetq",menuOption:"Menu_menuOption__2v4u7",menuOptionIcon:"Menu_menuOptionIcon__Ald9O",connected:"Menu_connected__1mod5",active:"Menu_active__1hc7Y",footer:"Menu_footer__eGKyL"}},,function(e,t,n){e.exports={list:"Tokens_list__Gjr5T",title:"Tokens_title__31jd_",container:"Tokens_container__3eOiU",content:"Tokens_content__3DJ78","title-bar":"Tokens_title-bar__21Cna",hint:"Tokens_hint__3lG8a",tile:"Tokens_tile__SoXzX",action:"Tokens_action__3jhH7",button:"Tokens_button__2mtdT",group:"Tokens_group__3_VCb","title-box":"Tokens_title-box__1Rba4",data:"Tokens_data__2Y5UW",icon:"Tokens_icon__3gktW"}},function(e,t,n){e.exports={list:"Histories_list__2xJrX",header:"Histories_header__1YzK8","header-bar":"Histories_header-bar__3Go9h",button:"Histories_button__1PQWi",content:"Histories_content__3Z2dU","title-bar":"Histories_title-bar__2PRCM",data:"Histories_data__1ANku","title-box":"Histories_title-box__2cDNC",hint:"Histories_hint__2w_7b",tile:"Histories_tile__3xHlD"}},,function(e,t,n){e.exports={earn:"EarnPannel_earn__3z8zB",main:"EarnPannel_main__26RDS",header:"EarnPannel_header__HcEyW","approve-button-container":"EarnPannel_approve-button-container__1ge31",group:"EarnPannel_group__3DZmy",name:"EarnPannel_name__3P03D",icon:"EarnPannel_icon__1UYE3",content:"EarnPannel_content__UqCL6",sub:"EarnPannel_sub__2oloi",detail:"EarnPannel_detail__2ecZK",data:"EarnPannel_data__5P21y",title:"EarnPannel_title__eji1d",amount:"EarnPannel_amount__wLVS6"}},function(e,t,n){e.exports={remove:"RemovePannel_remove__jpV8T",main:"RemovePannel_main__1zjl-",header:"RemovePannel_header__2auAe","approve-button-container":"RemovePannel_approve-button-container__3ZyOJ",group:"RemovePannel_group__2LWou",name:"RemovePannel_name__2B_T5",icon:"RemovePannel_icon__2VWIX",content:"RemovePannel_content__2nV3x",sub:"RemovePannel_sub__3o8BA",detail:"RemovePannel_detail__2B7ES",data:"RemovePannel_data__3Onec",title:"RemovePannel_title__1kqHw",amount:"RemovePannel_amount__1Ww_j"}},,,function(e,t,n){e.exports={list:"Pairs_list__J0v05",content:"Pairs_content__lyfpd","title-bar":"Pairs_title-bar__2HvKP",title:"Pairs_title__jckNR",group:"Pairs_group__Ad7Qo",name:"Pairs_name__1qKiu",tile:"Pairs_tile__wzqBh",pair:"Pairs_pair__10Ql-",icon:"Pairs_icon__2tb4X"}},function(e,t,n){e.exports={list:"Pairs_list__2qnYy",content:"Pairs_content__1VyBy","title-bar":"Pairs_title-bar__3Muwe",title:"Pairs_title__36TFQ",group:"Pairs_group__G0L2p",name:"Pairs_name__1M4DP",tile:"Pairs_tile__1joPZ",pair:"Pairs_pair__3cBC4",icon:"Pairs_icon__10gyi"}},,,,function(e,t,n){e.exports={chart:"CandleStickChart_chart__1wQ5H",demobox:"CandleStickChart_demobox__2vO6i",csbox:"CandleStickChart_csbox__25DwJ",chart1:"CandleStickChart_chart1__1hUpN",grid:"CandleStickChart_grid__2tNJ3",axis:"CandleStickChart_axis__2N8RD",xaxis:"CandleStickChart_xaxis__36bmf",tick:"CandleStickChart_tick__2a9cy",yaxis:"CandleStickChart_yaxis__4KjuF",bands:"CandleStickChart_bands__1tc7Q",hoved:"CandleStickChart_hoved__2qvv7",sticks:"CandleStickChart_sticks__1Rh7t",rise:"CandleStickChart_rise__2ZZrR",candles:"CandleStickChart_candles__37pUy",fall:"CandleStickChart_fall__3XQHH",bbmn:"CandleStickChart_bbmn__13foG",bbup:"CandleStickChart_bbup__3vY2o",bbdn:"CandleStickChart_bbdn__3KzId",volumebar:"CandleStickChart_volumebar__1chtr",sigmabar:"CandleStickChart_sigmabar__2z7ZG",option:"CandleStickChart_option__29e5d",active:"CandleStickChart_active__2AGF9",infobar:"CandleStickChart_infobar__2JOWZ",infohead:"CandleStickChart_infohead__2zSzj",infobox:"CandleStickChart_infobox__2qkSZ",volchart:"CandleStickChart_volchart__3cWGI",volbar:"CandleStickChart_volbar__brF4-",volfill:"CandleStickChart_volfill__PRgbx",sigbar:"CandleStickChart_sigbar__3OK4M",sigfill:"CandleStickChart_sigfill__3YsC2"}},function(e,t,n){e.exports={list:"Pairs_list__1UtYK",content:"Pairs_content__XHW41",title:"Pairs_title__3UB8T",name:"Pairs_name__38nsk",tile:"Pairs_tile__2MYUT",pair:"Pairs_pair__3Y185","icon-switch":"Pairs_icon-switch__1DwK_",icon:"Pairs_icon__15XCr"}},function(e,t,n){e.exports={input:"Input_input__2swPp",label:"Input_label__3uKZ0",detail:"Input_detail__2VQ0x","input-controller":"Input_input-controller__scu78","input-hint":"Input_input-hint__yVEJ-",show:"Input_show__2WQWC",message:"Input_message__374uh",invalid:"Input_invalid__m8mGZ"}},,function(e,t,n){e.exports={asset:"AssetDetail_asset__2cwF_",title:"AssetDetail_title__3DVBQ",content:"AssetDetail_content__2ov9y",header1:"AssetDetail_header1__1Kjoq",header2:"AssetDetail_header2__WCdRy",icon:"AssetDetail_icon__-yOOL",paragraph:"AssetDetail_paragraph__i9X-e"}},,,,function(e,t,n){e.exports={modal:"Dialog_modal__1cigk",content:"Dialog_content__fFoO4",expand:"Dialog_expand__LnNKS",header:"Dialog_header__23n3D",title:"Dialog_title__iQRCw",cancel:"Dialog_cancel__3e6LL"}},function(e,t,n){e.exports={summary:"Summary_summary__1SLx7",title:"Summary_title__1Cb2f",detail:"Summary_detail__3Vft7",tooltip:"Summary_tooltip__1779p",tooltiptext:"Summary_tooltiptext__8UrVC"}},,,,function(e,t,n){e.exports={network:"NetworkDetail_network__2syz5",content:"NetworkDetail_content__3vHP-",icon:"NetworkDetail_icon__28jIU",title:"NetworkDetail_title__3yPlt",header1:"NetworkDetail_header1__3nrra",paragraph:"NetworkDetail_paragraph__1aTxu"}},function(e,t,n){e.exports={swap:"Swap_swap__1KF6G",container:"Swap_container__2uhmH",main:"Swap_main__3FNMx",sub:"Swap_sub__2psBl",header:"Swap_header__2Kkgq",details:"Swap_details__3AxVk"}},function(e,t,n){e.exports={assets:"Assets_assets__2wbpj",container:"Assets_container__2lSPN",main:"Assets_main__1blVk",sub:"Assets_sub__zuPKG",header:"Assets_header__2Hw2b",details:"Assets_details__OAA6m"}},function(e,t,n){e.exports={earn:"Earn_earn__1RmLP",container:"Earn_container__3ui41",main:"Earn_main__2jKkM",sub:"Earn_sub__3uaFo",header:"Earn_header__2ND1J",details:"Earn_details__2HfWD"}},function(e,t,n){e.exports={earn:"Remove_earn__FjyN6",container:"Remove_container__1jXva",main:"Remove_main__E7bnp",sub:"Remove_sub__1tqXs",header:"Remove_header__2ahCz",details:"Remove_details__2gJPj"}},,,,,,,function(e,t,n){e.exports={shrink:"CoinOption_shrink__3ehoX",name:"CoinOption_name__2UvXJ",option:"CoinOption_option__1CMJD",symbol:"CoinOption_symbol__Gs4V4",icon:"CoinOption_icon__2vU9a"}},function(e,t,n){e.exports={pannel:"FilterList_pannel__27Tam",input:"FilterList_input__2EVl1",select:"FilterList_select__3knbB","search-bar":"FilterList_search-bar__2GKp7",container:"FilterList_container__2K8AM",hint:"FilterList_hint__1zqxb"}},function(e,t,n){e.exports={title:"CoinDialog_title__1dW6u",button:"CoinDialog_button__140Fr",placeholder:"CoinDialog_placeholder__3t7zn"}},,,,function(e,t,n){e.exports={input:"SearchInput_input__11JgY","search-icon":"SearchInput_search-icon__2Gr5g","search-icon__circle":"SearchInput_search-icon__circle__etznQ","search-icon__rectangle":"SearchInput_search-icon__rectangle__3TB9q"}},function(e,t,n){e.exports={"approve-button-container":"SwapPannel_approve-button-container__sxcH6",swap:"SwapPannel_swap__2eqJD",main:"SwapPannel_main__17IbX"}},,,,,,,,function(e,t,n){e.exports={list:"List_list__XVT3P",title:"List_title__1J_ZH",loading:"List_loading__1X4WL"}},function(e,t,n){e.exports={button:"Button_button__6-R6B",loading:"Button_loading__2RWSQ","lds-spinner":"Button_lds-spinner__2xMNt"}},function(e,t,n){e.exports={"icon-button":"ConnectOptions_icon-button__3A5mo","icon-button__icon":"ConnectOptions_icon-button__icon__2GcbM","icon-button__name":"ConnectOptions_icon-button__name__1Fl3o"}},,,,,,,,,,,,,,,,,,,,,,,function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=85},function(e,t){},function(e,t,n){e.exports={"lds-spinner":"LoadingIcon_lds-spinner__3cMQd"}},,,function(e,t,n){e.exports={backdrop:"Backdrop_backdrop__1uHu4"}},function(e,t,n){e.exports={card:"Card_card__1m44e"}},function(e,t,n){e.exports={"coin-input":"CoinInput_coin-input__hYd5s"}},function(e,t,n){e.exports={market:"Market_market__2gkcO"}},function(e,t,n){e.exports={history:"History_history__2J5PT"}},function(e,t,n){e.exports={invest:"Invest_invest__mq3Jd"}},function(e,t,n){e.exports={overview:"Overview_overview__US_oz"}},function(e,t,n){e.exports={race:"Race_race__3rm1k"}},function(e){e.exports=JSON.parse('{"name":"tidebit-swap","version":"0.9.0","description":"TideBit SWAP - The Most Friendly DeFi Solution","main":"bin/main.js","scripts":{"start":"bin/main.js","debug":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","deploy":"pm2 deploy"},"repository":{"type":"git","url":"git+https://github.com/CAFECA-IO/TideBitSWAP.git"},"keywords":["frontend","backend","framework"],"author":"CAFECA","license":"MIT","bugs":{"url":"https://github.com/CAFECA-IO/TideBitSWAP/issues"},"homepage":"https://swap.tidebit.network/","dependencies":{"@cafeca/lunar":"^0.2.11","@fortawesome/free-solid-svg-icons":"^5.15.4","@fortawesome/react-fontawesome":"^0.1.16","@testing-library/jest-dom":"^5.11.6","@testing-library/react":"^11.2.2","@testing-library/user-event":"^12.5.0","bignumber.js":"^9.0.1","command-line-args":"^5.0.2","d3":"^7.1.1","dvalue":"^1.0.20","ecrequest":"^1.1.5","i18n":"^0.13.3","keccak256":"^1.0.3","koa":"^2.13.1","koa-body":"^4.2.0","koa-router":"^10.1.1","koa-session":"^6.2.0","koa-static":"^5.0.0","litepicker":"^2.0.11","ncp":"^2.0.0","pem":"^1.14.4","qrcode.react":"^1.0.1","react":"^17.0.1","react-dom":"^17.0.1","react-icons":"^4.3.1","react-router-dom":"^5.3.0","spdy":"^4.0.2","toml":"^3.0.0","web-vitals":"^0.2.4","ws":"^8.2.1"},"devDependencies":{"assert":"^2.0.0","buffer":"^6.0.3","clean-webpack-plugin":"^4.0.0-alpha.0","copy-webpack-plugin":"^9.0.1","css-loader":"^5.2.6","cssnano":"^5.0.5","file-loader":"^6.2.0","https-browserify":"^1.0.0","mini-css-extract-plugin":"^1.6.0","node-sass":"^6.0.0","os":"^0.1.1","postcss-loader":"^5.3.0","react-dom":"^17.0.2","react-scripts":"4.0.1","sass-loader":"^12.0.0","stream":"0.0.2","stream-http":"^3.2.0","svg-inline-loader":"^0.8.2","ts-loader":"^9.2.3","typescript":"^4.3.4","url":"^0.11.0","url-loader":"^4.1.1","web3":"^1.3.6"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,function(e,t){},,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t,n){"use strict";n.r(t);var a,c,s=n(27),r=n.n(s),o=n(58),i=(n(125),n(2)),l=n.n(i),u=n(8),d=n(3),p=n.n(d),j=n(4),b=n(5),h=n(56),m=n(57),f=n(28),v=n.n(f),x=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"isNumber",value:function(e){return/^(([1-9]\d*)|([0]{1}))(\.\d+)?$/.test(e)}},{key:"isHex",value:function(e){return/^(0x)?[a-fA-F0-9]*$/.test(e)}},{key:"toBn",value:function(t){return"string"===typeof t&&!e.isNumber(t)&&e.isHex(t)?new v.a(t,16):new v.a(t)}},{key:"toSmallestUnitHex",value:function(e,t){return new v.a(e).multipliedBy(new v.a(10).pow(t)).toString(16)}},{key:"plus",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.plus(c).toFixed()}},{key:"minus",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.minus(c).toFixed()}},{key:"mult",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.multipliedBy(c).toFixed()}},{key:"div",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.dividedBy(c).toFixed()}},{key:"mod",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.mod(c).toFixed()}},{key:"eq",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.eq(c)}},{key:"gt",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.gt(c)}},{key:"gte",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.gte(c)}},{key:"lt",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.lt(c)}},{key:"lte",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.lte(c)}},{key:"toCurrencyUint",value:function(t,n){var a=e.toBn(t),c=e.toBn(10).exponentiatedBy(n);return a.dividedBy(c).toFixed()}},{key:"gweiToEth",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.dividedBy(a).toFixed()}},{key:"weiToGwei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.dividedBy(a).toFixed()}},{key:"toSmallestUint",value:function(t,n){var a=e.toBn(t),c=e.toBn(10).exponentiatedBy(n);return a.multipliedBy(c).toFixed()}},{key:"ethToGwei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.multipliedBy(a).toFixed()}},{key:"gweiToWei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.multipliedBy(a).toFixed()}},{key:"compressedPubKeyCheck",value:function(t,n){var a=e.toBn("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c=e.toBn(t),s=e.toBn(n);return c.pow(new v.a(3)).plus(new v.a(7)).minus(s.pow(new v.a(2))).mod(a).isZero()}},{key:"toHex",value:function(t){return e.toBn(t).toString(16)}}]),e}(),O=x,_=l.a.createContext({initial:!1,connectOptions:[],connectedAccount:null,routerContract:null,isLoading:!1,error:null,isConnected:!1,currentNetwork:null,supportedNetworks:[],isInit:function(){},onDisconnect:function(){console.log("onDisconnect")},onConnect:function(e){console.log("onConnect",e)},switchNetwork:function(){var e=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getContractDataLength:function(){var e=Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getContractData:function(){var e=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSelectedPool:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),addToken:function(){var e=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),isAllowanceEnough:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),approve:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),createPair:function(){var e=Object(j.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),provideLiquidity:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),getAmountsIn:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),getAmountsOut:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),swap:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),takeLiquidity:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}()}),k=_,y=l.a.createContext({isLoading:!1,totalBalance:0,reward:0,data:[{title:"Porfolio",portionTitle:"Asset Allocation",portion:[]},{title:"Assets",portionTitle:"Asset Distribution",portion:[]}],fiat:{dollarSign:"$",symbol:"USD",exchangeRate:"1"},pairIndex:0,supportedPools:[],assets:[],supportedNetworks:[],history:[],updateFiat:function(e){}}),g=y,C=n(1),N=[{title:"Porfolio",portionTitle:"Asset Allocation",portion:[]},{title:"Assets",portionTitle:"Asset Distribution",portion:[]}],w=function(e){var t=Object(i.useContext)(k),n=Object(i.useState)(0),a=Object(b.a)(n,2),c=a[0],s=a[1],r=Object(i.useState)(!1),o=Object(b.a)(r,2),l=o[0],u=o[1],d=Object(i.useState)("0.0"),h=Object(b.a)(d,2),m=h[0],f=h[1],v=Object(i.useState)("-.-"),x=Object(b.a)(v,2),_=x[0],y=x[1],w=Object(i.useState)(N),S=Object(b.a)(w,2),A=S[0],P=S[1],I=Object(i.useState)({dollarSign:"$",symbol:"USD",exchangeRate:"1"}),B=Object(b.a)(I,2),T=B[0],D=B[1],L=Object(i.useState)([]),E=Object(b.a)(L,2),U=E[0],F=E[1],H=Object(i.useState)([]),R=Object(b.a)(H,2),M=R[0],q=R[1],V=Object(i.useCallback)((function(e){D(e)}),[]),W=Object(i.useCallback)(Object(j.a)(p.a.mark((function e(){var n,a,c,r,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getContractDataLength();case 2:n=e.sent,a=0;case 4:if(!(a<n)){e.next=20;break}return e.next=7,t.getContractData(a);case 7:if(c=e.sent,r=c.poolList,o=c.assetList,i=c.pairIndex,console.log("getLists poolList",r),F(r),q(o),s(i),t.isConnected){e.next=17;break}return e.abrupt("break",20);case 17:a++,e.next=4;break;case 20:case"end":return e.stop()}}),e)}))),[t]);return Object(i.useEffect)((function(){var e;return t.initial&&(u(!0),t.isInit(),q([]),F([]),s(0),f("-.-"),y("-.-"),P(N),W().then((function(){u(!1)}))),(null===(e=t.error)||void 0===e?void 0:e.hasError)&&u(!1),function(){}}),[t,t.error,t.initial,W]),Object(i.useEffect)((function(){if(!l&&M.length>0){console.log("lockedAmount");var e,t="0",n="0",a=[];M.forEach((function(e){t=O.plus(e.balanceInPools,t),n=O.plus(e.balanceOf,n),a.push({name:e.name,value:+e.balanceOf})})),e=[{name:"unLocked",value:+n},{name:"Locked",value:+t}],f("0.0"),y("0.0"),P([{title:"Porfolio",portionTitle:"Asset Allocation",portion:e},{title:"Assets",portionTitle:"Asset Distribution",portion:a}])}return function(){}}),[M,l]),Object(C.jsx)(g.Provider,{value:{isLoading:l,totalBalance:m,reward:_,data:A,fiat:T,pairIndex:c,supportedPools:U,assets:M,updateFiat:V},children:e.children})},S=n(59),A=n(11),P="0xDDBCB302A16f27D12Ef1cA491b4791a7b3d67c04",I="Stable Pools",B="Innovation Pools",T="All",D="Swaps",L="Adds",E="Removes",U=n.p+"static/media/erc20.49e225fa.png",F=n(24),H=n.n(F),R=function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){var c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="0x".concat(H()(t).toString("hex").slice(0,8)),e.prev=1,e.next=4,window.ethereum.request({id:V(1),jsonrpc:"2.0",method:"eth_call",params:[{from:"0x0000000000000000000000000000000000000000",data:"".concat(n?c+n:c),to:a},"latest"]});case 4:return s=e.sent,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(1),console.log("".concat(t," error"),e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;if(e.length<=2*t)return e;var n=e.slice(0,t),a=e.slice(e.length-t,e.length);return n+"..."+a},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=e.split(".");return n.length>1?(e.length>t&&(n[1]=n[1].substring(0,t-n[0].length-1)),n[1].length>0?"".concat(n[0],".").concat(n[1]):n[0]):e},V=function(e){var t="",n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for((e=parseInt(e))>0||(e=8);t.length<e;)t=t.concat(n.charAt(parseInt(Math.random()*n.length)));return t},W=function(e,t){return 0===+e?e:+e>+t?t:e},z=function(e,t,n,a){var c;c=t&&e.symbol===t.symbol?n.find((function(t){return t.symbol!==e.symbol})):t;var s=W(a,null===e||void 0===e?void 0:e.balanceOf),r=t?X(e,c,a):"";return{active:e,passive:c,activeAmount:s,passiveAmount:r}},Y=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=e.toString().replace("0x",""),a=[],c=0;c<n.length;c+=t){var s=n.slice(c,c+t);a.push(s)}return a},K=function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("totalSupply()",null,t);case 2:return n=e.sent,a=parseInt(n,16),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("decimals()",null,t);case 2:return n=e.sent,a=parseInt(n,16),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,c,s,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:return a=e.sent,e.next=5,K(t);case 5:return c=e.sent,s=n.replace("0x","").padStart(64,"0"),e.next=9,R("balanceOf(address)",s,t);case 9:return r=e.sent,o=parseInt(r,16),e.abrupt("return",{decimals:a,balanceOf:O.toCurrencyUint(o,a),totalSupply:O.toCurrencyUint(c,a)});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.03,c=O.div(n,e.balanceOfPool),s=1-a,r=O.mult(O.div(O.mult(c,s),O.plus(1,O.mult(c,s))),t.balanceOfPool);return r},Z=n(25),Q=n.n(Z),$=n(87),ee=n.n($),te=function(e){return Object(C.jsxs)("div",{className:ee.a["lds-spinner"],children:[Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{})]})},ne=function(e){var t=Object(i.useContext)(g);return Object(C.jsxs)("div",{className:Q.a.asset,children:[Object(C.jsx)("div",{className:Q.a.title,children:"Connected Account"}),Object(C.jsxs)("div",{className:Q.a.content,children:[e.account&&Object(C.jsx)("div",{className:Q.a.paragraph,children:M(e.account,10)}),Object(C.jsxs)("div",{className:Q.a.icon,children:[Object(C.jsx)("div",{}),Object(C.jsx)("div",{})]})]}),t.isLoading?Object(C.jsx)(te,{}):Object(C.jsxs)("div",{className:Q.a.content,children:[Object(C.jsx)("div",{className:Q.a.header1,children:e.balanceInFiat}),Object(C.jsx)("div",{className:Q.a.header2,children:e.balance})]})]})},ae=(n(21),n(169),n(34)),ce=n.n(ae),se=function(e){return Object(C.jsxs)("div",{className:ce.a.network,children:[Object(C.jsxs)("div",{className:ce.a.content,children:[Object(C.jsx)("div",{className:ce.a.title,children:"Network"}),Object(C.jsx)("div",{className:ce.a.header1,children:e.chainName}),Object(C.jsx)("div",{className:ce.a.paragraph,children:"Last Block: 13547750"})]}),Object(C.jsx)("div",{className:ce.a.icon,children:Object(C.jsx)("img",{src:"https://www.tidebit.one/icons/eth.png",alt:e.chainName})})]})},re=n(22),oe=n.n(re),ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.03,n=O.div("1",e.poolBalanceOfToken0),a=1-t,c=O.mult(O.div(O.mult(n,a),O.plus(1,O.mult(n,a))),e.poolBalanceOfToken1);return c},le=function(e){var t=Object(u.e)();return Object(C.jsxs)("div",{className:oe.a.tile,onClick:function(){return t.push({pathname:"/swap/".concat(e.pool.contract)})},children:[Object(C.jsxs)("div",{className:oe.a.name,children:["1 ".concat(e.pool.token0.symbol)," \u2248"," ".concat(q(ie(e.pool))," ").concat(e.pool.token1.symbol)]}),Object(C.jsxs)("div",{className:oe.a.pair,children:[Object(C.jsx)("div",{className:oe.a.icon,children:Object(C.jsx)("img",{src:e.pool.token0.iconSrc,alt:e.pool.token0.symbol})}),Object(C.jsx)("div",{className:oe.a["icon-switch"],children:"\u21c4"}),Object(C.jsx)("div",{className:oe.a.icon,children:Object(C.jsx)("img",{src:e.pool.token1.iconSrc,alt:e.pool.token1.symbol})})]})]})},ue=function(e){var t=Object(i.useContext)(g);return Object(C.jsxs)("div",{className:oe.a.list,children:[Object(C.jsx)("div",{className:oe.a.title,children:"Swap"}),Object(C.jsxs)("div",{className:oe.a.content,children:[!e.pools.length&&!t.isLoading&&Object(C.jsx)("div",{className:oe.a.hint,children:"No Pair found."}),!!e.pools.length&&e.pools.map((function(e){return Object(C.jsx)(le,{pool:e},e.id)})),t.isLoading&&Object(C.jsx)(te,{})]})]})},de=n(35),pe=n.n(de),je=n(45),be=n.n(je),he=function(e,t){return Object(C.jsxs)("div",{value:e.name,className:"".concat(be.a.option," ").concat(t?be.a.shrink:""),onClick:e.onSelect,children:[Object(C.jsx)("div",{className:be.a.icon,children:Object(C.jsx)("img",{src:e.iconSrc,alt:e.name})}),Object(C.jsx)("div",{className:be.a.symbol,children:e.symbol}),Object(C.jsx)("div",{className:be.a.name,children:e.name})]})},me=n(90),fe=n.n(me),ve=function(e){return Object(C.jsx)(l.a.Fragment,{children:r.a.createPortal(Object(C.jsx)("div",{className:fe.a.backdrop,onClick:e.onCancel}),document.getElementById("backdrop-root"))})},xe=n(91),Oe=n.n(xe),_e=function(e){return Object(C.jsx)("div",{className:"".concat(Oe.a.card," ").concat(e.className),children:e.children})},ke=n(29),ye=n.n(ke),ge=function(e){return Object(C.jsxs)(_e,{className:e.expand?ye.a.modal+" "+ye.a.expand:ye.a.modal,children:[Object(C.jsxs)("header",{className:ye.a.header,children:[Object(C.jsx)("div",{className:ye.a.title,children:e.title}),Object(C.jsx)("div",{className:ye.a.cancel,onClick:e.onCancel,children:"\u2715"})]}),Object(C.jsx)("div",{className:ye.a.content,children:e.children})]})},Ce=function(e){return Object(C.jsxs)(l.a.Fragment,{children:[Object(C.jsx)(ve,{onCancel:e.onCancel}),r.a.createPortal(Object(C.jsx)(ge,{title:e.title,onCancel:e.onCancel,expand:e.expand,children:e.children}),document.getElementById("overlay-root"))]})},Ne=n(60),we=n.n(Ne),Se=function(e){return Object(C.jsxs)("div",{className:e.className,children:[!!e.title&&Object(C.jsx)("div",{className:we.a.title,children:e.title}),Object(C.jsx)("ul",{className:"".concat(we.a.list," "),children:e.data.map((function(t){return Object(C.jsx)("li",{onClick:function(){e.onClick&&e.onClick(t)},children:e.children(t)},t.id||V(6))}))}),e.isLoading&&Object(C.jsx)("div",{className:we.a.loading,children:Object(C.jsx)(te,{})})]})},Ae=n(51),Pe=n.n(Ae),Ie=function(e){return Object(C.jsxs)("div",{className:Pe.a.input,children:[Object(C.jsxs)("div",{className:Pe.a["search-icon"],children:[Object(C.jsx)("div",{className:Pe.a["search-icon__circle"]}),Object(C.jsx)("div",{className:Pe.a["search-icon__rectangle"]})]}),Object(C.jsx)("input",{id:V(6),type:"text",placeholder:e.placeholder,ref:e.inputRef,value:e.value,onChange:e.onChange})]})},Be=n(46),Te=n.n(Be),De=function(e){var t=Object(i.useState)(""),n=Object(b.a)(t,2),a=n[0],c=n[1],s=Object(i.useState)(e.data),r=Object(b.a)(s,2),o=r[0],l=r[1];Object(i.useEffect)((function(){return l(e.data),function(){}}),[e.data]);var u=Object(i.useRef)(),d=Object(i.useContext)(k),h=function(){var t=Object(j.a)(p.a.mark((function t(n){var a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c(n.target.value.replace(/[^0-9A-Za-z]/gi,"")),!/^0x[a-fA-F0-9]{40}$/.test(n.target.value)){t.next=13;break}if(-1!==(a=e.data.findIndex((function(e){return e.contract===n.target.value})))){t.next=9;break}return t.next=6,d.addToken(n.target.value);case 6:s=t.sent,t.next=10;break;case 9:s=e.data[a];case 10:s&&l([s]),t.next=14;break;case 13:l(e.data.filter((function(t){return!u.current||t[e.filterProperty].toLowerCase().includes(u.current.value.toLowerCase())})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:Te.a.pannel,children:[Object(C.jsx)("div",{className:Te.a["search-bar"],children:Object(C.jsx)(Ie,{inputRef:u,value:a,onChange:h,placeholder:"Search"})}),!(null===o||void 0===o?void 0:o.length)&&!!e.hint&&Object(C.jsx)("div",{className:Te.a.container,children:Object(C.jsx)("div",{className:Te.a.hint,children:e.hint})}),!!(null===o||void 0===o?void 0:o.length)&&Object(C.jsx)(Se,{className:Te.a.select,data:o,onClick:e.onSelect,children:function(t){return e.children(t,!!e.isShrink)}})]})},Le=n(47),Ee=n.n(Le),Ue=l.a.forwardRef((function(e,t){var n=Object(i.useState)(!1),a=Object(b.a)(n,2),c=a[0],s=a[1];return Object(i.useImperativeHandle)(t,(function(){return{openDialog:function(){return s(!0)},closeDialog:function(){return s(!1)}}})),Object(C.jsxs)(l.a.Fragment,{children:[c&&Object(C.jsx)(Ce,{title:"Select Coin",onCancel:function(){return s(!1)},children:Object(C.jsx)(De,{onSelect:function(t){e.onSelect(t),s(!1)},data:e.options,filterProperty:"symbol",children:function(e){return he(e)}})}),Object(C.jsxs)("div",{className:Ee.a.option,children:[Object(C.jsx)("div",{className:Ee.a.title,children:"Coin"}),Object(C.jsxs)("div",{className:Ee.a.button,onClick:function(){return s(!0)},children:[e.selectedCoin&&he(e.selectedCoin,e.isShrink),!e.selectedCoin&&Object(C.jsx)("div",{className:Ee.a.placeholder,children:"Select Coin"}),Object(C.jsx)("div",{className:Ee.a.icon,children:"\u276f"})]})]})]})})),Fe=n(23),He=n.n(Fe),Re=function(e){var t=V(6);return Object(C.jsxs)("div",{className:"".concat(He.a.input," ").concat(!1===e.isValid?He.a.invalid:""),children:[Object(C.jsx)("label",{htmlFor:t,className:He.a.label,children:e.label}),Object(C.jsxs)("div",{className:He.a["input-controller"],children:[Object(C.jsx)("input",{id:t,type:"number",value:e.value,onInput:function(t){console.log("onIput",t.target.value);var n=t.target.value;e.onChange(+n)},readOnly:!!e.readOnly}),Object(C.jsx)("div",{className:He.a["input-hint"]+(""!==e.value&&+e.value===+e.max?" "+He.a.show:""),children:"MAX"})]}),!e.removeDetail&&Object(C.jsxs)(l.a.Fragment,{children:[Object(C.jsxs)("div",{className:He.a.detail,children:[Object(C.jsx)("div",{children:"Available:"}),Object(C.jsx)("div",{className:He.a["input-maximum"],children:q("".concat(e.max),14)}),e.symbol&&Object(C.jsx)("div",{className:He.a.symbol,children:e.symbol})]}),Object(C.jsx)("div",{className:He.a.message,children:Object(C.jsx)("div",{children:e.message})})]})]})},Me=n(92),qe=n.n(Me),Ve=function(e){var t,n,a,c=Object(i.useRef)(),s=e.removeDetail||!(e.readOnly&&+e.value>+(null===(t=e.selected)||void 0===t?void 0:t.balanceOf)),r=s?"":"Insufficient amount";return console.log("props.selected",e.selected),Object(C.jsxs)("div",{className:qe.a["coin-input"],children:[Object(C.jsx)(Ue,{ref:c,options:e.options,selectedCoin:e.selected,onSelect:e.onSelect,isShrink:!0}),Object(C.jsx)(Re,{label:"Amount",max:(null===(n=e.selected)||void 0===n?void 0:n.balanceOf)||0,symbol:(null===(a=e.selected)||void 0===a?void 0:a.symbol)||"",value:e.value,onChange:e.onChange,readOnly:e.readOnly,isValid:s,message:r,removeDetail:e.removeDetail})]})},We=n(61),ze=n.n(We),Ye=function(e){return Object(C.jsxs)("div",{className:ze.a["lds-spinner"],children:[Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{})]})},Ke=function(e){return Object(C.jsx)("button",{className:"".concat(ze.a.button," ").concat(e.loading?ze.a.loading:""),type:e.type||"button",onClick:e.onClick,disabled:e.disabled,children:!0===e.loading?Object(C.jsx)(Ye,{}):e.children})},Je=n(30),Ge=n.n(Je),Xe=function(e){var t;return Object(C.jsxs)("div",{className:Ge.a.summary,children:[Object(C.jsx)("div",{className:Ge.a.title,children:"Summary"}),null===(t=e.details)||void 0===t?void 0:t.map((function(e){return Object(C.jsxs)("div",{className:Ge.a.detail,children:[!!e.explain&&Object(C.jsxs)("div",{className:Ge.a.tooltip,children:[Object(C.jsx)("div",{children:e.title}),Object(C.jsx)("div",{className:Ge.a.tooltiptext,children:e.explain})]}),!e.explain&&Object(C.jsx)("div",{className:Ge.a["detail-title"],children:e.title}),Object(C.jsx)("div",{className:Ge.a["detail-value"],children:e.value})]},V(6))}))]})},Ze=n(52),Qe=n.n(Ze),$e=(V(6),V(6),V(6),V(6),[{title:"Price",value:"--",explain:"Estimated price of the swap, not the final price that the swap is executed."},{title:"Slip Price",value:"--",explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."},{title:"Fee",value:"--",explain:"Trade transaction fee collected by liquidity providers."},{title:"Minimun",value:"--"}]),et=(V(6),Date.now(),V(6),Date.now(),V(6),Date.now(),V(6),Date.now(),V(6),Date.now(),V(6),Date.now(),V(6),Date.now(),V(6),V(6),V(6),V(6),V(6),V(6),V(6),V(6),V(6),V(6),V(6),V(6),V(6),V(6),V(6),function(e,t){var n,a,c,s,r,o,i;switch(t.type){case"SELL_COIN_UPDATE":var l=i=z(t.value.coin,e.buyCoin,e.options);n=l.active,s=l.passive,a=e.sellCoinAmount,r="";break;case"SELL_COIN_AMOUN_UPDATE":a=t.value.amount,r=e.buyCoinAmount;break;case"BUY_COIN_UPDATE":s=(i=z(t.value.coin,e.sellCoin,e.options)).active,n=i.passive,a=e.sellCoinAmount,r="";break;case"BUY_COIN_AMOUNT_UPDATE":console.log("BUY_COIN_AMOUNT_UPDATE",t.value.amount),r=t.value.amount,a=e.sellCoinAmount}return n=n||e.sellCoin,s=s||e.buyCoin,c=0===+a?null:+a>0&&a<n.balanceOf,o=0===+r?null:+r>0,{options:e.options,sellCoin:n,sellCoinAmount:a,sellCoinIsValid:c,buyCoin:s,buyCoinAmount:r,buyCoinIsValid:o}}),tt=function(e){var t,n,a=Object(i.useContext)(g),c=Object(i.useContext)(k),s=Object(i.useState)(null),r=Object(b.a)(s,2),o=r[0],l=r[1],d=Object(i.useState)(!1),h=Object(b.a)(d,2),m=h[0],f=h[1],v=Object(i.useState)(!1),x=Object(b.a)(v,2),O=x[0],_=x[1],y=Object(i.useState)(!1),N=Object(b.a)(y,2),w=N[0],S=N[1],A=Object(u.e)(),P=Object(u.f)(),I=Object(i.useReducer)(et,{options:a.assets,sellCoin:null,sellCoinAmount:"",sellCoinIsValid:null,buyCoin:null,buyCoinAmount:"",buyCoinIsValid:null}),B=Object(b.a)(I,2),T=B[0],D=B[1];Object(i.useEffect)((function(){console.log(P);var e=a.assets.find((function(e){return P.pathname.includes(e.contract)}));if(e)H(e);else{var t=a.supportedPools.find((function(e){return P.pathname.includes(e.contract)}));l(!!t)}return function(){}}),[P,a.assets,a.supportedPools]),Object(i.useEffect)((function(){return T.sellCoin&&T.buyCoin&&(f(!0),c.getSelectedPool(a.supportedPools,T.sellCoin,T.buyCoin).then((function(e){console.log("selectedPool",e),e?(l(!0),A.push({pathname:"/swap/".concat(e.contract)}),T.sellCoinAmount?c.getAmountsOut(T.sellCoinAmount,T.sellCoin,T.buyCoin).then((function(e){console.log("amountOut",e),D({type:"BUY_COIN_AMOUNT_UPDATE",value:{amount:e}}),f(!1)})):f(!1)):(A.push({pathname:"/swap"}),f(!1),l(!1))}))),function(){console.log("CLEANUP selectedPool")}}),[T.sellCoin,T.buyCoin,a.supportedPools,c,T.sellCoinAmount,A]),Object(i.useEffect)((function(){return o&&T.sellCoinIsValid&&T.buyCoinIsValid&&c.isAllowanceEnough(T.sellCoin.contract,T.sellCoinAmount,T.sellCoin.decimals).then((function(e){S(!e),_(e)})),function(){console.log("CLEANUP")}}),[o,T.sellCoinIsValid,T.buyCoinIsValid,null===(t=T.sellCoin)||void 0===t?void 0:t.contract,null===(n=T.sellCoin)||void 0===n?void 0:n.decimals,T.sellCoinAmount,c]);var L=function(){var e=Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.approve(T.sellCoin.contract);case 2:e.sent&&(_(!0),S(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var t=Object(j.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!O){t.next=14;break}return _(!1),t.prev=3,t.next=6,c.swap(T.sellCoinAmount,T.buyCoinAmount,T.sellCoin,T.buyCoin);case 6:a=t.sent,console.log("result",a),e.onClose(),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(3);case 13:_(!0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D({type:"SELL_COIN_AMOUN_UPDATE",value:{amount:t}}),!o){e.next=14;break}if(f(!0),!(+t>0)){e.next=9;break}return e.next=6,c.getAmountsOut(t,T.sellCoin,T.buyCoin);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=0;case 10:n=e.t0,console.log("sellAmountChangeHandler amountOut",n),D({type:"BUY_COIN_AMOUNT_UPDATE",value:{amount:n}}),f(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D({type:"BUY_COIN_AMOUNT_UPDATE",value:{amount:t}}),!o){e.next=14;break}if(f(!0),!(+t>0)){e.next=9;break}return e.next=6,c.getAmountsIn(t,T.sellCoin,T.buyCoin);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=0;case 10:n=e.t0,console.log("buyAmountChangeHandler amountIn",n),D({type:"SELL_COIN_AMOUN_UPDATE",value:{amount:n}}),f(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){D({type:"SELL_COIN_UPDATE",value:{coin:e}})};return Object(C.jsxs)("form",{className:Qe.a.swap,onSubmit:E,children:[Object(C.jsxs)("main",{className:Qe.a.main,children:[Object(C.jsx)(Ve,{label:"Sell",value:T.sellCoinAmount,onChange:U,selected:T.sellCoin,onSelect:H,options:a.assets}),Object(C.jsx)("div",{className:"icon",children:Object(C.jsx)("div",{children:"\u21c5"})}),Object(C.jsx)(Ve,{label:"Buy",value:T.buyCoinAmount,onChange:F,selected:T.buyCoin,onSelect:function(e){D({type:"BUY_COIN_UPDATE",value:{coin:e}})},options:a.assets}),Object(C.jsx)("div",{className:"hint",children:"The ultimate price and output is determined by the amount of tokens in the pool at the time of your swap."}),Object(C.jsxs)("div",{className:Qe.a.button,children:[Object(C.jsx)("div",{className:Qe.a["approve-button-container"],children:w&&Object(C.jsxs)(Ke,{type:"button",onClick:L,children:["Approve ",T.sellCoin.symbol]})}),Object(C.jsx)(Ke,{type:"submit",disabled:!O,children:m?"Loading...":!1===o?"Insufficient liquidity for this trade.":!0===o?!1===T.sellCoinIsValid?"Insufficient ".concat(T.sellCoin.symbol," balance"):"Swap":"Select a token"})]})]}),Object(C.jsx)("div",{className:"sub",children:Object(C.jsx)(Xe,{details:$e})})]})},nt=function(e){var t=Object(i.useContext)(k),n=Object(i.useContext)(g);return Object(C.jsxs)("div",{className:pe.a.swap,children:[Object(C.jsx)("div",{className:pe.a.header,children:"Swap"}),Object(C.jsxs)("div",{className:pe.a.container,children:[Object(C.jsx)("div",{className:pe.a.main,children:Object(C.jsx)(tt,{})}),Object(C.jsxs)("div",{className:pe.a.sub,children:[Object(C.jsxs)("div",{className:pe.a.details,children:[Object(C.jsx)(ne,{account:t.connectedAccount,balance:"".concat(n.totalBalance," ETH"),balanceInFiat:"".concat(n.fiat.dollarSign," ").concat(O.mult(n.totalBalance,n.fiat.exchangeRate))}),Object(C.jsx)(se,{chainName:t.currentNetwork.chainName})]}),Object(C.jsx)(ue,{pools:n.supportedPools})]})]})]})},at=n(93),ct=n.n(at),st=function(e){return Object(C.jsx)("div",{className:ct.a.market,children:"Market"})},rt=n(36),ot=n.n(rt),it=n(10),lt=n.n(it),ut=function(e){return Object(C.jsxs)("div",{className:lt.a["title-bar"],children:[Object(C.jsxs)("div",{className:lt.a["title-box"],children:[Object(C.jsx)("div",{className:lt.a.title,children:"Type"}),Object(C.jsx)("div",{className:lt.a.icon})]}),Object(C.jsxs)("div",{className:lt.a["title-box"],children:[Object(C.jsx)("div",{className:lt.a["title-box"],children:"Token Amount"}),Object(C.jsx)("div",{className:lt.a.icon})]}),Object(C.jsxs)("div",{className:lt.a["title-box"],children:[Object(C.jsx)("div",{className:lt.a["title-box"],children:"Token Amount"}),Object(C.jsx)("div",{className:lt.a.icon})]}),Object(C.jsxs)("div",{className:lt.a["title-box"],children:[Object(C.jsx)("div",{className:lt.a["title-box"],children:"Time"}),Object(C.jsx)("div",{className:lt.a.icon})]})]})},dt=function(e){return Object(C.jsxs)("div",{className:lt.a.tile,children:[Object(C.jsx)("div",{className:lt.a.data,children:"".concat(e.history.type," ").concat(e.history.tokenA.symbol," for ").concat(e.history.tokenB.symbol)}),Object(C.jsx)("div",{className:lt.a.data,children:"".concat(e.history.tokenA.amount," ").concat(e.history.tokenA.symbol)}),Object(C.jsx)("div",{className:lt.a.data,children:"".concat(e.history.tokenB.amount," ").concat(e.history.tokenB.symbol)}),Object(C.jsx)("div",{className:lt.a.data,children:e.history.time})]})},pt=function(e){var t=e.histories,n=Object(i.useState)(e.histories),a=Object(b.a)(n,2),c=a[0],s=a[1],r=function(e){var n=e===T?t:t.filter((function(t){return t.type===e}));s(n)};return Object(C.jsxs)("div",{className:lt.a.list,children:[Object(C.jsxs)("div",{className:lt.a["header-bar"],children:[Object(C.jsx)("div",{className:lt.a.header,children:"Transactions"}),Object(C.jsx)("div",{className:lt.a.button,onClick:function(){return r(T)},children:"All"}),Object(C.jsx)("div",{className:lt.a.button,onClick:function(){return r(D)},children:"Swaps"}),Object(C.jsx)("div",{className:lt.a.button,onClick:function(){return r(L)},children:"Adds"}),Object(C.jsx)("div",{className:lt.a.button,onClick:function(){return r(E)},children:"Removes"})]}),Object(C.jsxs)("div",{className:lt.a.content,children:[Object(C.jsx)(ut,{}),!c.length&&Object(C.jsx)("div",{className:lt.a.hint,children:"No record found."}),!!c.length&&c.map((function(e){return Object(C.jsx)(dt,{history:e},e.id)}))]})]})},jt=n(6),bt=n.n(jt),ht=function(e){return Object(C.jsxs)("div",{className:bt.a["title-bar"],children:[Object(C.jsxs)("div",{className:bt.a["title-box"],children:[Object(C.jsx)("div",{className:bt.a.title,children:"TOKEN"}),Object(C.jsx)("div",{className:bt.a.icon})]}),Object(C.jsxs)("div",{className:bt.a["title-box"],children:[Object(C.jsx)("div",{className:bt.a.title,children:"MYSHARE"}),Object(C.jsx)("div",{className:bt.a.icon})]}),Object(C.jsxs)("div",{className:bt.a["title-box"],children:[Object(C.jsx)("div",{className:bt.a.title,children:"TVL"}),Object(C.jsx)("div",{className:bt.a.icon})]}),Object(C.jsxs)("div",{className:bt.a["title-box"],children:[Object(C.jsx)("div",{className:bt.a.title,children:"IRR"}),Object(C.jsx)("div",{className:bt.a.icon})]}),Object(C.jsxs)("div",{className:bt.a["title-box"],children:[Object(C.jsx)("div",{className:bt.a.title,children:"REWARD"}),Object(C.jsx)("div",{className:bt.a.icon})]})]})},mt=function(e){return Object(C.jsxs)("div",{className:bt.a.tile,children:[Object(C.jsxs)("div",{className:bt.a.group,children:[Object(C.jsx)("div",{className:bt.a.icon,children:Object(C.jsx)("img",{src:e.pool.token0.iconSrc,alt:"".concat(e.pool.token0.symbol)})}),Object(C.jsx)("div",{className:bt.a.title,children:e.pool.token0.symbol})]}),Object(C.jsx)("div",{className:bt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(q(e.pool.balanceOfToken0InPool,8))}),Object(C.jsx)("div",{className:bt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.pool.tvl||"--")}),Object(C.jsxs)("div",{className:bt.a.data,children:["".concat(e.pool.irr||"--")," %"]}),Object(C.jsx)("div",{className:bt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.pool.reward||"0")}),Object(C.jsxs)("div",{className:bt.a.action,children:[Object(C.jsx)("a",{className:bt.a.button,href:"#/earn/".concat(e.pool.contract),children:"Add"}),Object(C.jsx)("a",{className:bt.a.button,href:"#/redeem/".concat(e.pool.contract),children:"Remove"})]})]})},ft=function(e){var t=Object(i.useContext)(g);return Object(C.jsxs)("div",{className:bt.a.list,children:[Object(C.jsx)("div",{className:bt.a.title,children:"Invests"}),Object(C.jsxs)("div",{className:bt.a.container,children:[Object(C.jsx)(ht,{}),Object(C.jsxs)("div",{className:bt.a.content,children:[!e.invests.length&&!t.isLoading&&Object(C.jsx)("div",{className:bt.a.hint,children:"No token found."}),!!e.invests.length&&e.invests.map((function(e){return Object(C.jsx)(mt,{pool:e,fiat:t.fiat},e.id)})),t.isLoading&&Object(C.jsx)(te,{})]})]})]})},vt=n(9),xt=n.n(vt),Ot=function(e){return Object(C.jsxs)("div",{className:xt.a["title-bar"],children:[Object(C.jsxs)("div",{className:xt.a["title-box"],children:[Object(C.jsx)("div",{className:xt.a.title,children:"TOKEN"}),Object(C.jsx)("div",{className:xt.a.icon})]}),Object(C.jsxs)("div",{className:xt.a["title-box"],children:[Object(C.jsx)("div",{className:xt.a.title,children:"PRICE"}),Object(C.jsx)("div",{className:xt.a.icon})]}),Object(C.jsxs)("div",{className:xt.a["title-box"],children:[Object(C.jsx)("div",{className:xt.a.title,children:"24H"}),Object(C.jsx)("div",{className:xt.a.icon})]}),Object(C.jsxs)("div",{className:xt.a["title-box"],children:[Object(C.jsx)("div",{className:xt.a.title,children:"BALANCE"}),Object(C.jsx)("div",{className:xt.a.icon})]}),Object(C.jsxs)("div",{className:xt.a["title-box"],children:[Object(C.jsx)("div",{className:xt.a.title,children:"inFIAT"}),Object(C.jsx)("div",{className:xt.a.icon})]})]})},_t=function(e){return Object(C.jsxs)("div",{className:xt.a.tile,children:[Object(C.jsxs)("div",{className:xt.a.group,children:[Object(C.jsx)("div",{className:xt.a.icon,children:Object(C.jsx)("img",{src:e.token.iconSrc,alt:"".concat(e.token.symbol)})}),Object(C.jsx)("div",{className:xt.a.title,children:e.token.symbol})]}),Object(C.jsx)("div",{className:xt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.token.price||"--")}),Object(C.jsxs)("div",{className:xt.a.data,children:["".concat(e.token.priceChange||"--")," %"]}),Object(C.jsx)("div",{className:xt.a.data,children:"".concat(q(e.token.balanceOf,8)," ").concat(e.token.symbol)}),Object(C.jsx)("div",{className:xt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(q(O.mult(e.token.balanceOf,e.fiat.exchangeRate),8))}),Object(C.jsx)("div",{className:xt.a.action,children:Object(C.jsx)("a",{className:xt.a.button,href:"#/swap/".concat(e.token.contract),children:"Swap"})})]})},kt=function(e){var t=Object(i.useContext)(g);return Object(C.jsxs)("div",{className:xt.a.list,children:[Object(C.jsx)("div",{className:xt.a.title,children:"Tokens"}),Object(C.jsxs)("div",{className:xt.a.container,children:[Object(C.jsx)(Ot,{}),Object(C.jsxs)("div",{className:xt.a.content,children:[!e.tokens.length&&!t.isLoading&&Object(C.jsx)("div",{className:xt.a.hint,children:"No token found."}),!!e.tokens.length&&e.tokens.map((function(e){return Object(C.jsx)(_t,{token:e,fiat:t.fiat},e.id)})),t.isLoading&&Object(C.jsx)(te,{})]})]})]})},yt=("".concat(V(6)),"".concat(V(6)),[{id:V(6),type:D,tokenA:{symbol:"ETH",amount:"1.63k"},tokenB:{symbol:"WBTC",amount:"0.4"},time:"3 hrs ago"},{id:V(6),type:L,tokenA:{symbol:"ETH",amount:"--"},tokenB:{symbol:"WBTC",amount:"0.4"},time:"3 hrs ago"}]),gt=function(e){var t=Object(i.useContext)(k),n=Object(i.useContext)(g);return Object(C.jsxs)("div",{className:ot.a.assets,children:[Object(C.jsx)("div",{className:ot.a.header,children:"My Assets"}),Object(C.jsxs)("div",{className:ot.a.container,children:[Object(C.jsxs)("div",{className:ot.a.main,children:[Object(C.jsxs)("div",{className:ot.a.details,children:[Object(C.jsx)(ne,{account:t.connectedAccount,balance:"".concat(n.totalBalance," ETH"),balanceInFiat:"".concat(n.fiat.dollarSign," ").concat(O.mult(n.totalBalance,n.fiat.exchangeRate))}),Object(C.jsx)(se,{chainName:t.currentNetwork.chainName})]}),Object(C.jsx)(kt,{tokens:n.assets}),Object(C.jsx)(ft,{invests:n.supportedPools.filter((function(e){return O.gt(e.share,"0")}))})]}),Object(C.jsx)("div",{className:ot.a.sub,children:Object(C.jsx)(pt,{histories:yt})})]})]})},Ct=n(16),Nt=n.n(Ct),wt=function(e){return Object(C.jsxs)("div",{className:Nt.a.tile,onClick:function(){return e.onSelect()},children:[Object(C.jsxs)("div",{className:Nt.a.group,children:[Object(C.jsx)("div",{className:Nt.a.icon,children:Object(C.jsx)("img",{src:e.pool.token1.iconSrc,alt:e.pool.token1.symbol})}),Object(C.jsx)("div",{className:Nt.a.name,children:e.pool.token1.symbol})]}),Object(C.jsxs)("div",{className:Nt.a.data,children:[e.pool.yield," %"]}),Object(C.jsx)("div",{className:Nt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.pool.volume)})]})},St=function(e){return Object(C.jsxs)("div",{className:Nt.a["title-bar"],children:[Object(C.jsx)("div",{className:Nt.a.title,children:"Yield"}),Object(C.jsx)("div",{className:Nt.a.title,children:"Volume"})," "]})},At=function(e){var t=Object(i.useContext)(g);return Object(C.jsxs)("div",{className:Nt.a.list,children:[Object(C.jsx)("div",{className:Nt.a.title,children:"Invest"}),Object(C.jsx)(St,{}),Object(C.jsxs)("div",{className:Nt.a.content,children:[!e.pools.length&&!t.isLoading&&Object(C.jsx)("div",{className:Nt.a.hint,children:"No Token found."}),!!e.pools.length&&e.pools.map((function(n){return Object(C.jsx)(wt,{pool:n,fiat:t.fiat,onSelect:function(){return e.onSelect(n)}},n.id)})),t.isLoading&&Object(C.jsx)(te,{})]})]})},Pt=n(37),It=n.n(Pt),Bt=n(12),Tt=n.n(Bt),Dt=function(e){var t,n,a,c,s=Object(i.useContext)(g),r=Object(i.useState)(!1),o=Object(b.a)(r,2),u=o[0],d=o[1];return console.log(e),Object(C.jsxs)(l.a.Fragment,{children:[u&&Object(C.jsx)(Ce,{title:"Select Token",onCancel:function(){return d(!1)},children:Object(C.jsx)(De,{onSelect:function(t){e.onSelect(t),d(!1)},data:e.pools,filterProperty:"symbol",children:function(t){return wt({pool:t,fiat:s.fiat,onSelect:function(){return e.onSelect(t)}})}})}),Object(C.jsxs)("div",{className:Tt.a.earn,children:[Object(C.jsxs)("main",{className:Tt.a.main,children:[Object(C.jsxs)("div",{className:Tt.a.header,children:[e.selectedPool&&Object(C.jsxs)("div",{className:Tt.a.group,children:[Object(C.jsx)("div",{className:Tt.a.icon,children:Object(C.jsx)("img",{src:e.selectedPool.token0.iconSrc,alt:e.selectedPool.token0.symbol})}),Object(C.jsx)("div",{className:Tt.a.name,children:e.selectedPool.token0.symbol})]}),Object(C.jsx)("div",{className:Tt.a.button,onClick:function(){return d(!0)},children:"Search"})]}),Object(C.jsxs)("div",{className:Tt.a.content,children:[Object(C.jsx)("div",{className:Tt.a.main,children:Object(C.jsx)(Re,{max:(null===(t=e.selectedPool)||void 0===t?void 0:t.poolBalanceOfToken1)||"",symbol:(null===(n=e.selectedPool)||void 0===n?void 0:n.token0.symbol)||"0",onChange:e.changeAmountHandler,value:e.selectedCoinAmount})}),Object(C.jsx)("div",{className:Tt.a.sub,children:Object(C.jsxs)("div",{className:Tt.a.detail,children:[Object(C.jsxs)("div",{className:Tt.a.data,children:[Object(C.jsx)("div",{className:Tt.a.title,children:"My Share"}),Object(C.jsx)("div",{className:Tt.a.amount,children:"".concat((null===(a=e.selectedPool)||void 0===a?void 0:a.share)?q(O.mult(e.selectedPool.share,100),4):"0"," %")})]}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{className:Tt.a.data,children:[Object(C.jsx)("div",{className:Tt.a.title,children:"Total Reward"}),Object(C.jsx)("div",{className:Tt.a.amount,children:"".concat(s.fiat.dollarSign," ").concat((null===(c=e.selectedPool)||void 0===c?void 0:c.rewards)||"0")})]})]})})]}),Object(C.jsx)("div",{className:Tt.a.button,children:Object(C.jsxs)("div",{className:Tt.a["approve-button-container"],children:[e.displayApproveSelectedCoin&&Object(C.jsxs)(Ke,{type:"button",onClick:function(){return e.approveHandler(e.selectedPool.token0.contract,(function(t){e.setSelectedCoinIsApprove(t),e.setDisplayApproveSelectedCoin(!t)}))},children:["Approve ",e.selectedPool.token0.symbol]}),e.displayApprovePairedCoin&&Object(C.jsxs)(Ke,{type:"button",onClick:function(){return e.approveHandler(e.selectedPool.token1.contract,(function(t){e.setPairedCoinIsApprove(t),e.setDisplayApprovePairedCoin(!t)}))},children:["Approve ",e.selectedPool.token1.symbol]}),Object(C.jsx)(Ke,{type:"submit",disabled:!e.selectedCoinIsApprove||!e.pairedCoinIsApprove,children:e.isLoading?"Loading...":"Confirm"})]})})]}),Object(C.jsx)("div",{className:"sub",children:Object(C.jsx)(Xe,{details:$e})})]})]})},Lt=function(e){var t=Object(i.useContext)(k),n=Object(i.useContext)(g),a=Object(i.useState)(null),c=Object(b.a)(a,2),s=c[0],r=c[1],o=Object(i.useState)(""),l=Object(b.a)(o,2),d=l[0],h=l[1],m=Object(i.useState)(""),f=Object(b.a)(m,2),v=f[0],x=f[1],_=Object(i.useState)(null),y=Object(b.a)(_,2),N=(y[0],y[1]),w=Object(u.e)(),S=Object(i.useState)(!1),A=Object(b.a)(S,2),P=A[0],I=A[1],B=Object(i.useState)(!1),T=Object(b.a)(B,2),D=T[0],L=T[1],E=Object(i.useState)(!1),U=Object(b.a)(E,2),F=U[0],H=U[1],R=Object(i.useState)(!1),M=Object(b.a)(R,2),q=M[0],V=M[1],z=Object(i.useState)(!1),Y=Object(b.a)(z,2),K=Y[0],J=(Y[1],function(){var e=Object(j.a)(p.a.mark((function e(n,a){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(n);case 2:c=e.sent,a(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),G=function(e){r(e),w.push({pathname:"/earn/".concat(e.contract)}),d&&X(d,e)},X=function(e,t){var n=W(e,t.token0.balanceOf);h(n);var a=0===+n?null:+n>0;if(console.log("_isValid",a),N(a),a){var c=O.gt(t.token0.balanceOfPool,"0")?O.mult(O.div(t.token1.balanceOfPool,t.token0.balanceOfPool),n):O.mult(O.div(t.token1.balanceOf,t.token0.balanceOf),n);a=!(+c>+t.token1.balanceOf),x(c),N(a)}},Z=function(){var n=Object(j.a)(p.a.mark((function n(a){var c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),console.log("submitHandler"),!F||!q){n.next=15;break}return H(!1),n.prev=4,n.next=7,t.provideLiquidity(s.token0,s.token1,d,v);case 7:c=n.sent,console.log("provideLiquidityResut",c),e.onClose(),n.next=14;break;case 12:n.prev=12,n.t0=n.catch(4);case 14:H(!0);case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(e){return n.apply(this,arguments)}}();return Object(i.useEffect)((function(){return r(n.supportedPools.find((function(e){return w.location.pathname.includes(e.contract)}))),function(){}}),[w.location.pathname,n.supportedPools]),Object(C.jsxs)("form",{className:It.a.earn,onSubmit:Z,children:[Object(C.jsx)("div",{className:It.a.header,children:"Earn"}),Object(C.jsxs)("div",{className:It.a.container,children:[Object(C.jsx)("div",{className:It.a.main,children:Object(C.jsx)(Dt,{selectedPool:s,pools:n.supportedPools,onSelect:G,selectedCoinAmount:d,changeAmountHandler:function(e){return X(e,s)},isLoading:K,approveHandler:J,selectedCoinIsApprove:F,setSelectedCoinIsApprove:H,setDisplayApproveSelectedCoin:I,pairedCoinIsApprove:q,displayApproveSelectedCoin:P,displayApprovePairedCoin:D,setPairedCoinIsApprove:V,setDisplayApprovePairedCoin:L})}),Object(C.jsxs)("div",{className:It.a.sub,children:[Object(C.jsxs)("div",{className:It.a.details,children:[Object(C.jsx)(ne,{account:t.connectedAccount,balance:"".concat(n.totalBalance," ETH"),balanceInFiat:"".concat(n.fiat.dollarSign," ").concat(O.mult(n.totalBalance,n.fiat.exchangeRate))}),Object(C.jsx)(se,{chainName:t.currentNetwork.chainName})]}),Object(C.jsx)(At,{pools:n.supportedPools,onSelect:G})]})]})]})},Et=n(17),Ut=n.n(Et),Ft=function(e){var t=Object(i.useContext)(g);return Object(C.jsxs)("div",{className:Ut.a.tile,onClick:function(){return e.onSelect()},children:[Object(C.jsxs)("div",{className:Ut.a.group,children:[Object(C.jsx)("div",{className:Ut.a.icon,children:Object(C.jsx)("img",{src:e.pool.token1.iconSrc,alt:e.pool.token1.symbol})}),Object(C.jsx)("div",{className:Ut.a.name,children:e.pool.token1.symbol})]}),Object(C.jsxs)("div",{className:Ut.a.data,children:[e.pool.yield," %"]}),Object(C.jsx)("div",{className:Ut.a.data,children:"".concat(t.fiat.dollarSign," ").concat(e.pool.volume)})]})},Ht=function(e){return Object(C.jsxs)("div",{className:Ut.a["title-bar"],children:[Object(C.jsx)("div",{className:Ut.a.title,children:"Yield"}),Object(C.jsx)("div",{className:Ut.a.title,children:"Volume"})," "]})},Rt=function(e){return Object(C.jsxs)("div",{className:Ut.a.list,children:[Object(C.jsx)("div",{className:Ut.a.title,children:"Invest"}),Object(C.jsx)(Ht,{}),Object(C.jsxs)("div",{className:Ut.a.content,children:[!e.pools.length&&Object(C.jsx)("div",{className:Ut.a.hint,children:"No Token found."}),!!e.pools.length&&e.pools.map((function(e){return Object(C.jsx)(Ft,{pool:e},e.id)}))]})]})},Mt=n(38),qt=n.n(Mt),Vt=n(13),Wt=n.n(Vt),zt=function(e){var t,n,a,c=Object(i.useContext)(g),s=Object(i.useState)(!1),r=Object(b.a)(s,2),o=r[0],u=r[1];return Object(C.jsxs)(l.a.Fragment,{children:[o&&Object(C.jsx)(Ce,{title:"Select Token",onCancel:function(){return u(!1)},children:Object(C.jsx)(De,{onSelect:function(t){e.onSelect(t),u(!1)},data:e.pools,filterProperty:"symbol",children:function(t){return Ft({pool:t,fiat:c.fiat,onSelect:function(){return e.onSelect(t)}})}})}),Object(C.jsxs)("div",{className:Wt.a.remove,children:[Object(C.jsxs)("main",{className:Wt.a.main,children:[Object(C.jsxs)("div",{className:Wt.a.header,children:[e.selectedPool&&Object(C.jsxs)("div",{className:Wt.a.group,children:[Object(C.jsx)("div",{className:Wt.a.icon,children:Object(C.jsx)("img",{src:e.selectedPool.token1.iconSrc,alt:e.selectedPool.token1.symbol})}),Object(C.jsx)("div",{className:Wt.a.name,children:e.selectedPool.token1.symbol})]}),Object(C.jsx)("div",{className:Wt.a.button,onClick:function(){return u(!0)},children:"Search"})]}),Object(C.jsxs)("div",{className:Wt.a.content,children:[Object(C.jsx)("div",{className:Wt.a.main,children:Object(C.jsx)(Re,{max:(null===(t=e.selectedPool)||void 0===t?void 0:t.share)||"0",symbol:"",onChange:function(){}})}),Object(C.jsx)("div",{className:Wt.a.sub,children:Object(C.jsxs)("div",{className:Wt.a.detail,children:[Object(C.jsxs)("div",{className:Wt.a.data,children:[Object(C.jsx)("div",{className:Wt.a.title,children:"My Share"}),Object(C.jsx)("div",{className:Wt.a.amount,children:"".concat((null===(n=e.selectedPool)||void 0===n?void 0:n.share)?q(O.mult(e.selectedPool.share,100),4):"0"," %")})]}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{className:Wt.a.data,children:[Object(C.jsx)("div",{className:Wt.a.title,children:"Total Reward"}),Object(C.jsx)("div",{className:Wt.a.amount,children:"".concat(c.fiat.dollarSign," ").concat((null===(a=e.selectedPool)||void 0===a?void 0:a.rewards)||"0")})]})]})})]}),Object(C.jsxs)("div",{className:Wt.a.button,children:[Object(C.jsx)("div",{className:Wt.a["approve-button-container"],children:e.displayApprovePoolContract&&Object(C.jsxs)(Ke,{type:"button",onClick:function(){var t;return e.approveHandler(null===(t=e.selectedPool)||void 0===t?void 0:t.contract,(function(t){e.setPoolContractIsApprove(t),e.setDisplayApprovePoolContract(!t)}))},children:["Approve ",e.selectedPool.name]})}),Object(C.jsx)(Ke,{type:"submit",disabled:!e.poolContractIsApprove,children:e.isLoading?"Loading...":"Confirm"})]})]}),Object(C.jsx)("div",{className:"sub",children:Object(C.jsx)(Xe,{details:$e})})]})]})},Yt=function(e){var t=Object(i.useContext)(k),n=Object(i.useContext)(g),a=Object(i.useState)(null),c=Object(b.a)(a,2),s=c[0],r=c[1],o=Object(u.e)(),l=Object(i.useState)(!1),d=Object(b.a)(l,2),h=d[0],m=d[1],f=Object(i.useState)(!1),v=Object(b.a)(f,2),x=v[0],_=v[1],y=Object(i.useState)(!1),N=Object(b.a)(y,2),w=N[0],S=(N[1],function(){var e=Object(j.a)(p.a.mark((function e(n,a){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(n);case 2:c=e.sent,a(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),A=function(e){r(e),o.push({pathname:"/earn/".concat(e.contract)})};return Object(i.useEffect)((function(){return r(n.supportedPools.find((function(e){return o.location.pathname.includes(e.contract)}))),function(){}}),[o.location.pathname,n.supportedPools]),Object(C.jsxs)("div",{className:qt.a.earn,children:[Object(C.jsx)("div",{className:qt.a.header,children:"Remove"}),Object(C.jsxs)("div",{className:qt.a.container,children:[Object(C.jsx)("div",{className:qt.a.main,children:Object(C.jsx)(zt,{selectedPool:s,pools:n.supportedPools.filter((function(e){return O.gt(e.share,"0")})),onSelect:A,isLoading:w,approveHandler:S,displayApprovePoolContract:h,setDisplayApprovePoolContract:m,poolContractIsApprove:x,setPoolContractIsApprove:_})}),Object(C.jsxs)("div",{className:qt.a.sub,children:[Object(C.jsxs)("div",{className:qt.a.details,children:[Object(C.jsx)(ne,{account:t.connectedAccount,balance:"".concat(n.totalBalance," ETH"),balanceInFiat:"".concat(n.fiat.dollarSign," ").concat(O.mult(n.totalBalance,n.fiat.exchangeRate))}),Object(C.jsx)(se,{chainName:t.currentNetwork.chainName})]}),Object(C.jsx)(Rt,{pools:n.supportedPools,onSelect:A})]})]})]})},Kt=n(94),Jt=n.n(Kt),Gt=function(e){return Object(C.jsx)("div",{className:Jt.a.history,children:"History"})},Xt=n(95),Zt=n.n(Xt),Qt=function(e){return Object(C.jsx)("div",{className:Zt.a.invest,children:"Invest"})},$t=n(96),en=n.n($t),tn=function(e){return Object(C.jsx)("div",{className:en.a.overview,children:"Overview"})},nn=n(97),an=n.n(nn),cn=function(e){return Object(C.jsx)("div",{className:an.a.race,children:"Race"})},sn=n(53),rn=n(69),on=n(99),ln=n(70),un=["title","titleId"];function dn(){return dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},dn.apply(this,arguments)}function pn(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function jn(e,t){var n=e.title,s=e.titleId,r=pn(e,un);return i.createElement("svg",dn({width:135,height:135,ref:t,"aria-labelledby":s},r),n?i.createElement("title",{id:s},n):null,a||(a=i.createElement("path",{d:"M90,105 a60,60 0 1,0 -115,0",fill:"#169AE7",transform:"rotate(-30)"})),c||(c=i.createElement("path",{d:"M-40,110 a60,60 0 0,0 115,0",fill:"#0085D7",transform:"rotate(-30)"})))}var bn=i.forwardRef(jn),hn=(n.p,n(98)),mn=n(7),fn=n.n(mn),vn=n(62),xn=n.n(vn),On=function(e){var t=Object(i.useContext)(k);return Object(C.jsx)(l.a.Fragment,{children:t.connectOptions.map((function(n){return Object(C.jsxs)("div",{className:xn.a["icon-button"],onClick:function(){!function(n){e.onClick();try{t.onConnect(n)}catch(a){console.log("ConnectOptions error",a)}}(n.name)},children:[Object(C.jsx)(_e,{className:xn.a["icon-button__icon"],children:Object(C.jsx)("img",{src:n.src,alt:n.name})}),Object(C.jsx)("p",{className:xn.a["icon-button__name"],children:n.name})]},n.name)}))})},_n=(n(162),function(e){var t=Object(i.useContext)(k);return Object(C.jsxs)(l.a.Fragment,{children:[Object(C.jsxs)("div",{className:fn.a.brand,children:[Object(C.jsx)(bn,{})," TideBit Swap"]}),Object(C.jsxs)("div",{className:fn.a.menuOption,children:[Object(C.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(C.jsx)(sn.a,{size:"1.5em"})}),Object(C.jsx)("a",{className:fn.a.menuOptionText,href:"/#",children:"overview"})]}),Object(C.jsxs)("div",{className:fn.a.menuOption,children:[Object(C.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(C.jsx)(rn.a,{size:"1.5em"})}),Object(C.jsx)("a",{className:fn.a.menuOptionText,href:"#/market",children:"market"})]}),Object(C.jsxs)("div",{className:fn.a.menuOption,children:[Object(C.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(C.jsx)(on.a,{size:"1.5em"})}),Object(C.jsx)("a",{className:fn.a.menuOptionText,href:"#/invest",children:"invest"})]}),(!t.isConnected||!t.connectedAccount)&&Object(C.jsxs)("div",{className:fn.a.menuOption,children:[Object(C.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(C.jsx)(sn.b,{size:"1.5em"})}),Object(C.jsx)("div",{className:fn.a.menuOptionText,onClick:e.onConnect,children:"login"})]}),Object(C.jsxs)("div",{className:"".concat(fn.a.menuOption," ").concat(fn.a.active),children:[Object(C.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(C.jsx)(ln.a,{size:"1.5em"})}),Object(C.jsx)("a",{className:fn.a.menuOptionText,href:"#/assets",children:"my assets"})]}),Object(C.jsxs)("div",{className:fn.a.menuOption,children:[Object(C.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(C.jsx)(sn.d,{size:"1.5em"})}),Object(C.jsx)("a",{className:fn.a.menuOptionText,href:"#/swap",children:"swap"})]}),Object(C.jsxs)("div",{className:fn.a.menuOption,children:[Object(C.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(C.jsx)(ln.b,{size:"1.5em"})}),Object(C.jsx)("a",{className:fn.a.menuOptionText,href:"#/earn",children:"earn"})]}),Object(C.jsxs)("div",{className:fn.a.menuOption,children:[Object(C.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(C.jsx)(rn.b,{size:"1.5em"})}),Object(C.jsx)("a",{className:fn.a.menuOptionText,href:"#/race",children:"race"})]}),t.isConnected&&t.connectedAccount&&Object(C.jsxs)("div",{className:fn.a.menuOption,children:[Object(C.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(C.jsx)(sn.c,{size:"1.5em"})}),Object(C.jsx)("div",{className:fn.a.menuOptionText,onClick:t.onDisconnect,children:"logout"})]})]})}),kn=function(e){return Object(C.jsxs)("div",{className:fn.a.footer,children:[Object(C.jsxs)("div",{children:["v",hn.version," BETA"]}),Object(C.jsx)("div",{children:"\xa92021 TideBit. All rights reserved."}),Object(C.jsx)("div",{children:"Power By CAFECA"})]})},yn=function(e){var t=Object(i.useContext)(k),n=Object(u.f)(),a=Object(i.useState)(!1),c=Object(b.a)(a,2),s=c[0],o=c[1],d=function(){o(!0)};return Object(i.useEffect)((function(){if(!t.isConnected)switch(n.hash){case"#/assets":case"#/swap":case"#/earn":o(!0)}return function(){}}),[t.isConnected,n]),Object(i.useEffect)((function(){return t.isConnected&&t.connectedAccount&&o(!1),function(){}}),[t.connectedAccount,t.isConnected]),Object(C.jsxs)(l.a.Fragment,{children:[s&&Object(C.jsx)(Ce,{title:"Connect Wallet",onCancel:function(){o(!1)},children:Object(C.jsx)(On,{onClick:d})}),r.a.createPortal(Object(C.jsxs)("div",{className:"".concat(fn.a.sideMenu," ").concat(t.isConnected&&t.connectedAccount?fn.a.connected:""),children:[Object(C.jsx)(_n,{onConnect:d}),Object(C.jsx)(kn,{})]}),document.getElementById("side-menu"))]})},gn=function(){return Object(C.jsxs)(l.a.Fragment,{children:[Object(C.jsx)(yn,{}),Object(C.jsxs)(o.b,{children:[Object(C.jsx)(u.a,{exact:!0,path:"/",children:Object(C.jsx)(tn,{})}),Object(C.jsx)(u.a,{path:"/market",children:Object(C.jsx)(st,{})}),Object(C.jsx)(u.a,{path:"/invest",children:Object(C.jsx)(Qt,{})}),Object(C.jsx)(u.a,{path:"/history",children:Object(C.jsx)(Gt,{})}),Object(C.jsxs)(w,{children:[Object(C.jsx)(u.a,{path:"/assets",children:Object(C.jsx)(gt,{})}),Object(C.jsx)(u.a,{path:"/swap",children:Object(C.jsx)(nt,{})}),Object(C.jsx)(u.a,{path:"/earn",children:Object(C.jsx)(Lt,{})}),Object(C.jsx)(u.a,{path:"/redeem",children:Object(C.jsx)(Yt,{})}),Object(C.jsx)(u.a,{path:"/race",children:Object(C.jsx)(cn,{})})]})]})]})},Cn=n(33),Nn=n.n(Cn),wn=n.p+"static/media/imToken.14ab6720.png",Sn=function(){function e(){Object(h.a)(this,e),this.lunar=new Nn.a,this.walletList=this.lunar.env.wallets.map((function(e){switch(e){case"Metamask":return{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/MetaMask_Fox.svg/440px-MetaMask_Fox.svg.png",name:"MetaMask"};case"imToken":return{src:wn,name:"imToken"};case"TideWallet":return{src:wn,name:"TideWallet"};default:return[]}}))}return Object(m.a)(e,[{key:"routerContract",get:function(){return this._routerContract},set:function(e){this._routerContract=e}},{key:"network",get:function(){return this._network},set:function(e){this._network=e}},{key:"pairIndex",get:function(){return this._pairIndex},set:function(e){this._pairIndex=e}},{key:"connectedAccount",get:function(){return this._connectedAccount},set:function(e){this._connectedAccount=e}},{key:"isConnected",get:function(){return this._isConnected},set:function(e){this._isConnected=e}},{key:"factoryContract",get:function(){return this._factoryContract},set:function(e){this._factoryContract=e}},{key:"findContractByNetwork",value:function(e){var t;if("BSCTestnet"===e.key)t="0x214798a5ca2Fc1cD0d9E4020eCA384406AB67755";else t=P;return t}},{key:"getFactoryContract",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("this.routerContract",this.routerContract),e.next=3,this.getData("factory()",null,this.routerContract);case 3:t=e.sent,this.factoryContract="0x".concat(t.slice(26,66)),console.log("this.factoryContract",this.factoryContract);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"switchContract",value:function(e){this.routerContract=e}},{key:"switchNetwork",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isConnected=!1,e.prev=1,e.next=4,this.lunar.switchBlockchain({blockchain:t});case 4:this.isConnected=!0,n=this.findContractByNetwork(t),this.switchContract(n),this.factoryContract="",this.network=t,this.poolList=[],this.assetList=[],e.next=15;break;case 13:e.prev=13,e.t0=e.catch(1);case 15:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"calculateTokenBalanceOfPools",value:function(e){return e.pools.reduce((function(t,n){var a=+n.share>0?O.mult(n.share,e.totalSupply):"0";return O.plus(t,a)}),"0")}},{key:"getData",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){var c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="0x".concat(H()(t).toString("hex").slice(0,8)),e.prev=1,e.next=4,this.lunar.getData({contract:a,data:"".concat(n?c+n:c)});case 4:return s=e.sent,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(1),console.log("".concat(t," error"),e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.connectedAccount=null,this.isConnected=!1,e.next=4,this.lunar.disconnect();case 4:this.poolList=[],this.assetList=[],this.pairIndex=0;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.poolList=[],this.assetList=[],this.pairIndex=0,a=this.findContractByNetwork(n),this.switchContract(a),this.network=n,e.prev=6,e.t0=t,e.next="MetaMask"===e.t0?10:"imToken"===e.t0?14:18;break;case 10:return e.next=12,this.lunar.connect({wallet:Nn.a.Wallets.Metamask,blockchain:this.network});case 12:case 16:return c=e.sent,e.abrupt("break",19);case 14:return e.next=16,this.lunar.connect({wallet:Nn.a.Wallets[t],blockchain:this.network});case 18:return e.abrupt("break",19);case 19:return this.isConnected=!!c,this.connectedAccount=this.lunar.address,console.log("connect connectedAccount",this.connectedAccount),e.abrupt("return",{connectedAccount:this.connectedAccount});case 25:throw e.prev=25,e.t1=e.catch(6),console.log("connect in TideTimeSwapContract",e.t1),e.t1;case 29:case"end":return e.stop()}}),e,this,[[6,25]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolContractByTokens",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.replace("0x","").padStart(64,"0"),c=n.replace("0x","").padStart(64,"0"),this.factoryContract){e.next=5;break}return e.next=5,this.getFactoryContract();case 5:return e.next=7,this.getData("getPair(address,address)",a+c,this.factoryContract);case 7:return s=e.sent,e.abrupt("return","0x".concat(s.slice(26,66)));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolContractByIndex",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.toString(16).padStart(64,"0"),this.factoryContract||this.getFactoryContract(),e.next=4,this.getData("allPairs(uint256)",n,this.factoryContract);case 4:return a=e.sent,e.abrupt("return","0x".concat(a.slice(26,66)));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolTokenContract",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("token".concat(t,"()"),null,n);case 2:return a=e.sent,c="0x".concat(a.slice(26,66)),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSelectedPool",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){var c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&a){e.next=2;break}return e.abrupt("return");case 2:if(c=t.findIndex((function(e){return(n.contract===e.token0.contract||n.contract===e.token1.contract)&&(a.contract===e.token0.contract||a.contract===e.token1.contract)})),-1!==c){e.next=8;break}return e.next=6,this.getPoolByTokens(n.contract,a.contract);case 6:return s=e.sent,e.abrupt("return",s);case 8:return e.abrupt("return",t[c]);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getTokenByContract",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,c,s,r,o,i,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,this.lunar.getBalance({contract:t,address:n.contract});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0="0";case 7:return a=e.t0,e.next=10,this.lunar.getAsset({contract:t});case 10:if(c=e.sent,s=c.symbol,r=c.decimals,o=c.totalSupply,i=c.name,!this.connectedAccount){e.next=21;break}return e.next=18,this.lunar.getBalance({contract:t,address:this.connectedAccount});case 18:e.t1=e.sent,e.next=22;break;case 21:e.t1="0";case 22:return l=e.t1,e.abrupt("return",{id:V(6),contract:t,iconSrc:U,name:i,symbol:s,decimals:r,totalSupply:o,balanceOf:l,pools:[Object(A.a)(Object(A.a)({},n),{},{poolBalanceOfToken:a})],balance:"--"});case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateAssets",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(n=this.assetList.findIndex((function(e){return t.contract===e.contract})))){e.next=9;break}return a=this.calculateTokenBalanceOfPools(t),c=Object(A.a)(Object(A.a)({},t),{},{balanceInPools:a}),console.log("updateAssets tokenDetail",c),this.assetList.push(c),e.abrupt("return",c);case 9:return this.assetList[n].pools=Object(S.a)(this.assetList[n].pools).concat(t.pools),this.assetList[n].balanceInPools=this.calculateTokenBalanceOfPools(this.assetList[n]),console.log("updateAssets  this.assetList[index]",this.assetList[n]),e.abrupt("return",this.assetList[n]);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addToken",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTokenByContract(t);case 2:return n=e.sent,e.next=5,this.updateAssets(n);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getToken",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPoolTokenContract(t,n.contract);case 2:return a=e.sent,e.next=5,this.getTokenByContract(a,n);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolDetail",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O.gt(t.share,"0")?O.mult(t.share,t.poolBalanceOfToken0):"0",a=O.gt(t.share,"0")?O.mult(t.share,t.poolBalanceOfToken1):"0",e.abrupt("return",Object(A.a)(Object(A.a)({},t),{},{balanceOfToken0InPool:n,balanceOfToken1InPool:a}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolByTokens",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,c,s,r,o,i,l,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=V(6),e.next=3,this.getPoolContractByTokens(t,n);case 3:if(e.t1=e.sent,a={id:e.t0,contract:e.t1},O.gt(O.toBn(a.contract),"0")){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,this.getTokenByContract(t,a);case 9:return c=e.sent,e.next=12,this.getTokenByContract(n,a);case 12:return s=e.sent,e.next=15,this.getData("decimals()",null,a.contract);case 15:return r=e.sent,o=parseInt(r,16),e.next=19,this.getData("totalSupply()",null,a.contract);case 19:return i=e.sent,l=parseInt(i,16),u=Object(A.a)(Object(A.a)({},a),{},{decimals:o,totalSupply:l,name:"".concat(c.symbol,"/").concat(s.symbol),token0:c,token1:s,poolBalanceOfToken0:c.pools[0].poolBalanceOfToken,poolBalanceOfToken1:s.pools[0].poolBalanceOfToken,liquidity:"--",yield:"--",volume:"--"}),e.next=24,this.getPoolDetail(u);case 24:return d=e.sent,e.abrupt("return",d);case 26:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolByIndex",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,c,s,r,o,i,l,u,d,j;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPoolContractByIndex(t);case 2:return n=e.sent,e.next=5,G(n,this.connectedAccount);case 5:return a=e.sent,c=a.decimals,s=a.balanceOf,r=a.totalSupply,o=O.gt(r,"0")?O.div(s,r):"0",i={id:V(6),contract:n,totalSupply:r,balanceOf:s,share:o},e.next=13,this.getToken(0,i);case 13:return l=e.sent,console.log("getPoolByIndex token0",l),e.next=17,this.getToken(1,i);case 17:return u=e.sent,console.log("getPoolByIndex token1",u),d=Object(A.a)(Object(A.a)({},i),{},{decimals:c,totalSupply:r,name:"".concat(l.symbol,"/").concat(u.symbol),token0:l,token1:u,poolBalanceOfToken0:l.pools[0].poolBalanceOfToken,poolBalanceOfToken1:u.pools[0].poolBalanceOfToken,liquidity:"--",yield:"--",volume:"--"}),e.next=22,this.getPoolDetail(d);case 22:return j=e.sent,console.log("getPoolByIndex poolPairDetail",j),e.abrupt("return",j);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContractDataLength",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("getContractDataLength this.factoryContract",this.factoryContract),this.factoryContract){e.next=4;break}return e.next=4,this.getFactoryContract();case 4:return e.next=6,this.getData("allPairsLength()",null,this.factoryContract);case 6:return t=e.sent,n=parseInt(t,16),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContractData",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isConnected){e.next=3;break}return console.log("getContractData this.poolList",this.poolList),e.abrupt("return",{poolList:[],assetList:[],pairIndex:0});case 3:return e.next=5,this.getPoolByIndex(t);case 5:return n=e.sent,this.poolList.push(n),e.next=9,this.updateAssets(n.token0);case 9:return e.next=11,this.updateAssets(n.token1);case 11:return this.pairIndex=t,e.abrupt("return",{poolList:this.poolList,assetList:this.assetList,pairIndex:this.pairIndex});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAmountsIn",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){var c,s,r,o,i,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"getAmountsIn(uint256,address[])",c=O.toSmallestUnitHex(t,a.decimals).split(".")[0].padStart(64,"0"),s=n.contract.replace("0x","").padStart(64,"0"),r=a.contract.replace("0x","").padStart(64,"0"),o=c+"00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000002"+s+r,e.next=7,this.getData("getAmountsIn(uint256,address[])",o,this.routerContract);case 7:return i=e.sent,console.log("getAmountsIn result",i),l=Y(i.replace("0x",""),64)[2],console.log("getAmountsIn parsedResult",l),u=O.toCurrencyUint(O.toBn(l),n.decimals),console.log("getAmountsIn amountIn",u),e.abrupt("return",u);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getAmountsOut",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){var c,s,r,o,i,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"getAmountsOut(uint256,address[])",c=O.toSmallestUnitHex(t,n.decimals).split(".")[0].padStart(64,"0"),s=n.contract.replace("0x","").padStart(64,"0"),r=a.contract.replace("0x","").padStart(64,"0"),o=c+"00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000002"+s+r,e.next=7,this.getData("getAmountsOut(uint256,address[])",o,this.routerContract);case 7:return i=e.sent,console.log("getAmountsOut result",i),l=Y(i.replace("0x",""),64)[3],console.log("getAmountsOut parsedResult",l),u=O.toCurrencyUint(O.toBn(l),a.decimals),console.log("getAmountsOut amountOut",u),e.abrupt("return",u);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"isAllowanceEnough",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){var c,s,r,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"allowance(address,address)",c=this.connectedAccount.replace("0x","").padStart(64,"0"),s=this.routerContract.replace("0x","").padStart(64,"0"),r=c+s,e.next=6,this.getData("allowance(address,address)",r,t);case 6:return o=e.sent,console.log("allowance result",o),i=O.toCurrencyUint(O.toBn(o),a),console.log("allowance amount",i),e.abrupt("return",O.gt(i,n));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"approve",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a){var c,s,r,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"approve(address,uint256)",c="0x".concat(H()("approve(address,uint256)").toString("hex").slice(0,8)),s=this.routerContract.replace("0x","").padStart(64,"0"),r=n?O.toSmallestUnitHex(n,a).split(".")[0].padStart(64,"0"):"".padEnd(64,"f"),0,o={to:t,amount:0,data:c+s+r},e.next=9,this.lunar.send(o);case 9:return i=e.sent,console.log("approve result",i),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"createPair",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a,c,s,r,o,i,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("createPair(address,address)",a="0x".concat(H()("createPair(address,address)").toString("hex").slice(0,8)),c=t.replace("0x","").padStart(64,"0"),s=n.replace("0x","").padStart(64,"0"),r=a+c+s,o=0,this.factoryContract){e.next=9;break}return e.next=9,this.getFactoryContract();case 9:return i={to:this.factoryContract,amount:o,data:r},e.next=12,this.lunar.send(i);case 12:return l=e.sent,console.log("createPair result",l),e.abrupt("return",l);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"provideLiquidity",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a,c){var s,r,o,i,l,u,d,j,b,h,m,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"addLiquidity(address,address,uint256,uint256,uint256,uint256,address,uint256)",s="0x".concat(H()("addLiquidity(address,address,uint256,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),r=t.contract.replace("0x","").padStart(64,"0"),o=n.contract.replace("0x","").padStart(64,"0"),i=O.toSmallestUnitHex(a,t.decimals).split(".")[0].padStart(64,"0"),l=O.toSmallestUnitHex(c,n.decimals).split(".")[0].padStart(64,"0"),u=O.toHex(Math.floor(O.mult(O.toSmallestUint(a,t.decimals),"0.95"))).padStart(64,"0"),d=O.toHex(Math.floor(O.mult(O.toSmallestUint(c,n.decimals),"0.95"))).padStart(64,"0"),j=this.connectedAccount.replace("0x","").padStart(64,"0"),b=O.toHex(O.plus(Math.round(O.div(Date.now(),1e3)),1800)).padStart(64,"0"),h=s+r+o+i+l+u+d+j+b,0,m={to:this.routerContract,amount:0,data:h},e.next=15,this.lunar.send(m);case 15:return f=e.sent,console.log("addLiquidity result",f),e.abrupt("return",f);case 18:case"end":return e.stop()}}),e,this)})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"swap",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a,c){var s,r,o,i,l,u,d,j,b,h,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"swapExactTokensForTokens(uint256,uint256,address[],address,uint256)",s="0x".concat(H()("swapExactTokensForTokens(uint256,uint256,address[],address,uint256)").toString("hex").slice(0,8)),r=O.toSmallestUnitHex(t,a.decimals).split(".")[0].padStart(64,"0"),o=O.toSmallestUnitHex(n,c.decimals).split(".")[0].padStart(64,"0"),i=this.connectedAccount.replace("0x","").padStart(64,"0"),l=O.toHex(O.plus(Math.round(O.div(Date.now(),1e3)),1800)).padStart(64,"0"),u=O.toHex(2).padStart(64,"0"),d=a.contract.replace("0x","").padStart(64,"0"),j=c.contract.replace("0x","").padStart(64,"0"),b=s+r+o+"00000000000000000000000000000000000000000000000000000000000000a0"+i+l+u+d+j,0,h={to:this.routerContract,amount:0,data:b},e.next=14,this.lunar.send(h);case 14:return m=e.sent,console.log("swap result",m),e.abrupt("return",m);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"takeLiquidity",value:function(){var e=Object(j.a)(p.a.mark((function e(t,n,a,c){var s,r,o,i,l,u,d,j,b,h,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"removeLiquidity(address,address,uint256,uint256,uint256,address,uint256)",s="0x".concat(H()("removeLiquidity(address,address,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),r=t.token0.contract.replace("0x","").padStart(64,"0"),o=t.token1.contract.replace("0x","").padStart(64,"0"),i=O.toSmallestUnitHex(n,t.decimals).split(".")[0].padStart(64,"0"),l=O.toSmallestUnitHex(a,t.token0.decimals).split(".")[0].padStart(64,"0"),u=O.toSmallestUnitHex(c,t.token1.decimals).split(".")[0].padStart(64,"0"),d=this.connectedAccount.replace("0x","").padStart(64,"0"),j=O.toHex(O.plus(Math.round(O.div(Date.now(),1e3)),1800)).padStart(64,"0"),b=s+r+o+i+l+u+d+j,0,h={to:this.routerContract,amount:0,data:b},e.next=14,this.lunar.send(h);case 14:return m=e.sent,console.log("takeLiquidity result",m),e.abrupt("return",m);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,a,c){return e.apply(this,arguments)}}()}]),e}(),An=Sn,Pn={isTestnet:!0},In=function(e){var t=Object(i.useMemo)((function(){return new An}),[]),n=Object(i.useState)([]),a=Object(b.a)(n,2),c=a[0],s=a[1],r=Object(i.useState)(!1),o=Object(b.a)(r,2),l=o[0],u=o[1],d=Object(i.useState)(!1),h=Object(b.a)(d,2),m=h[0],f=h[1],v=Object(i.useState)(null),x=Object(b.a)(v,2),O=x[0],_=x[1],y=Object(i.useState)(null),g=Object(b.a)(y,2),N=g[0],w=g[1],S=Object(i.useState)(null),P=Object(b.a)(S,2),I=P[0],B=P[1],T=Object(i.useState)([]),D=Object(b.a)(T,2),L=D[0],E=D[1],U=Object(i.useState)(Nn.a.Blockchains.EthereumTestnet),F=Object(b.a)(U,2),H=F[0],R=F[1],M=Object(i.useState)(!1),q=Object(b.a)(M,2),V=q[0],W=q[1];Object(i.useEffect)((function(){return E(Nn.a.listBlockchain({testnet:Pn.isTestnet})),function(){}}),[]);var z=Object(i.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,t.connect(n,H);case 4:a=e.sent,f(!1),u(!0),W(!0),w(a.connectedAccount),e.next=17;break;case 11:throw e.prev=11,e.t0=e.catch(0),console.log("connect error",e.t0),_({hasError:!0,message:e.t0.message}),f(!1),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),[H,t]),Y=function(){var e=Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.disconnect();case 2:u(!1),w(null),W(!1),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=Object(i.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("switchNetwork network",n),e.prev=1,e.next=4,t.switchNetwork(n);case 4:a=e.sent,console.log("switchNetwork result",a),W(!0),R(n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("switchNetwork error",e.t0),_(Object(A.a)(Object(A.a)({},e.t0),{},{hasError:!0}));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),[t]),J=Object(i.useCallback)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getContractDataLength();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[t]),G=Object(i.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getContractData(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),X=Object(i.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSelectedPool(n,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[t]),Z=Object(i.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addToken(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),Q=Object(i.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isAllowanceEnough(n,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[t]),$=Object(i.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(n,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[t]),ee=Object(i.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createPair(n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),te=Object(i.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(n,a,c,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.provideLiquidity(n,a,c,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),[t]),ne=Object(i.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(n,a,c,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.swap(n,a,c,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),[t]),ae=Object(i.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAmountsIn(n,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[t]),ce=Object(i.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAmountsOut(n,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[t]),se=Object(i.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(n,a,c,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.takeLiquidity(n,a,c,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),[t]);return Object(i.useEffect)((function(){B(t.routerContract),s(t.walletList)}),[t]),Object(C.jsx)(k.Provider,{value:{initial:V,isLoading:m,isConnected:l,connectOptions:c,connectedAccount:N,routerContract:I,supportedNetworks:L,currentNetwork:H,error:O,isInit:function(){return W(!1)},onConnect:z,onDisconnect:Y,switchNetwork:K,getContractDataLength:J,getContractData:G,getSelectedPool:X,addToken:Z,isAllowanceEnough:Q,approve:$,createPair:ee,provideLiquidity:te,getAmountsIn:ae,getAmountsOut:ce,swap:ne,takeLiquidity:se},children:e.children})};r.a.render(Object(C.jsx)(In,{children:Object(C.jsx)(o.a,{children:Object(C.jsx)(gn,{})})}),document.getElementById("root"))}],[[170,1,2]]]);
//# sourceMappingURL=main.f254adfd.chunk.js.map