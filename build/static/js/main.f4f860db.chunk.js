(this["webpackJsonptidebit-swap"]=this["webpackJsonptidebit-swap"]||[]).push([[0],[,,,,,function(e,t,n){e.exports={table:"Table_table__3y2Kz",header:"Table_header__-YQMN","header-bar":"Table_header-bar__2d18R",container:"Table_container__1XOxR",content:"Table_content__1IYE3","title-bar":"Table_title-bar__3o_Ih",tile:"Table_tile__B_MQp",hint:"Table_hint__3EJMv",button:"Table_button__3SfIF",group:"Table_group__3MYkV","title-box":"Table_title-box__3_OBq",data:"Table_data__SVR_j",increase:"Table_increase__3UcyM",decrease:"Table_decrease__16a7N",icon:"Table_icon__3kzX2"}},,,function(e,t,n){e.exports={sideMenu:"Menu_sideMenu__lBetq",menuOption:"Menu_menuOption__2v4u7",menuOptionIcon:"Menu_menuOptionIcon__Ald9O",connected:"Menu_connected__1mod5",active:"Menu_active__1hc7Y",footer:"Menu_footer__eGKyL"}},,function(e,t,n){e.exports={list:"Invests_list__m9X7Q",title:"Invests_title__3mul2",container:"Invests_container__3NZqg",content:"Invests_content__32dHw","title-bar":"Invests_title-bar__30VJG","title-box":"Invests_title-box__2nVIe",hint:"Invests_hint__2UPTM",tile:"Invests_tile__ObI1k",action:"Invests_action__2uINN",button:"Invests_button__1UxLh",group:"Invests_group__1uXQ3",data:"Invests_data__34NYi",icon:"Invests_icon__YEZf2"}},function(e,t,n){e.exports={list:"Tokens_list__Gjr5T",title:"Tokens_title__31jd_",container:"Tokens_container__3eOiU",content:"Tokens_content__3DJ78","title-bar":"Tokens_title-bar__21Cna",hint:"Tokens_hint__3lG8a",tile:"Tokens_tile__SoXzX",action:"Tokens_action__3jhH7",button:"Tokens_button__2mtdT",group:"Tokens_group__3_VCb","title-box":"Tokens_title-box__1Rba4",data:"Tokens_data__2Y5UW",icon:"Tokens_icon__3gktW"}},function(e,t,n){e.exports={list:"Histories_list__2xJrX",header:"Histories_header__1YzK8","header-bar":"Histories_header-bar__3Go9h",button:"Histories_button__1PQWi",content:"Histories_content__3Z2dU","title-bar":"Histories_title-bar__2PRCM",data:"Histories_data__1ANku","title-box":"Histories_title-box__2cDNC",hint:"Histories_hint__2w_7b",tile:"Histories_tile__3xHlD"}},function(e,t,n){e.exports={earn:"EarnPannel_earn__3z8zB",main:"EarnPannel_main__26RDS",header:"EarnPannel_header__HcEyW",placeholder:"EarnPannel_placeholder__AE-SO","button-icon":"EarnPannel_button-icon__3vYlY","approve-button-container":"EarnPannel_approve-button-container__1ge31",button:"EarnPannel_button__cWS6h",group:"EarnPannel_group__3DZmy",name:"EarnPannel_name__3P03D",icon:"EarnPannel_icon__1UYE3",content:"EarnPannel_content__UqCL6",sub:"EarnPannel_sub__2oloi",detail:"EarnPannel_detail__2ecZK",data:"EarnPannel_data__5P21y",title:"EarnPannel_title__eji1d",amount:"EarnPannel_amount__wLVS6"}},function(e,t,n){e.exports={remove:"RemovePannel_remove__jpV8T",main:"RemovePannel_main__1zjl-",header:"RemovePannel_header__2auAe","approve-button-container":"RemovePannel_approve-button-container__3ZyOJ",group:"RemovePannel_group__2LWou",name:"RemovePannel_name__2B_T5",icon:"RemovePannel_icon__2VWIX",content:"RemovePannel_content__2nV3x",sub:"RemovePannel_sub__3o8BA",detail:"RemovePannel_detail__2B7ES",data:"RemovePannel_data__3Onec",title:"RemovePannel_title__1kqHw",amount:"RemovePannel_amount__1Ww_j"}},,function(e,t,n){e.exports={list:"Pairs_list__J0v05",content:"Pairs_content__lyfpd","title-bar":"Pairs_title-bar__2HvKP",header:"Pairs_header__36Jsp",group:"Pairs_group__Ad7Qo",title:"Pairs_title__jckNR",data:"Pairs_data__2XiiL","button-icon":"Pairs_button-icon__t0Zpb",name:"Pairs_name__1qKiu",tile:"Pairs_tile__wzqBh",pair:"Pairs_pair__10Ql-",icon:"Pairs_icon__2tb4X"}},function(e,t,n){e.exports={list:"Pairs_list__2qnYy",content:"Pairs_content__1VyBy","title-bar":"Pairs_title-bar__3Muwe",header:"Pairs_header__1Y_yx",group:"Pairs_group__G0L2p",title:"Pairs_title__36TFQ",data:"Pairs_data__Q5LHX","button-icon":"Pairs_button-icon__3j-Ak",name:"Pairs_name__1M4DP",tile:"Pairs_tile__1joPZ",pair:"Pairs_pair__3cBC4",icon:"Pairs_icon__10gyi"}},function(e,t,n){e.exports={"import-token":"ImportTokenPannel_import-token__2EsQA",main:"ImportTokenPannel_main__3J_5V",header:"ImportTokenPannel_header__CjLj3",placeholder:"ImportTokenPannel_placeholder__lxFgY","button-icon":"ImportTokenPannel_button-icon__3iU7Q","approve-button-container":"ImportTokenPannel_approve-button-container__3uSGS",button:"ImportTokenPannel_button__1Q8cQ",group:"ImportTokenPannel_group__38en3",name:"ImportTokenPannel_name__1JWkA",icon:"ImportTokenPannel_icon__3Rj0X",content:"ImportTokenPannel_content__3yljF",sub:"ImportTokenPannel_sub__24dw2",detail:"ImportTokenPannel_detail__2RC_c",data:"ImportTokenPannel_data__3_w8O",title:"ImportTokenPannel_title__2ENQj",amount:"ImportTokenPannel_amount__6IMEJ"}},,,,function(e,t,n){e.exports={overview:"Overview_overview__US_oz",chart:"Overview_chart__2Ycxr",header:"Overview_header__2aAYF",summary:"Overview_summary__2O2BW",group:"Overview_group__3aiWb",data:"Overview_data__3o1Ff",change:"Overview_change__1vPud",increase:"Overview_increase__2-amt",decrease:"Overview_decrease__36lN8"}},,function(e,t,n){e.exports={list:"Pairs_list__1UtYK",content:"Pairs_content__XHW41",title:"Pairs_title__3UB8T",name:"Pairs_name__38nsk",tile:"Pairs_tile__2MYUT",pair:"Pairs_pair__3Y185","icon-switch":"Pairs_icon-switch__1DwK_",icon:"Pairs_icon__15XCr"}},function(e,t,n){e.exports={input:"Input_input__2swPp",label:"Input_label__3uKZ0",detail:"Input_detail__2VQ0x","input-controller":"Input_input-controller__scu78","input-hint":"Input_input-hint__yVEJ-",show:"Input_show__2WQWC",message:"Input_message__374uh",invalid:"Input_invalid__m8mGZ"}},,,function(e,t,n){e.exports={asset:"AssetDetail_asset__2cwF_",title:"AssetDetail_title__3DVBQ",content:"AssetDetail_content__2ov9y",header1:"AssetDetail_header1__1Kjoq",header2:"AssetDetail_header2__WCdRy",icon:"AssetDetail_icon__-yOOL",paragraph:"AssetDetail_paragraph__i9X-e"}},,,,function(e,t,n){e.exports={modal:"Dialog_modal__1cigk",content:"Dialog_content__fFoO4",expand:"Dialog_expand__LnNKS",header:"Dialog_header__23n3D",title:"Dialog_title__iQRCw",cancel:"Dialog_cancel__3e6LL"}},function(e,t,n){e.exports={network:"NetworkDetail_network__2syz5",content:"NetworkDetail_content__3vHP-",icon:"NetworkDetail_icon__28jIU",title:"NetworkDetail_title__3yPlt",header1:"NetworkDetail_header1__3nrra",paragraph:"NetworkDetail_paragraph__1aTxu",option:"NetworkDetail_option__3wBdA"}},function(e,t,n){e.exports={summary:"Summary_summary__1SLx7",title:"Summary_title__1Cb2f",detail:"Summary_detail__3Vft7",tooltip:"Summary_tooltip__1779p",tooltiptext:"Summary_tooltiptext__8UrVC"}},,function(e,t,n){e.exports={swap:"Swap_swap__1KF6G",container:"Swap_container__2uhmH",main:"Swap_main__3FNMx",sub:"Swap_sub__2psBl",header:"Swap_header__2Kkgq",details:"Swap_details__3AxVk"}},function(e,t,n){e.exports={assets:"Assets_assets__2wbpj",container:"Assets_container__2lSPN",main:"Assets_main__1blVk",sub:"Assets_sub__zuPKG",header:"Assets_header__2Hw2b",details:"Assets_details__OAA6m"}},function(e,t,n){e.exports={earn:"Earn_earn__1RmLP",container:"Earn_container__3ui41",main:"Earn_main__2jKkM",sub:"Earn_sub__3uaFo",header:"Earn_header__2ND1J",details:"Earn_details__2HfWD"}},function(e,t,n){e.exports={remove:"Remove_remove__2QtZ7",container:"Remove_container__1jXva",main:"Remove_main__E7bnp",sub:"Remove_sub__1tqXs",header:"Remove_header__2ahCz",details:"Remove_details__2gJPj",button:"Remove_button__1BGgg"}},function(e,t,n){e.exports={"import-token":"ImportToken_import-token__3iVyT",container:"ImportToken_container__3FZKB",main:"ImportToken_main__3Hn1A",sub:"ImportToken_sub__1irui",header:"ImportToken_header__2JN63",details:"ImportToken_details__2xQmU"}},,,,function(e,t,n){e.exports={shrink:"CoinOption_shrink__3ehoX",name:"CoinOption_name__2UvXJ",option:"CoinOption_option__1CMJD",symbol:"CoinOption_symbol__Gs4V4",icon:"CoinOption_icon__2vU9a"}},function(e,t,n){e.exports={pannel:"FilterList_pannel__27Tam",input:"FilterList_input__2EVl1",select:"FilterList_select__3knbB","search-bar":"FilterList_search-bar__2GKp7",container:"FilterList_container__2K8AM",hint:"FilterList_hint__1zqxb"}},function(e,t,n){e.exports={title:"CoinDialog_title__1dW6u",button:"CoinDialog_button__140Fr",placeholder:"CoinDialog_placeholder__3t7zn"}},,,,,function(e,t,n){e.exports={input:"SearchInput_input__11JgY","search-icon":"SearchInput_search-icon__2Gr5g","search-icon__circle":"SearchInput_search-icon__circle__etznQ","search-icon__rectangle":"SearchInput_search-icon__rectangle__3TB9q"}},function(e,t,n){e.exports={"approve-button-container":"SwapPannel_approve-button-container__sxcH6",swap:"SwapPannel_swap__2eqJD",main:"SwapPannel_main__17IbX"}},,,,,,function(e,t,n){e.exports={list:"List_list__XVT3P",title:"List_title__1J_ZH",loading:"List_loading__1X4WL"}},function(e,t,n){e.exports={button:"Button_button__6-R6B",loading:"Button_loading__2RWSQ","lds-spinner":"Button_lds-spinner__2xMNt"}},function(e,t,n){e.exports={"icon-button":"ConnectOptions_icon-button__3A5mo","icon-button__icon":"ConnectOptions_icon-button__icon__2GcbM","icon-button__name":"ConnectOptions_icon-button__name__1Fl3o"}},function(e,t,n){e.exports={modal:"LoadingDialog_modal__3iTpZ",message:"LoadingDialog_message__x3Jjy"}},,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={"lds-spinner":"LoadingIcon_lds-spinner__3cMQd"}},function(e,t,n){e.exports={backdrop:"Backdrop_backdrop__1uHu4"}},function(e,t,n){e.exports={card:"Card_card__1m44e"}},,,function(e,t,n){e.exports={"coin-input":"CoinInput_coin-input__hYd5s"}},function(e,t,n){e.exports={market:"Market_market__2gkcO"}},function(e,t,n){e.exports={history:"History_history__2J5PT"}},function(e,t,n){e.exports={invest:"Invest_invest__mq3Jd"}},function(e,t,n){e.exports={race:"Race_race__3rm1k"}},function(e){e.exports=JSON.parse('{"name":"tidebit-swap","version":"0.9.0","description":"TideBit SWAP - The Most Friendly DeFi Solution","main":"bin/main.js","scripts":{"start":"bin/main.js","debug":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","deploy":"pm2 deploy"},"repository":{"type":"git","url":"git+https://github.com/CAFECA-IO/TideBitSWAP.git"},"keywords":["frontend","backend","framework"],"author":"CAFECA","license":"MIT","bugs":{"url":"https://github.com/CAFECA-IO/TideBitSWAP/issues"},"homepage":"https://swap.tidebit.network/","dependencies":{"@cafeca/lunar":"^0.2.12","@fortawesome/free-solid-svg-icons":"^5.15.4","@fortawesome/react-fontawesome":"^0.1.16","@testing-library/jest-dom":"^5.11.6","@testing-library/react":"^11.2.2","@testing-library/user-event":"^12.5.0","apexcharts":"^3.30.0","bignumber.js":"^9.0.1","command-line-args":"^5.0.2","dvalue":"^1.0.20","ecrequest":"^1.1.5","i18n":"^0.13.3","keccak256":"^1.0.3","koa":"^2.13.1","koa-body":"^4.2.0","koa-router":"^10.1.1","koa-session":"^6.2.0","koa-static":"^5.0.0","litepicker":"^2.0.11","ncp":"^2.0.0","pem":"^1.14.4","qrcode.react":"^1.0.1","react":"^17.0.1","react-apexcharts":"^1.3.9","react-dom":"^17.0.1","react-icons":"^4.3.1","react-router-dom":"^5.3.0","spdy":"^4.0.2","toml":"^3.0.0","web-vitals":"^0.2.4","ws":"^8.2.1"},"devDependencies":{"assert":"^2.0.0","buffer":"^6.0.3","clean-webpack-plugin":"^4.0.0-alpha.0","copy-webpack-plugin":"^9.0.1","css-loader":"^5.2.6","cssnano":"^5.0.5","file-loader":"^6.2.0","https-browserify":"^1.0.0","mini-css-extract-plugin":"^1.6.0","node-sass":"^6.0.0","os":"^0.1.1","postcss-loader":"^5.3.0","react-dom":"^17.0.2","react-scripts":"4.0.1","sass-loader":"^12.0.0","stream":"0.0.2","stream-http":"^3.2.0","svg-inline-loader":"^0.8.2","ts-loader":"^9.2.3","typescript":"^4.3.4","url":"^0.11.0","url-loader":"^4.1.1","web3":"^1.3.6"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},,,,,,function(e,t,n){},,,,,,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,function(e,t){},,,,,,,,,function(e,t,n){"use strict";n.r(t);var a,c,s=n(26),r=n.n(s),o=n(57),i=(n(97),n(2)),l=n.n(i),u=n(9),d=n(3),p=n.n(d),j=n(27),b=n(4),h=n(6),v=n(55),m=n(56),f=n(31),x=n.n(f),O=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,null,[{key:"isNumber",value:function(e){return/^(([1-9]\d*)|([0]{1}))(\.\d+)?$/.test(e)}},{key:"isHex",value:function(e){return/^(0x)?[a-fA-F0-9]*$/.test(e)}},{key:"toBn",value:function(t){return"string"===typeof t&&!e.isNumber(t)&&e.isHex(t)?new x.a(t,16):new x.a(t)}},{key:"toSmallestUnitHex",value:function(e,t){return new x.a(e).multipliedBy(new x.a(10).pow(t)).toString(16)}},{key:"plus",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.plus(c).toFixed()}},{key:"minus",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.minus(c).toFixed()}},{key:"mult",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.multipliedBy(c).toFixed()}},{key:"div",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.dividedBy(c).toFixed()}},{key:"mod",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.mod(c).toFixed()}},{key:"eq",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.eq(c)}},{key:"gt",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.gt(c)}},{key:"gte",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.gte(c)}},{key:"lt",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.lt(c)}},{key:"lte",value:function(t,n){var a=e.toBn(t),c=e.toBn(n);return a.lte(c)}},{key:"toCurrencyUint",value:function(t,n){var a=e.toBn(t),c=e.toBn(10).exponentiatedBy(n);return a.dividedBy(c).toFixed()}},{key:"gweiToEth",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.dividedBy(a).toFixed()}},{key:"weiToGwei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.dividedBy(a).toFixed()}},{key:"toSmallestUnit",value:function(t,n){var a=e.toBn(t),c=e.toBn(10).exponentiatedBy(n);return a.multipliedBy(c).toFixed()}},{key:"ethToGwei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.multipliedBy(a).toFixed()}},{key:"gweiToWei",value:function(t){var n=e.toBn(t),a=e.toBn(10).exponentiatedBy(9);return n.multipliedBy(a).toFixed()}},{key:"compressedPubKeyCheck",value:function(t,n){var a=e.toBn("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c=e.toBn(t),s=e.toBn(n);return c.pow(new x.a(3)).plus(new x.a(7)).minus(s.pow(new x.a(2))).mod(a).isZero()}},{key:"toHex",value:function(t){return e.toBn(t).toString(16)}}]),e}(),_=O,k=l.a.createContext({initial:!1,connectOptions:[],connectedAccount:null,routerContract:null,isLoading:!0,error:null,isConnected:!1,currentNetwork:null,supportedNetworks:[],supportedPools:[],supportedTokens:[],overview:[],nativeCurrency:null,isInit:function(){},onDisconnect:function(){console.log("onDisconnect")},onConnect:function(e){console.log("onConnect",e)},getAssetBalanceOf:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPoolBalanceOf:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),switchNetwork:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getContractDataLength:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getContractData:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSelectedPool:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),addToken:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),isAllowanceEnough:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),approve:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),createPair:function(){var e=Object(b.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),provideLiquidityWithETH:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),provideLiquidity:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),getAmountsIn:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),getAmountsOut:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),swap:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),takeLiquidity:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}()}),y=k,g=l.a.createContext({isLoading:!1,totalBalance:0,reward:0,fiat:{dollarSign:"$",symbol:"USD",exchangeRate:"1"},invests:[],assets:[],histories:[],updateFiat:function(e){},updateAssets:function(e){},updateHistories:function(e){},updateInvests:function(e){}}),N=g,C="0xDDBCB302A16f27D12Ef1cA491b4791a7b3d67c04",w="All",S="Swaps",T="Adds",P="Removes",A=n(7),I=n.p+"static/media/erc20.49e225fa.png",L=n(23),B=n.n(L),E=function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){var c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=_.isHex(t)?t:"0x".concat(B()(t).toString("hex").slice(0,8)),e.prev=1,e.next=4,window.ethereum.request({id:M(1),jsonrpc:"2.0",method:"eth_call",params:[{from:"0x0000000000000000000000000000000000000000",data:"".concat(n?c+n:c),to:a},"latest"]});case 4:return s=e.sent,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(1),console.trace("eth_call error",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;if(e.length<=2*t)return e;var n=e.slice(0,t),a=e.slice(e.length-t,e.length);return n+"..."+a},H=function(e,t){var n=e.split(".");return n.length>1&&(n[1]=n[1].substring(0,t)),n[1].length>0?"".concat(n[0],".").concat(n[1]):n[0]},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=e.split(".");return n.length>1?(e.length>t&&(n[1]=n[1].substring(0,t-n[0].length-1)),n[1].length>0?"".concat(n[0],".").concat(n[1]):n[0]):e},M=function(e){var t="",n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for((e=parseInt(e))>0||(e=8);t.length<e;)t=t.concat(n.charAt(parseInt(Math.random()*n.length)));return t},U=function(e,t){return 0===+e?e:+e>+t?+t:e},R=function(e,t,n,a){var c;c=t&&e.symbol===t.symbol?n.find((function(t){return t.symbol!==e.symbol})):t;var s=U(a,null===e||void 0===e?void 0:e.balanceOf),r=t?z(e,c,a):"";return{active:e,passive:c,activeAmount:s,passiveAmount:r}},q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],V=function(e){return e<10?"0"+e:e},W=function(e){var t=new Date(e),n=t.getDate(),a=t.getMonth(),c=t.getFullYear(),s=t.getHours(),r=t.getMinutes(),o="AM";return s-12>0&&(s-=12,o="PM"),{text:q[a]+" "+V(n)+", "+c+" "+s+":"+V(r)+" "+o,date:q[a]+" "+V(n)+", "+c,time:s+":"+V(r)+" "+o,month:q[a],dateTime:V(n),year:c}},Y=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=e.toString().replace("0x",""),a=[],c=0;c<n.length;c+=t){var s=n.slice(c,c+t);a.push(s)}return a},J=function(e){for(var t=e.toString().replace("0x",""),n="",a=0;a<t.length;a+=2){if("00"!==t.substr(a,2))n+=String.fromCharCode(parseInt(t.substr(a,2),16))}return n},z=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.03,c=_.div(n,e.balanceOfPool),s=1-a,r=_.mult(_.div(_.mult(c,s),_.plus(1,_.mult(c,s))),t.balanceOfPool);return r},Q=n(1),X=(M(6),M(6),function(e){var t=Object(i.useContext)(y),n=Object(i.useState)(!1),a=Object(h.a)(n,2),c=a[0],s=a[1],r=Object(i.useState)("0.0"),o=Object(h.a)(r,2),l=o[0],u=o[1],d=Object(i.useState)("-.-"),v=Object(h.a)(d,2),m=v[0],f=(v[1],Object(i.useState)({dollarSign:"$",symbol:"USD",exchangeRate:"1"})),x=Object(h.a)(f,2),O=x[0],k=x[1],g=Object(i.useState)([]),C=Object(h.a)(g,2),w=C[0],S=C[1],T=Object(i.useState)([]),P=Object(h.a)(T,2),A=P[0],I=P[1],L=Object(i.useState)([]),B=Object(h.a)(L,2),E=B[0],D=(B[1],Object(i.useCallback)((function(e){k(e)}),[])),H=Object(i.useCallback)((function(){var e="0";t.supportedTokens.forEach(function(){var n=Object(b.a)(p.a.mark((function n(a,c){var r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!0),n.next=3,t.getAssetBalanceOf(a);case 3:r=n.sent,_.gt(r.balanceOf,"0")&&(e=_.plus(e,r.balanceOf),I((function(e){var t=Object(j.a)(e),n=t.findIndex((function(e){return e.contract===r.contract}));return-1===n?t.push(r):t[n]=r,t})),u(e)),s(!1);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}),[t]),F=Object(i.useCallback)((function(){t.supportedPools.forEach(function(){var e=Object(b.a)(p.a.mark((function e(n,a){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,t.getPoolBalanceOf(n);case 3:c=e.sent,console.log("updateInvests updatePool",c.balanceOf,c.share,c),_.gt(c.share,"0")&&S((function(e){var t=Object(j.a)(e),a=t.findIndex((function(e){return e.contract===n.contract}));return-1===a?t.push(c):t[a]=c,t})),s(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[t]),M=Object(i.useCallback)((function(){}),[]);return Object(i.useEffect)((function(){return t.isConnected&&t.connectedAccount&&(t.supportedTokens.length>0&&H(),t.supportedPools.length>0&&F()),function(){}}),[t.connectedAccount,t.isConnected,t.supportedPools.length,t.supportedTokens.length,H,F]),Object(Q.jsx)(N.Provider,{value:{isLoading:c,totalBalance:l,reward:m,fiat:O,invests:w,assets:A,histories:E,updateFiat:D,updateAssets:H,updateHistories:M,updateInvests:F},children:e.children})}),K=n(28),G=n.n(K),Z=n(81),$=n.n(Z),ee=function(e){return Object(Q.jsxs)("div",{className:$.a["lds-spinner"],children:[Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{})]})},te=function(){var e=Object(i.useContext)(N),t=Object(i.useContext)(y);return Object(Q.jsxs)("div",{className:G.a.asset,children:[Object(Q.jsx)("div",{className:G.a.title,children:"Connected Account"}),Object(Q.jsxs)("div",{className:G.a.content,children:[t.connectedAccount&&Object(Q.jsx)("div",{className:G.a.paragraph,children:D(t.connectedAccount,10)}),Object(Q.jsxs)("div",{className:G.a.icon,children:[Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{})]})]}),e.isLoading?Object(Q.jsx)(ee,{}):Object(Q.jsxs)("div",{className:G.a.content,children:[Object(Q.jsx)("div",{className:G.a.header1,children:"".concat(e.fiat.dollarSign," ").concat(F(_.mult(e.totalBalance,e.fiat.exchangeRate),2))}),Object(Q.jsx)("div",{className:G.a.header2,children:"".concat(F(e.totalBalance,2)," ").concat(t.currentNetwork.nativeCurrency.symbol)})]})]})},ne=n(82),ae=n.n(ne),ce=function(e){return Object(Q.jsx)(l.a.Fragment,{children:r.a.createPortal(Object(Q.jsx)("div",{className:ae.a.backdrop,onClick:e.onCancel}),document.getElementById("backdrop-root"))})},se=n(83),re=n.n(se),oe=function(e){return Object(Q.jsx)("div",{className:"".concat(re.a.card," ").concat(e.className),children:e.children})},ie=n(32),le=n.n(ie),ue=function(e){return Object(Q.jsxs)(oe,{className:e.expand?le.a.modal+" "+le.a.expand:le.a.modal,children:[Object(Q.jsxs)("header",{className:le.a.header,children:[Object(Q.jsx)("div",{className:le.a.title,children:e.title}),Object(Q.jsx)("div",{className:le.a.cancel,onClick:e.onCancel,children:"\u2715"})]}),Object(Q.jsx)("div",{className:le.a.content,children:e.children})]})},de=function(e){return Object(Q.jsxs)(l.a.Fragment,{children:[Object(Q.jsx)(ce,{onCancel:e.onCancel}),r.a.createPortal(Object(Q.jsx)(ue,{title:e.title,onCancel:e.onCancel,expand:e.expand,children:e.children}),document.getElementById("overlay-root"))]})},pe=n(58),je=n.n(pe),be=function(e){return Object(Q.jsxs)("div",{className:e.className,children:[!!e.title&&Object(Q.jsx)("div",{className:je.a.title,children:e.title}),Object(Q.jsx)("ul",{className:"".concat(je.a.list," "),children:e.data.map((function(t){return Object(Q.jsx)("li",{onClick:function(){e.onClick&&e.onClick(t)},children:e.children(t)},t.id||M(6))}))}),e.isLoading&&Object(Q.jsx)("div",{className:je.a.loading,children:Object(Q.jsx)(ee,{})})]})},he=n(33),ve=n.n(he),me=function(e){return Object(Q.jsx)("div",{className:ve.a.option,children:e.chainName})},fe=function(e){var t=Object(i.useContext)(y),n=Object(i.useState)(!1),a=Object(h.a)(n,2),c=a[0],s=a[1],r=Object(i.useState)(!1),o=Object(h.a)(r,2),u=o[0],d=o[1],j=function(){var e=Object(b.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("changeNetworkHandler selected",n),d(!1),e.prev=2,e.next=5,t.switchNetwork(n);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:s(!1);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(Q.jsxs)(l.a.Fragment,{children:[u&&Object(Q.jsx)(de,{title:"Network Options",onCancel:function(){return d(!1)},children:Object(Q.jsx)(be,{data:t.supportedNetworks,onClick:j,children:me})}),Object(Q.jsxs)("div",{className:ve.a.network,onClick:function(){c||(s(!0),d(!0))},children:[Object(Q.jsxs)("div",{className:ve.a.content,children:[Object(Q.jsx)("div",{className:ve.a.title,children:"Network"}),Object(Q.jsx)("div",{className:ve.a.header1,children:t.currentNetwork.chainName}),Object(Q.jsx)("div",{className:ve.a.paragraph,children:"Last Block: 13547750"})]}),Object(Q.jsx)("div",{className:ve.a.icon,children:Object(Q.jsx)("img",{src:"https://www.tidebit.one/icons/eth.png",alt:t.currentNetwork.chainName})})]})]})},xe=n(24),Oe=n.n(xe),_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.03,n=_.div("1",e.poolBalanceOfToken0),a=1-t,c=_.mult(_.div(_.mult(n,a),_.plus(1,_.mult(n,a))),e.poolBalanceOfToken1);return c},ke=function(e){var t=Object(u.e)();return Object(Q.jsxs)("div",{className:Oe.a.tile,onClick:function(){return t.push({pathname:"/swap/".concat(e.pool.contract)})},children:[Object(Q.jsxs)("div",{className:Oe.a.name,children:["1 ".concat(e.pool.token0.symbol)," \u2248"," ".concat(F(_e(e.pool))," ").concat(e.pool.token1.symbol)]}),Object(Q.jsxs)("div",{className:Oe.a.pair,children:[Object(Q.jsx)("div",{className:Oe.a.icon,children:Object(Q.jsx)("img",{src:e.pool.token0.iconSrc,alt:e.pool.token0.symbol})}),Object(Q.jsx)("div",{className:Oe.a["icon-switch"],children:"\u21c4"}),Object(Q.jsx)("div",{className:Oe.a.icon,children:Object(Q.jsx)("img",{src:e.pool.token1.iconSrc,alt:e.pool.token1.symbol})})]})]})},ye=function(e){var t=Object(i.useContext)(N);return Object(Q.jsxs)("div",{className:Oe.a.list,children:[Object(Q.jsx)("div",{className:Oe.a.title,children:"Swap"}),Object(Q.jsxs)("div",{className:Oe.a.content,children:[!e.pools.length&&!t.isLoading&&Object(Q.jsx)("div",{className:Oe.a.hint,children:"No Pair found."}),!!e.pools.length&&e.pools.map((function(e){return Object(Q.jsx)(ke,{pool:e},e.id)})),t.isLoading&&Object(Q.jsx)(ee,{})]})]})},ge=n(36),Ne=n.n(ge),Ce=n(44),we=n.n(Ce),Se=function(e,t){return Object(Q.jsxs)("div",{value:e.name,className:"".concat(we.a.option," ").concat(t?we.a.shrink:""),onClick:e.onSelect,children:[Object(Q.jsx)("div",{className:we.a.icon,children:Object(Q.jsx)("img",{src:e.iconSrc,alt:e.name})}),Object(Q.jsx)("div",{className:we.a.symbol,children:e.symbol}),Object(Q.jsx)("div",{className:we.a.name,children:e.name})]})},Te=n(51),Pe=n.n(Te),Ae=function(e){return Object(Q.jsxs)("div",{className:Pe.a.input,children:[Object(Q.jsxs)("div",{className:Pe.a["search-icon"],children:[Object(Q.jsx)("div",{className:Pe.a["search-icon__circle"]}),Object(Q.jsx)("div",{className:Pe.a["search-icon__rectangle"]})]}),Object(Q.jsx)("input",{id:M(6),type:"text",placeholder:e.placeholder,ref:e.inputRef,value:e.value,onChange:e.onChange})]})},Ie=n(45),Le=n.n(Ie),Be=function(e){var t=Object(i.useState)(""),n=Object(h.a)(t,2),a=n[0],c=n[1],s=Object(i.useState)(e.data),r=Object(h.a)(s,2),o=r[0],l=r[1];Object(i.useEffect)((function(){return l(e.data),function(){}}),[e.data]);var u=Object(i.useRef)(),d=function(){var t=Object(b.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c(n.target.value.replace(/[^0-9A-Za-z]/gi,"")),!/^0x[a-fA-F0-9]{40}$/.test(n.target.value)){t.next=8;break}return t.next=4,e.onImport(n.target.value);case 4:(a=t.sent)&&l([a]),t.next=9;break;case 8:l(e.data.filter((function(t){return!u.current||t[e.filterProperty].toLowerCase().includes(u.current.value.toLowerCase())})));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(Q.jsxs)("div",{className:Le.a.pannel,children:[Object(Q.jsx)("div",{className:Le.a["search-bar"],children:Object(Q.jsx)(Ae,{inputRef:u,value:a,onChange:d,placeholder:"Search"})}),!(null===o||void 0===o?void 0:o.length)&&!!e.hint&&Object(Q.jsx)("div",{className:Le.a.container,children:Object(Q.jsx)("div",{className:Le.a.hint,children:e.hint})}),!!(null===o||void 0===o?void 0:o.length)&&Object(Q.jsx)(be,{className:Le.a.select,data:o,onClick:e.onSelect,children:function(t){return e.children(t,!!e.isShrink)}})]})},Ee=n(46),De=n.n(Ee),He=l.a.forwardRef((function(e,t){var n=Object(i.useContext)(y),a=Object(i.useState)(!1),c=Object(h.a)(a,2),s=c[0],r=c[1],o=Object(u.e)(),d=function(){var t=Object(b.a)(p.a.mark((function t(a){var c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(-1!==(c=e.options.findIndex((function(e){return e.contract===a})))){t.next=7;break}return t.next=4,n.addToken(a);case 4:s=t.sent,t.next=8;break;case 7:s=e.options[c];case 8:return t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(i.useImperativeHandle)(t,(function(){return{openDialog:function(){return r(!0)},closeDialog:function(){return r(!1)}}})),Object(Q.jsxs)(l.a.Fragment,{children:[s&&Object(Q.jsx)(de,{title:"Select Coin",onCancel:function(){return r(!1)},children:Object(Q.jsx)(Be,{onSelect:function(t){e.onSelect(t),-1===n.supportedPools.findIndex((function(e){return e.token0.contract===t.contract||e.token1.contract===t.contract}))&&o.push({pathname:"/import-token/".concat(t.contract)}),r(!1)},onImport:d,data:e.options,filterProperty:"symbol",children:function(e){return Se(e)}})}),Object(Q.jsxs)("div",{className:De.a.option,children:[Object(Q.jsx)("div",{className:De.a.title,children:"Coin"}),Object(Q.jsxs)("div",{className:De.a.button,onClick:function(){return r(!0)},children:[e.selectedCoin&&Se(e.selectedCoin,e.isShrink),!e.selectedCoin&&Object(Q.jsx)("div",{className:De.a.placeholder,children:"Select Coin"}),Object(Q.jsx)("div",{className:De.a.icon,children:"\u276f"})]})]})]})})),Fe=He,Me=n(25),Ue=n.n(Me),Re=function(e){var t=M(6);return Object(Q.jsxs)("div",{className:"".concat(Ue.a.input," ").concat(!1===e.isValid?Ue.a.invalid:""),children:[Object(Q.jsx)("label",{htmlFor:t,className:Ue.a.label,children:e.label}),Object(Q.jsxs)("div",{className:Ue.a["input-controller"],children:[Object(Q.jsx)("input",{id:t,type:"number",value:e.value,onInput:function(t){console.log("onIput",t.target.value);var n=t.target.value;e.onChange(+n)},readOnly:!!e.readOnly}),Object(Q.jsx)("div",{className:Ue.a["input-hint"]+(""!==e.value&&+e.value===+e.max?" "+Ue.a.show:""),children:"MAX"})]}),!e.removeDetail&&Object(Q.jsxs)(l.a.Fragment,{children:[Object(Q.jsxs)("div",{className:Ue.a.detail,children:[Object(Q.jsx)("div",{children:"Available:"}),Object(Q.jsx)("div",{className:Ue.a["input-maximum"],children:F("".concat(e.max),14)}),e.symbol&&Object(Q.jsx)("div",{className:Ue.a.symbol,children:e.symbol})]}),Object(Q.jsx)("div",{className:Ue.a.message,children:Object(Q.jsx)("div",{children:e.message})})]})]})},qe=n(86),Ve=n.n(qe),We=function(e){var t,n,a,c=Object(i.useRef)(),s=e.removeDetail||!(e.readOnly&&+e.value>+(null===(t=e.selected)||void 0===t?void 0:t.balanceOf)),r=s?"":"Insufficient amount";return console.log("props.selected",e.selected),Object(Q.jsxs)("div",{className:Ve.a["coin-input"],children:[Object(Q.jsx)(Fe,{ref:c,options:e.options,selectedCoin:e.selected,onSelect:e.onSelect,isShrink:!0}),Object(Q.jsx)(Re,{label:"Amount",max:(null===(n=e.selected)||void 0===n?void 0:n.balanceOf)||0,symbol:(null===(a=e.selected)||void 0===a?void 0:a.symbol)||"",value:e.value,onChange:e.onChange,readOnly:e.readOnly,isValid:s,message:r,removeDetail:e.removeDetail})]})},Ye=n(59),Je=n.n(Ye),ze=function(e){return Object(Q.jsxs)("div",{className:Je.a["lds-spinner"],children:[Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{})]})},Qe=function(e){return Object(Q.jsx)("button",{className:"".concat(Je.a.button," ").concat(e.loading?Je.a.loading:""),type:e.type||"button",onClick:e.onClick,disabled:e.disabled,children:!0===e.loading?Object(Q.jsx)(ze,{}):e.children})},Xe=n(34),Ke=n.n(Xe),Ge=function(e){var t;return Object(Q.jsxs)("div",{className:Ke.a.summary,children:[Object(Q.jsx)("div",{className:Ke.a.title,children:"Summary"}),null===(t=e.details)||void 0===t?void 0:t.map((function(e){return Object(Q.jsxs)("div",{className:Ke.a.detail,children:[!!e.explain&&Object(Q.jsxs)("div",{className:Ke.a.tooltip,children:[Object(Q.jsx)("div",{children:e.title}),Object(Q.jsx)("div",{className:Ke.a.tooltiptext,children:e.explain})]}),!e.explain&&Object(Q.jsx)("div",{className:Ke.a["detail-title"],children:e.title}),Object(Q.jsx)("div",{className:Ke.a["detail-value"],children:e.value})]},M(6))}))]})},Ze=n(52),$e=n.n(Ze),et=[{title:"Price",value:"--",explain:"Estimated price of the swap, not the final price that the swap is executed."},{title:"Slip Price",value:"--",explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."},{title:"Fee",value:"--",explain:"Trade transaction fee collected by liquidity providers."},{title:"Minimun Amount",value:"--"}],tt=function(e,t){var n,a,c,s,r,o,i;switch(t.type){case"SELL_COIN_UPDATE":var l=i=R(t.value.coin,e.buyCoin,e.options);n=l.active,s=l.passive,a=e.sellCoinAmount,r="";break;case"SELL_COIN_AMOUN_UPDATE":a=t.value.amount,r=e.buyCoinAmount;break;case"BUY_COIN_UPDATE":s=(i=R(t.value.coin,e.sellCoin,e.options)).active,n=i.passive,a=e.sellCoinAmount,r="";break;case"BUY_COIN_AMOUNT_UPDATE":console.log("BUY_COIN_AMOUNT_UPDATE",t.value.amount),r=t.value.amount,a=e.sellCoinAmount}return n=n||e.sellCoin,s=s||e.buyCoin,c=0===+a?null:+a>0&&a<n.balanceOf,o=0===+r?null:+r>0,{options:e.options,sellCoin:n,sellCoinAmount:a,sellCoinIsValid:c,buyCoin:s,buyCoinAmount:r,buyCoinIsValid:o}},nt=function(e){var t,n,a=Object(i.useContext)(y),c=Object(i.useState)(!1),s=Object(h.a)(c,2),r=s[0],o=s[1],l=Object(i.useState)(!1),d=Object(h.a)(l,2),j=d[0],v=d[1],m=Object(i.useState)(!1),f=Object(h.a)(m,2),x=f[0],O=f[1],_=Object(u.e)(),k=Object(u.f)(),g=Object(i.useReducer)(tt,{options:a.supportedTokens,sellCoin:null,sellCoinAmount:"",sellCoinIsValid:null,buyCoin:null,buyCoinAmount:"",buyCoinIsValid:null}),N=Object(h.a)(g,2),C=N[0],w=N[1];Object(i.useEffect)((function(){var e=a.supportedTokens.find((function(e){return k.pathname.includes(e.contract)}));if(e)I(e);else{var t,n,c=a.supportedPools.find((function(e){return k.pathname.includes(e.contract)}));(null===c||void 0===c||null===(t=c.token0)||void 0===t?void 0:t.contract)&&(null===c||void 0===c||null===(n=c.token1)||void 0===n?void 0:n.contract)&&I(a.supportedTokens.find((function(e){return e.contract===c.token0.contract})))}return function(){}}),[k,a.supportedTokens,a.supportedPools]),Object(i.useEffect)((function(){return C.sellCoin&&C.buyCoin&&(o(!0),a.getSelectedPool(a.supportedPools,C.sellCoin,C.buyCoin).then((function(e){console.log("selectedPool",e),e?(_.push({pathname:"/swap/".concat(e.contract)}),C.sellCoinAmount?a.getAmountsOut(C.sellCoinAmount,C.sellCoin,C.buyCoin).then((function(e){console.log("amountOut",e),w({type:"BUY_COIN_AMOUNT_UPDATE",value:{amount:e}}),o(!1)})):o(!1)):(_.push({pathname:"/swap"}),o(!1))}))),function(){console.log("CLEANUP selectedPool")}}),[C.sellCoin,C.buyCoin,a.supportedPools,a,C.sellCoinAmount,_]),Object(i.useEffect)((function(){return C.sellCoinIsValid&&C.buyCoinIsValid&&a.isAllowanceEnough(C.sellCoin.contract,C.sellCoinAmount,C.sellCoin.decimals).then((function(e){O(!e),v(e)})),function(){console.log("CLEANUP")}}),[C.sellCoinIsValid,C.buyCoinIsValid,null===(t=C.sellCoin)||void 0===t?void 0:t.contract,null===(n=C.sellCoin)||void 0===n?void 0:n.decimals,C.sellCoinAmount,a]);var S=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.approve(C.sellCoin.contract);case 2:e.sent&&(v(!0),O(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var t=Object(b.a)(p.a.mark((function t(n){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!j){t.next=14;break}return v(!1),t.prev=3,t.next=6,a.swap(C.sellCoinAmount,C.buyCoinAmount,C.sellCoin,C.buyCoin);case 6:c=t.sent,console.log("result",c),e.onClose(),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(3);case 13:v(!0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w({type:"SELL_COIN_AMOUN_UPDATE",value:{amount:t}}),o(!0),!(+t>0)){e.next=8;break}return e.next=5,a.getAmountsOut(t,C.sellCoin,C.buyCoin);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=0;case 9:n=e.t0,console.log("sellAmountChangeHandler amountOut",n),w({type:"BUY_COIN_AMOUNT_UPDATE",value:{amount:n}}),o(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w({type:"BUY_COIN_AMOUNT_UPDATE",value:{amount:t}}),o(!0),!(+t>0)){e.next=8;break}return e.next=5,a.getAmountsIn(t,C.sellCoin,C.buyCoin);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=0;case 9:n=e.t0,console.log("buyAmountChangeHandler amountIn",n),w({type:"SELL_COIN_AMOUN_UPDATE",value:{amount:n}}),o(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){w({type:"SELL_COIN_UPDATE",value:{coin:e}})};return Object(Q.jsxs)("form",{className:$e.a.swap,onSubmit:T,children:[Object(Q.jsxs)("main",{className:$e.a.main,children:[Object(Q.jsx)(We,{label:"Sell",value:C.sellCoinAmount,onChange:P,selected:C.sellCoin,onSelect:I,options:a.supportedTokens}),Object(Q.jsx)("div",{className:"icon",children:Object(Q.jsx)("div",{children:"\u21c5"})}),Object(Q.jsx)(We,{label:"Buy",value:C.buyCoinAmount,onChange:A,selected:C.buyCoin,onSelect:function(e){w({type:"BUY_COIN_UPDATE",value:{coin:e}})},options:a.supportedTokens}),Object(Q.jsx)("div",{className:"hint",children:"The ultimate price and output is determined by the amount of tokens in the pool at the time of your swap."}),Object(Q.jsxs)("div",{className:$e.a.button,children:[Object(Q.jsx)("div",{className:$e.a["approve-button-container"],children:x&&Object(Q.jsxs)(Qe,{type:"button",onClick:S,children:["Approve ",C.sellCoin.symbol]})}),Object(Q.jsx)(Qe,{type:"submit",disabled:!j,children:r?"Loading...":!1===C.sellCoinIsValid?"Insufficient ".concat(C.sellCoin.symbol," balance"):"Swap"})]})]}),Object(Q.jsx)("div",{className:"sub",children:Object(Q.jsx)(Ge,{details:et})})]})},at=function(e){var t=Object(i.useContext)(y);return Object(Q.jsxs)("div",{className:Ne.a.swap,children:[Object(Q.jsx)("div",{className:Ne.a.header,children:"Swap"}),Object(Q.jsxs)("div",{className:Ne.a.container,children:[Object(Q.jsx)("div",{className:Ne.a.main,children:Object(Q.jsx)(nt,{})}),Object(Q.jsxs)("div",{className:Ne.a.sub,children:[Object(Q.jsxs)("div",{className:Ne.a.details,children:[Object(Q.jsx)(te,{}),Object(Q.jsx)(fe,{})]}),Object(Q.jsx)(ye,{pools:t.supportedPools})]})]})]})},ct=(n(87),n(37)),st=n.n(ct),rt=n(12),ot=n.n(rt),it=function(e){return Object(Q.jsxs)("div",{className:ot.a["title-bar"],children:[Object(Q.jsxs)("div",{className:ot.a["title-box"],children:[Object(Q.jsx)("div",{className:ot.a.title,children:"Type"}),Object(Q.jsx)("div",{className:ot.a.icon})]}),Object(Q.jsxs)("div",{className:ot.a["title-box"],children:[Object(Q.jsx)("div",{className:ot.a["title-box"],children:"Token Amount"}),Object(Q.jsx)("div",{className:ot.a.icon})]}),Object(Q.jsxs)("div",{className:ot.a["title-box"],children:[Object(Q.jsx)("div",{className:ot.a["title-box"],children:"Token Amount"}),Object(Q.jsx)("div",{className:ot.a.icon})]}),Object(Q.jsxs)("div",{className:ot.a["title-box"],children:[Object(Q.jsx)("div",{className:ot.a["title-box"],children:"Time"}),Object(Q.jsx)("div",{className:ot.a.icon})]})]})},lt=function(e){return Object(Q.jsxs)("div",{className:ot.a.tile,children:[Object(Q.jsx)("div",{className:ot.a.data,children:"".concat(e.history.type," ").concat(e.history.tokenA.symbol," for ").concat(e.history.tokenB.symbol)}),Object(Q.jsx)("div",{className:ot.a.data,children:"".concat(e.history.tokenA.amount," ").concat(e.history.tokenA.symbol)}),Object(Q.jsx)("div",{className:ot.a.data,children:"".concat(e.history.tokenB.amount," ").concat(e.history.tokenB.symbol)}),Object(Q.jsx)("div",{className:ot.a.data,children:e.history.time})]})},ut=function(e){var t=e.histories,n=Object(i.useState)(e.histories),a=Object(h.a)(n,2),c=a[0],s=a[1],r=function(e){var n=e===w?t:t.filter((function(t){return t.type===e}));s(n)};return Object(Q.jsxs)("div",{className:ot.a.list,children:[Object(Q.jsxs)("div",{className:ot.a["header-bar"],children:[Object(Q.jsx)("div",{className:ot.a.header,children:"Transactions"}),Object(Q.jsx)("div",{className:ot.a.button,onClick:function(){return r(w)},children:"All"}),Object(Q.jsx)("div",{className:ot.a.button,onClick:function(){return r(S)},children:"Swaps"}),Object(Q.jsx)("div",{className:ot.a.button,onClick:function(){return r(T)},children:"Adds"}),Object(Q.jsx)("div",{className:ot.a.button,onClick:function(){return r(P)},children:"Removes"})]}),Object(Q.jsxs)("div",{className:ot.a.content,children:[Object(Q.jsx)(it,{}),!c.length&&Object(Q.jsx)("div",{className:ot.a.hint,children:"No record found."}),!!c.length&&c.map((function(e){return Object(Q.jsx)(lt,{history:e},e.id)}))]})]})},dt=n(10),pt=n.n(dt),jt=function(e){return Object(Q.jsxs)("div",{className:pt.a["title-bar"],children:[Object(Q.jsxs)("div",{className:pt.a["title-box"],children:[Object(Q.jsx)("div",{className:pt.a.title,children:"TOKEN"}),Object(Q.jsx)("div",{className:pt.a.icon})]}),Object(Q.jsxs)("div",{className:pt.a["title-box"],children:[Object(Q.jsx)("div",{className:pt.a.title,children:"MYSHARE"}),Object(Q.jsx)("div",{className:pt.a.icon})]}),Object(Q.jsxs)("div",{className:pt.a["title-box"],children:[Object(Q.jsx)("div",{className:pt.a.title,children:"TVL"}),Object(Q.jsx)("div",{className:pt.a.icon})]}),Object(Q.jsxs)("div",{className:pt.a["title-box"],children:[Object(Q.jsx)("div",{className:pt.a.title,children:"IRR"}),Object(Q.jsx)("div",{className:pt.a.icon})]}),Object(Q.jsxs)("div",{className:pt.a["title-box"],children:[Object(Q.jsx)("div",{className:pt.a.title,children:"REWARD"}),Object(Q.jsx)("div",{className:pt.a.icon})]})]})},bt=function(e){return Object(Q.jsxs)("div",{className:pt.a.tile,children:[Object(Q.jsxs)("div",{className:pt.a.group,children:[Object(Q.jsx)("div",{className:pt.a.icon,children:Object(Q.jsx)("img",{src:e.pool.token0.iconSrc,alt:"".concat(e.pool.token0.symbol)})}),Object(Q.jsx)("div",{className:pt.a.title,children:e.pool.token0.symbol})]}),Object(Q.jsx)("div",{className:pt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(F(e.pool.balanceOf,8))}),Object(Q.jsx)("div",{className:pt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.pool.tvl||"--")}),Object(Q.jsxs)("div",{className:pt.a.data,children:["".concat(e.pool.irr||"--")," %"]}),Object(Q.jsx)("div",{className:pt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.pool.reward||"0")}),Object(Q.jsxs)("div",{className:pt.a.action,children:[Object(Q.jsx)("a",{className:pt.a.button,href:"#/earn/".concat(e.pool.contract),children:"Add"}),Object(Q.jsx)("a",{className:pt.a.button,href:"#/redeem/".concat(e.pool.contract),children:"Remove"})]})]})},ht=function(e){var t=Object(i.useContext)(N);return Object(Q.jsxs)("div",{className:pt.a.list,children:[Object(Q.jsx)("div",{className:pt.a.title,children:"Invests"}),Object(Q.jsxs)("div",{className:pt.a.container,children:[Object(Q.jsx)(jt,{}),Object(Q.jsxs)("div",{className:pt.a.content,children:[!e.invests.length&&!e.isLoading&&Object(Q.jsx)("div",{className:pt.a.hint,children:"No token found."}),!!e.invests.length&&e.invests.map((function(e){return Object(Q.jsx)(bt,{pool:e,fiat:t.fiat},e.id)})),e.isLoading&&Object(Q.jsx)(ee,{})]})]})]})},vt=n(11),mt=n.n(vt),ft=function(e){return Object(Q.jsxs)("div",{className:mt.a["title-bar"],children:[Object(Q.jsxs)("div",{className:mt.a["title-box"],children:[Object(Q.jsx)("div",{className:mt.a.title,children:"TOKEN"}),Object(Q.jsx)("div",{className:mt.a.icon})]}),Object(Q.jsxs)("div",{className:mt.a["title-box"],children:[Object(Q.jsx)("div",{className:mt.a.title,children:"PRICE"}),Object(Q.jsx)("div",{className:mt.a.icon})]}),Object(Q.jsxs)("div",{className:mt.a["title-box"],children:[Object(Q.jsx)("div",{className:mt.a.title,children:"24H"}),Object(Q.jsx)("div",{className:mt.a.icon})]}),Object(Q.jsxs)("div",{className:mt.a["title-box"],children:[Object(Q.jsx)("div",{className:mt.a.title,children:"BALANCE"}),Object(Q.jsx)("div",{className:mt.a.icon})]}),Object(Q.jsxs)("div",{className:mt.a["title-box"],children:[Object(Q.jsx)("div",{className:mt.a.title,children:"inFIAT"}),Object(Q.jsx)("div",{className:mt.a.icon})]})]})},xt=function(e){return Object(Q.jsxs)("div",{className:mt.a.tile,children:[Object(Q.jsxs)("div",{className:mt.a.group,children:[Object(Q.jsx)("div",{className:mt.a.icon,children:Object(Q.jsx)("img",{src:e.token.iconSrc,alt:"".concat(e.token.symbol)})}),Object(Q.jsx)("div",{className:mt.a.title,children:e.token.symbol})]}),Object(Q.jsx)("div",{className:mt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.token.price||"--")}),Object(Q.jsxs)("div",{className:mt.a.data,children:["".concat(e.token.priceChange||"--")," %"]}),Object(Q.jsx)("div",{className:mt.a.data,children:"".concat(F(e.token.balanceOf,8)," ").concat(e.token.symbol)}),Object(Q.jsx)("div",{className:mt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(F(_.mult(e.token.balanceOf,e.fiat.exchangeRate),8))}),Object(Q.jsx)("div",{className:mt.a.action,children:Object(Q.jsx)("a",{className:mt.a.button,href:"#/swap/".concat(e.token.contract),children:"Swap"})})]})},Ot=function(e){var t=Object(i.useContext)(N);return Object(Q.jsxs)("div",{className:mt.a.list,children:[Object(Q.jsx)("div",{className:mt.a.title,children:"Tokens"}),Object(Q.jsxs)("div",{className:mt.a.container,children:[Object(Q.jsx)(ft,{}),Object(Q.jsxs)("div",{className:mt.a.content,children:[!e.tokens.length&&!e.isLoading&&Object(Q.jsx)("div",{className:mt.a.hint,children:"No token found."}),!!e.tokens.length&&e.tokens.map((function(e){return Object(Q.jsx)(xt,{token:e,fiat:t.fiat},e.id)})),e.isLoading&&Object(Q.jsx)(ee,{})]})]})]})},_t=function(e){var t=Object(i.useContext)(N);return Object(Q.jsxs)("div",{className:st.a.assets,children:[Object(Q.jsx)("div",{className:st.a.header,children:"My Assets"}),Object(Q.jsxs)("div",{className:st.a.container,children:[Object(Q.jsxs)("div",{className:st.a.main,children:[Object(Q.jsx)(Ot,{tokens:t.assets,isLoading:t.isLoading}),Object(Q.jsx)(ht,{invests:t.invests,isLoading:t.isLoading})]}),Object(Q.jsxs)("div",{className:st.a.sub,children:[Object(Q.jsxs)("div",{className:st.a.details,children:[Object(Q.jsx)(te,{}),Object(Q.jsx)(fe,{})]}),Object(Q.jsx)(ut,{histories:t.histories})]})]})]})},kt=n(16),yt=n.n(kt),gt=function(e){var t;return Object(Q.jsxs)("div",{className:yt.a.tile,onClick:function(){return e.onSelect()},children:[Object(Q.jsxs)("div",{className:yt.a.group,children:[Object(Q.jsx)("div",{className:yt.a.icon,children:Object(Q.jsx)("img",{src:e.pool.token0.iconSrc,alt:e.pool.token0.symbol})}),Object(Q.jsx)("div",{className:yt.a.name,children:e.pool.token0.symbol})]})," ",Object(Q.jsx)("div",{className:yt.a.data,children:"".concat((null===(t=e.pool)||void 0===t?void 0:t.share)?F(_.mult(e.pool.share,100),4):"0"," %")}),Object(Q.jsxs)("div",{className:yt.a.data,children:[e.pool.yield," %"]}),Object(Q.jsx)("div",{className:yt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.pool.volume||"--")})]})},Nt=function(e){return Object(Q.jsxs)("div",{className:yt.a["title-bar"],children:[Object(Q.jsx)("div",{className:yt.a.title,children:"My Share"}),Object(Q.jsx)("div",{className:yt.a.title,children:"Yield"}),Object(Q.jsx)("div",{className:yt.a.title,children:"Volume"})," "]})},Ct=function(e){var t=Object(i.useContext)(N),n=Object(i.useState)(!1),a=Object(h.a)(n,2),c=a[0],s=a[1];return Object(Q.jsxs)(l.a.Fragment,{children:[c&&Object(Q.jsx)(de,{title:"Select Token",onCancel:function(){return s(!1)},children:Object(Q.jsx)(Be,{onSelect:function(t){e.onSelect(t),s(!1)},data:e.pools,filterProperty:"symbol",children:function(n){return gt({pool:n,fiat:t.fiat,onSelect:function(){return e.onSelect(n)}})}})}),Object(Q.jsxs)("div",{className:yt.a.list,children:[Object(Q.jsx)("div",{className:yt.a.header,children:Object(Q.jsx)("div",{children:"Invest"})}),Object(Q.jsx)(Nt,{}),Object(Q.jsxs)("div",{className:yt.a.content,children:[!e.pools.length&&!t.isLoading&&Object(Q.jsx)("div",{className:yt.a.hint,children:"No Token found."}),!!e.pools.length&&e.pools.map((function(n){return Object(Q.jsx)(gt,{pool:n,fiat:t.fiat,onSelect:function(){return e.onSelect(n)}},n.id)})),t.isLoading&&Object(Q.jsx)(ee,{})]})]})]})},wt=n(38),St=n.n(wt),Tt=n(13),Pt=n.n(Tt),At=function(e,t){var n;return[{title:"Price",value:"1 ".concat((null===e||void 0===e||null===(n=e.token0)||void 0===n?void 0:n.symbol)||"--"," \u2248 -- ").concat(null===t||void 0===t?void 0:t.symbol),explain:"Estimated price of the swap, not the final price that the swap is executed."},{title:"Share of the pool",value:"".concat((null===e||void 0===e?void 0:e.share)?F(_.mult(null===e||void 0===e?void 0:e.share,100),4):"0"," %"),explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."},{title:"Total yield",value:"--",explain:"Trade transaction fee collected by liquidity providers."}]},It=function(e){var t,n,a,c,s,r,o,d,j=Object(i.useContext)(N),v=Object(i.useContext)(y),m=Object(i.useState)(!1),f=Object(h.a)(m,2),x=f[0],O=f[1],k=Object(u.e)(),g=function(){var t=Object(b.a)(p.a.mark((function t(n){var a,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.pools.findIndex((function(e){return e.token0.contract===n||e.token1.contract===n})),-1!==a){t.next=9;break}return t.next=4,v.addToken(n);case 4:s=t.sent,console.log(s),c={token0:s},t.next=10;break;case 9:c=e.options[a];case 10:return t.abrupt("return",c);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(Q.jsxs)(l.a.Fragment,{children:[x&&Object(Q.jsx)(de,{title:"Select Token",onCancel:function(){return O(!1)},children:Object(Q.jsx)(Be,{onSelect:function(t){e.onSelect(t),t.contract||k.push({pathname:"/import-token/".concat(t.token0.contract)}),O(!1)},data:e.pools,filterProperty:"name",onImport:g,children:function(t){return gt({pool:t,fiat:j.fiat,onSelect:function(){return e.onSelect(t)}})}})}),Object(Q.jsxs)("div",{className:Pt.a.earn,children:[Object(Q.jsxs)("main",{className:Pt.a.main,children:[Object(Q.jsxs)("div",{className:Pt.a.header,children:[e.selectedPool&&Object(Q.jsxs)("div",{className:Pt.a.group,children:[Object(Q.jsx)("div",{className:Pt.a.icon,children:Object(Q.jsx)("img",{src:null===(t=e.selectedCoin)||void 0===t?void 0:t.iconSrc,alt:null===(n=e.selectedCoin)||void 0===n?void 0:n.symbol})}),Object(Q.jsx)("div",{className:Pt.a.name,children:null===(a=e.selectedCoin)||void 0===a?void 0:a.symbol})]}),!e.selectedPool&&Object(Q.jsx)("div",{className:Pt.a.placeholder,children:"Select Coin"}),Object(Q.jsx)("div",{className:Pt.a["button-icon"],onClick:function(){return O(!0)},children:"Search"})]}),Object(Q.jsxs)("div",{className:Pt.a.content,children:[Object(Q.jsx)("div",{className:Pt.a.main,children:Object(Q.jsx)(Re,{max:(null===(c=e.selectedCoin)||void 0===c?void 0:c.balanceOf)||"",symbol:(null===(s=e.selectedCoin)||void 0===s?void 0:s.symbol)||"0",onChange:e.changeAmountHandler,value:e.selectedCoinAmount})}),Object(Q.jsx)("div",{className:Pt.a.sub,children:Object(Q.jsxs)("div",{className:Pt.a.detail,children:[Object(Q.jsxs)("div",{className:Pt.a.data,children:[Object(Q.jsx)("div",{className:Pt.a.title,children:"My Share"}),Object(Q.jsx)("div",{className:Pt.a.amount,children:"".concat((null===(r=e.selectedPool)||void 0===r?void 0:r.share)?F(_.mult(e.selectedPool.share,100),4):"0"," %")})]}),Object(Q.jsx)("hr",{}),Object(Q.jsxs)("div",{className:Pt.a.data,children:[Object(Q.jsx)("div",{className:Pt.a.title,children:"Total Reward"}),Object(Q.jsx)("div",{className:Pt.a.amount,children:"".concat(j.fiat.dollarSign," ").concat((null===(o=e.selectedPool)||void 0===o?void 0:o.rewards)||"0")})]})]})})]}),Object(Q.jsxs)("div",{className:Pt.a.button,children:[Object(Q.jsx)("div",{className:Pt.a["approve-button-container"],children:e.displayApproveSelectedCoin&&Object(Q.jsxs)(Qe,{type:"button",onClick:function(){var t;return e.approveHandler(null===(t=e.selectedCoin)||void 0===t?void 0:t.contract,(function(t){e.setSelectedCoinIsApprove(t),e.setDisplayApproveSelectedCoin(!t)}))},children:["Approve ",null===(d=e.selectedCoin)||void 0===d?void 0:d.symbol]})}),Object(Q.jsx)(Qe,{type:"submit",disabled:!e.selectedCoinIsApprove,children:e.isLoading?"Loading...":"Confirm"})]})]}),Object(Q.jsx)("div",{className:"sub",children:Object(Q.jsx)(Ge,{details:At(e.selectedPool,j.fiat)})})]})]})},Lt=function(e){var t=Object(i.useContext)(y),n=Object(i.useState)(null),a=Object(h.a)(n,2),c=a[0],s=a[1],r=Object(i.useState)(null),o=Object(h.a)(r,2),l=o[0],d=o[1],j=Object(i.useState)(""),v=Object(h.a)(j,2),m=v[0],f=v[1],x=Object(i.useState)(null),O=Object(h.a)(x,2),k=O[0],g=O[1],N=Object(i.useState)(""),C=Object(h.a)(N,2),w=C[0],S=C[1],T=Object(i.useState)(null),P=Object(h.a)(T,2),A=P[0],I=P[1],L=Object(u.e)(),B=Object(i.useState)(!1),E=Object(h.a)(B,2),D=E[0],H=E[1],F=Object(i.useState)(!1),M=Object(h.a)(F,2),R=M[0],q=M[1],V=Object(i.useState)(!1),W=Object(h.a)(V,2),Y=W[0],J=W[1],z=Object(i.useState)([]),X=Object(h.a)(z,2),K=X[0],G=X[1];Object(i.useEffect)((function(){var e,n=[],a=[];null===(e=t.supportedPools)||void 0===e||e.forEach((function(e){+e.share>0?n.push(e):a.push(e)}));var c=n.concat(a);return G(c),function(){}}),[t.supportedPools,t.supportedPools.length]);var Z=function(){var e=Object(b.a)(p.a.mark((function e(n,a){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(n);case 2:c=e.sent,a(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(e){s(e),d(t.supportedTokens.find((function(t){return t.contract===e.token0.contract}))),g(t.supportedTokens.find((function(t){return t.contract===e.token1.contract}))),L.push({pathname:"/earn/".concat(e.contract)}),m&&ee(m,e)},ee=function(e,n){var a,c,r,o=n;(null===o||void 0===o?void 0:o.contract)||(n=t.supportedPools[0]),console.log(" pool",n),console.log(" _pool",o),s(o),c=t.supportedTokens.find((function(e){return e.contract===o.token0.contract})),d(c),r=t.supportedTokens.find((function(e){return e.contract===o.token1.contract})),g(r);var i=U(e,null===(a=c)||void 0===a?void 0:a.balanceOf);f(i);var l=0===+i?null:+i>0;if(I(l),l){var u,p,j=_.gt(null===o||void 0===o?void 0:o.balanceOfToken0InPool,"0")?_.mult(_.div(null===o||void 0===o?void 0:o.balanceOfToken1InPool,null===o||void 0===o?void 0:o.balanceOfToken0InPool),i):_.mult(_.div(null===(u=c)||void 0===u?void 0:u.balanceOf,null===(p=r)||void 0===p?void 0:p.balanceOf),i);console.log(" _pool?.balanceOfToken0InPool",null===o||void 0===o?void 0:o.balanceOfToken0InPool),console.log(" _pool?.balanceOfToken1InPool",null===o||void 0===o?void 0:o.balanceOfToken1InPool),console.log("amount",j),S(j)}},ne=function(){var e=Object(b.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log("submitHandler"),!R){e.next=15;break}return q(!1),e.prev=4,e.next=7,t.provideLiquidityWithETH(c,l,m,w);case 7:a=e.sent,console.log("provideLiquidityResut",a),L.push({pathname:"/assets/"}),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:q(!0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){console.log("isValid",A),A&&(J(!0),t.isAllowanceEnough(l.contract,m,l.decimals).then((function(e){H(!e),q(e),J(!1)})))}),[t,A,w,m,null===l||void 0===l?void 0:l.contract,null===l||void 0===l?void 0:l.decimals]),Object(i.useEffect)((function(){var e=t.supportedPools.find((function(e){return L.location.pathname.includes(e.contract)}));return e&&(s(e),d(t.supportedTokens.find((function(t){return t.contract===e.token0.contract}))),g(t.supportedTokens.find((function(t){return t.contract===e.token1.contract})))),function(){}}),[L.location.pathname,t.supportedPools,t.supportedTokens]),Object(Q.jsxs)("form",{className:St.a.earn,onSubmit:ne,children:[Object(Q.jsx)("div",{className:St.a.header,children:"Earn"}),Object(Q.jsxs)("div",{className:St.a.container,children:[Object(Q.jsx)("div",{className:St.a.main,children:Object(Q.jsx)(It,{selectedPool:c,selectedCoin:l,pairedCoin:k,pools:K,onSelect:$,selectedCoinAmount:m,changeAmountHandler:function(e){return ee(e,c)},isLoading:Y,approveHandler:Z,selectedCoinIsApprove:R,setSelectedCoinIsApprove:q,setDisplayApproveSelectedCoin:H,displayApproveSelectedCoin:D})}),Object(Q.jsxs)("div",{className:St.a.sub,children:[Object(Q.jsxs)("div",{className:St.a.details,children:[Object(Q.jsx)(te,{}),Object(Q.jsx)(fe,{})]}),Object(Q.jsx)(Ct,{pools:K,onSelect:$})]})]})]})},Bt=n(39),Et=n.n(Bt),Dt=n(14),Ht=n.n(Dt),Ft=n(17),Mt=n.n(Ft),Ut=function(e){var t;return Object(Q.jsxs)("div",{className:Mt.a.tile,onClick:function(){return e.onSelect()},children:[Object(Q.jsxs)("div",{className:Mt.a.group,children:[Object(Q.jsx)("div",{className:Mt.a.icon,children:Object(Q.jsx)("img",{src:e.pool.token0.iconSrc,alt:e.pool.token0.symbol})}),Object(Q.jsx)("div",{className:Mt.a.name,children:e.pool.token0.symbol})]})," ",Object(Q.jsx)("div",{className:Mt.a.data,children:"".concat((null===(t=e.pool)||void 0===t?void 0:t.share)?F(_.mult(e.pool.share,100),4):"0"," %")}),Object(Q.jsxs)("div",{className:Mt.a.data,children:[e.pool.yield," %"]}),Object(Q.jsx)("div",{className:Mt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.pool.volume||"--")})]})},Rt=function(e){return Object(Q.jsxs)("div",{className:Mt.a["title-bar"],children:[Object(Q.jsx)("div",{className:Mt.a.title,children:"My Share"}),Object(Q.jsx)("div",{className:Mt.a.title,children:"Yield"}),Object(Q.jsx)("div",{className:Mt.a.title,children:"Volume"})," "]})},qt=function(e){var t=Object(i.useContext)(N),n=Object(i.useState)(!1),a=Object(h.a)(n,2),c=a[0],s=a[1];return Object(Q.jsxs)(l.a.Fragment,{children:[c&&Object(Q.jsx)(de,{title:"Select Token",onCancel:function(){return s(!1)},children:Object(Q.jsx)(Be,{onSelect:function(t){e.onSelect(t),s(!1)},data:e.pools,filterProperty:"symbol",children:function(n){return Ut({pool:n,fiat:t.fiat,onSelect:function(){return e.onSelect(n)}})}})}),Object(Q.jsxs)("div",{className:Mt.a.list,children:[Object(Q.jsx)("div",{className:Mt.a.header,children:Object(Q.jsx)("div",{children:"Invest"})}),Object(Q.jsx)(Rt,{}),Object(Q.jsxs)("div",{className:Mt.a.content,children:[!e.pools.length&&!t.isLoading&&Object(Q.jsx)("div",{className:Mt.a.hint,children:"No Token found."}),!!e.pools.length&&e.pools.map((function(n){return Object(Q.jsx)(Ut,{pool:n,fiat:t.fiat,onSelect:function(){return e.onSelect(n)}},n.id)})),t.isLoading&&Object(Q.jsx)(ee,{})]})]})]})},Vt=function(e,t,n){var a;return[{title:"Price",value:"1 ".concat(null===e||void 0===e||null===(a=e.token0)||void 0===a?void 0:a.symbol," \u2248 -- ").concat(n.symbol),explain:"Estimated price of the swap, not the final price that the swap is executed."},{title:"Take Amount",value:t||"--",explain:"The estimated percentage that the ultimate executed price of the swap deviates from current price due to trading amount."},{title:"Take Price",value:"--",explain:"Trade transaction fee collected by liquidity providers."}]},Wt=function(e){var t,n,a,c=Object(i.useContext)(N),s=Object(i.useState)(!1),r=Object(h.a)(s,2),o=r[0],u=r[1];return Object(Q.jsxs)(l.a.Fragment,{children:[o&&Object(Q.jsx)(de,{title:"Select Token",onCancel:function(){return u(!1)},children:Object(Q.jsx)(Be,{onSelect:function(t){e.onSelect(t),u(!1)},data:e.pools,filterProperty:"symbol",children:function(t){return Ut({pool:t,fiat:c.fiat,onSelect:function(){return e.onSelect(t)}})}})}),Object(Q.jsxs)("div",{className:Ht.a.remove,children:[Object(Q.jsxs)("main",{className:Ht.a.main,children:[Object(Q.jsxs)("div",{className:Ht.a.header,children:[e.selectedPool&&Object(Q.jsxs)("div",{className:Ht.a.group,children:[Object(Q.jsx)("div",{className:Ht.a.icon,children:Object(Q.jsx)("img",{src:e.selectedPool.token0.iconSrc,alt:e.selectedPool.token0.symbol})}),Object(Q.jsx)("div",{className:Ht.a.name,children:e.selectedPool.token0.symbol})]}),Object(Q.jsx)("div",{className:Ht.a.button,onClick:function(){return u(!0)},children:"Search"})]}),Object(Q.jsxs)("div",{className:Ht.a.content,children:[Object(Q.jsx)("div",{className:Ht.a.main,children:Object(Q.jsx)(Re,{max:(null===(t=e.selectedPool)||void 0===t?void 0:t.balanceOf)||"0",symbol:"",onChange:e.changeAmountHandler,value:e.shareAmount})}),Object(Q.jsx)("div",{className:Ht.a.sub,children:Object(Q.jsxs)("div",{className:Ht.a.detail,children:[Object(Q.jsxs)("div",{className:Ht.a.data,children:[Object(Q.jsx)("div",{className:Ht.a.title,children:"My Share"}),Object(Q.jsx)("div",{className:Ht.a.amount,children:"".concat((null===(n=e.selectedPool)||void 0===n?void 0:n.share)?F(_.mult(e.selectedPool.share,100),4):"0"," %")})]}),Object(Q.jsx)("hr",{}),Object(Q.jsxs)("div",{className:Ht.a.data,children:[Object(Q.jsx)("div",{className:Ht.a.title,children:"Total Reward"}),Object(Q.jsx)("div",{className:Ht.a.amount,children:"".concat(c.fiat.dollarSign," ").concat((null===(a=e.selectedPool)||void 0===a?void 0:a.rewards)||"0")})]})]})})]}),Object(Q.jsxs)("div",{className:Ht.a.button,children:[Object(Q.jsx)("div",{className:Ht.a["approve-button-container"],children:e.displayApprovePoolContract&&Object(Q.jsxs)(Qe,{type:"button",onClick:function(){var t;return e.approveHandler(null===(t=e.selectedPool)||void 0===t?void 0:t.contract,(function(t){e.setPoolContractIsApprove(t),e.setDisplayApprovePoolContract(!t)}))},children:["Approve ",e.selectedPool.name]})}),Object(Q.jsx)(Qe,{type:"submit",disabled:!e.poolContractIsApprove,children:e.isLoading?"Loading...":"Confirm"})]})]}),Object(Q.jsx)("div",{className:"sub",children:Object(Q.jsx)(Ge,{details:Vt(e.selectedPool,e.shareAmount,c.fiat)})})]})]})},Yt=function(e){var t=Object(i.useContext)(y),n=Object(i.useContext)(N),a=Object(i.useState)(null),c=Object(h.a)(a,2),s=c[0],r=c[1],o=Object(i.useState)(""),l=Object(h.a)(o,2),d=l[0],j=l[1],v=Object(u.e)(),m=Object(i.useState)(!1),f=Object(h.a)(m,2),x=f[0],O=f[1],k=Object(i.useState)(!1),g=Object(h.a)(k,2),C=g[0],w=g[1],S=Object(i.useState)(null),T=Object(h.a)(S,2),P=T[0],A=T[1],I=Object(i.useState)(!1),L=Object(h.a)(I,2),B=L[0],E=L[1],D=Object(i.useState)([]),H=Object(h.a)(D,2),F=H[0],M=H[1];Object(i.useEffect)((function(){var e,t=null===(e=n.invests)||void 0===e?void 0:e.filter((function(e){return _.gt(e.share,"0")}));return M(t),function(){}}),[n.invests,n.invests.length]);var R=function(){var e=Object(b.a)(p.a.mark((function e(n,a){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(n);case 2:c=e.sent,a(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(e){r(e),v.push({pathname:"/redeem/".concat(e.contract)}),d&&V(d)},V=function(e){var t=U(e,s.balanceOf);j(t);var n=0===+t?null:+t>0;n&&A(n)},W=function(){var e=Object(b.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log("submitHandler"),!C){e.next=15;break}return w(!1),e.prev=4,e.next=7,t.takeLiquidity(s,d,_.mult(_.mult(_.div(d,s.totalSupply),s.poolBalanceOfToken0),.9),_.mult(_.mult(_.div(d,s.totalSupply),s.poolBalanceOfToken1),.9));case 7:a=e.sent,console.log("takeLiquidityResult",a),v.push({pathname:"/assets/"}),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:w(!0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return P&&(E(!0),t.isAllowanceEnough(s.contract,d,s.decimals).then((function(e){O(!e),w(e),E(!1)}))),function(){}}),[t,P,null===s||void 0===s?void 0:s.contract,null===s||void 0===s?void 0:s.decimals,d]),Object(i.useEffect)((function(){return r(n.invests.find((function(e){return v.location.pathname.includes(e.contract)}))),function(){}}),[v.location.pathname,n.invests]),Object(Q.jsxs)("form",{className:Et.a.remove,onSubmit:W,children:[Object(Q.jsx)("div",{className:Et.a.header,children:"Remove"}),Object(Q.jsxs)("div",{className:Et.a.container,children:[Object(Q.jsx)("div",{className:Et.a.main,children:Object(Q.jsx)(Wt,{selectedPool:s,pools:F,onSelect:q,isLoading:B,approveHandler:R,shareAmount:d,changeAmountHandler:V,displayApprovePoolContract:x,setDisplayApprovePoolContract:O,poolContractIsApprove:C,setPoolContractIsApprove:w})}),Object(Q.jsxs)("div",{className:Et.a.sub,children:[Object(Q.jsxs)("div",{className:Et.a.details,children:[Object(Q.jsx)(te,{}),Object(Q.jsx)(fe,{})]}),Object(Q.jsx)(qt,{pools:F,onSelect:q})]})]})]})},Jt=(n(88),n(89),n(5)),zt=n.n(Jt),Qt=function(e){return Object(Q.jsxs)("div",{className:zt.a["title-bar"],children:[Object(Q.jsxs)("div",{className:zt.a["header-bar"],children:[Object(Q.jsx)("div",{className:zt.a.title,children:"Type"}),Object(Q.jsx)("div",{className:zt.a.button,onClick:function(){return e.onFilter(w)},children:"All"}),Object(Q.jsx)("div",{className:zt.a.button,onClick:function(){return e.onFilter(S)},children:"Swaps"}),Object(Q.jsx)("div",{className:zt.a.button,onClick:function(){return e.onFilter(T)},children:"Adds"}),Object(Q.jsx)("div",{className:zt.a.button,onClick:function(){return e.onFilter(P)},children:"Removes"})]}),Object(Q.jsxs)("div",{className:zt.a["title-box"],children:[Object(Q.jsx)("div",{className:zt.a["title-box"],children:"Token Amount"}),Object(Q.jsx)("div",{className:zt.a.icon})]}),Object(Q.jsxs)("div",{className:zt.a["title-box"],children:[Object(Q.jsx)("div",{className:zt.a["title-box"],children:"Token Amount"}),Object(Q.jsx)("div",{className:zt.a.icon})]}),Object(Q.jsxs)("div",{className:zt.a["title-box"],children:[Object(Q.jsx)("div",{className:zt.a["title-box"],children:"Time"}),Object(Q.jsx)("div",{className:zt.a.icon})]})]})},Xt=function(e){return Object(Q.jsxs)("div",{className:zt.a.tile,children:[Object(Q.jsx)("div",{className:zt.a.index,children:e.index}),Object(Q.jsx)("div",{className:zt.a.data,children:"".concat(e.history.type," ").concat(e.history.tokenA.symbol," for ").concat(e.history.tokenB.symbol)}),Object(Q.jsx)("div",{className:zt.a.data,children:"".concat(e.history.tokenA.amount," ").concat(e.history.tokenA.symbol)}),Object(Q.jsx)("div",{className:zt.a.data,children:"".concat(e.history.tokenB.amount," ").concat(e.history.tokenB.symbol)}),Object(Q.jsx)("div",{className:zt.a.data,children:e.history.time})]})},Kt=function(e){Object(i.useContext)(N);var t=e.histories,n=Object(i.useState)(e.histories),a=Object(h.a)(n,2),c=a[0],s=a[1];return Object(Q.jsxs)("div",{className:"".concat(zt.a.table," ").concat(zt.a.history),children:[Object(Q.jsx)("div",{className:zt.a.header,children:"Transactions"}),Object(Q.jsxs)("div",{className:zt.a.container,children:[Object(Q.jsx)(Qt,{onFilter:function(e){var n=e===w?t:t.filter((function(t){return t.type===e}));s(n)}}),Object(Q.jsxs)("div",{className:zt.a.content,children:[!c.length&&!e.isLoading&&Object(Q.jsx)("div",{className:zt.a.hint,children:"No record found."}),!!c.length&&c.map((function(e){return Object(Q.jsx)(Xt,{history:e},e.id)})),e.isLoading&&Object(Q.jsx)(ee,{})]})]})]})},Gt=function(e){return Object(Q.jsxs)("div",{className:zt.a["title-bar"],children:[Object(Q.jsx)("div",{className:zt.a.leading,children:"#"}),Object(Q.jsxs)("div",{className:zt.a["title-box"],children:[Object(Q.jsx)("div",{className:zt.a.title,children:"TOKEN"}),Object(Q.jsx)("div",{className:zt.a.icon})]}),Object(Q.jsxs)("div",{className:zt.a["title-box"],children:[Object(Q.jsx)("div",{className:zt.a.title,children:"TVL"}),Object(Q.jsx)("div",{className:zt.a.icon})]}),Object(Q.jsxs)("div",{className:zt.a["title-box"],children:[Object(Q.jsx)("div",{className:zt.a.title,children:"IRR"}),Object(Q.jsx)("div",{className:zt.a.icon})]})]})},Zt=function(e){return Object(Q.jsxs)("div",{className:zt.a.tile,children:[Object(Q.jsx)("div",{className:zt.a.index,children:"".concat(e.index+1)}),Object(Q.jsxs)("div",{className:zt.a.group,children:[Object(Q.jsx)("div",{className:zt.a.icon,children:Object(Q.jsx)("img",{src:e.pool.token0.iconSrc,alt:"".concat(e.pool.token0.symbol)})}),Object(Q.jsx)("div",{className:zt.a.title,children:e.pool.token0.symbol})]}),Object(Q.jsx)("div",{className:zt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.pool.tvl||"--")}),Object(Q.jsxs)("div",{className:zt.a.data,children:["".concat(e.pool.irr||"--")," %"]}),Object(Q.jsx)("div",{className:zt.a.action,children:Object(Q.jsx)("a",{className:zt.a.button,href:"#/swap/".concat(e.pool.contract),children:"Invest"})})]})},$t=function(e){var t=Object(i.useContext)(N);return Object(Q.jsxs)("div",{className:"".concat(zt.a.table," ").concat(zt.a.invest),children:[Object(Q.jsx)("div",{className:zt.a.header,children:"Invest"}),Object(Q.jsxs)("div",{className:zt.a.container,children:[Object(Q.jsx)(Gt,{}),!e.pools.length&&!e.isLoading&&Object(Q.jsx)("div",{children:Object(Q.jsx)("div",{className:zt.a.hint,children:"No token found."})}),Object(Q.jsxs)("div",{className:zt.a.content,children:[!!e.pools.length&&e.pools.map((function(e,n){return Object(Q.jsx)(Zt,{index:n,pool:e,fiat:t.fiat},e.id)})),e.isLoading&&Object(Q.jsx)(ee,{})]})]})]})},en=n(22),tn=n.n(en),nn=function(e){return Object(Q.jsxs)("div",{className:zt.a["title-bar"],children:[Object(Q.jsx)("div",{className:zt.a.leading,children:"#"}),Object(Q.jsxs)("div",{className:zt.a["title-box"],children:[Object(Q.jsx)("div",{className:zt.a.title,children:"Name"}),Object(Q.jsx)("div",{className:zt.a.icon})]}),Object(Q.jsxs)("div",{className:zt.a["title-box"],children:[Object(Q.jsx)("div",{className:zt.a.title,children:"Price"}),Object(Q.jsx)("div",{className:zt.a.icon})]}),Object(Q.jsxs)("div",{className:zt.a["title-box"],children:[Object(Q.jsx)("div",{className:zt.a.title,children:"Price change 24H"}),Object(Q.jsx)("div",{className:zt.a.icon})]}),Object(Q.jsxs)("div",{className:zt.a["title-box"],children:[Object(Q.jsx)("div",{className:zt.a.title,children:"Trading Volume 24H"}),Object(Q.jsx)("div",{className:zt.a.icon})]})]})},an=function(e){return Object(Q.jsxs)("div",{className:zt.a.tile,children:[Object(Q.jsx)("div",{className:zt.a.index,children:"".concat(e.index+1)}),Object(Q.jsxs)("div",{className:zt.a.group,children:[Object(Q.jsx)("div",{className:zt.a.icon,children:Object(Q.jsx)("img",{src:e.token.iconSrc,alt:"".concat(e.token.symbol)})}),Object(Q.jsx)("div",{className:zt.a.title,children:e.token.symbol})]}),Object(Q.jsx)("div",{className:zt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.token.price||"--")}),Object(Q.jsxs)("div",{className:"".concat(zt.a.data," ").concat(e.token.priceChange.includes("+")?zt.a.increase:zt.a.decrease),children:["".concat(e.token.priceChange.slice(1)||"--")," %"]}),Object(Q.jsx)("div",{className:zt.a.data,children:"".concat(e.fiat.dollarSign," ").concat(e.token.volume||"--")}),Object(Q.jsx)("div",{className:zt.a.action,children:Object(Q.jsx)("a",{className:zt.a.button,href:"#/swap/".concat(e.token.condivact),children:"Swap"})})]})},cn=function(e){var t=Object(i.useContext)(N);return Object(Q.jsxs)("div",{className:"".concat(zt.a.table," ").concat(zt.a.token),children:[Object(Q.jsx)("div",{className:zt.a.header,children:"Tokens"}),Object(Q.jsxs)("div",{className:zt.a.container,children:[Object(Q.jsx)(nn,{}),Object(Q.jsxs)("div",{className:zt.a.content,children:[!e.tokens.length&&!e.isLoading&&Object(Q.jsx)("div",{className:zt.a.hint,children:"No token found."}),!!e.tokens.length&&e.tokens.map((function(e,n){return Object(Q.jsx)(an,{index:n,token:e,fiat:t.fiat},e.id)})),e.isLoading&&Object(Q.jsx)(ee,{})]})]})]})},sn=function(e){var t=Object(i.useContext)(y),n=Object(i.useContext)(N);return Object(Q.jsxs)("div",{className:tn.a.overview,children:[Object(Q.jsx)("div",{className:tn.a.header,children:"Overview"}),Object(Q.jsx)("div",{className:tn.a.chart}),Object(Q.jsx)("div",{className:tn.a.summary,children:t.overview.map((function(e){return Object(Q.jsxs)("div",{className:tn.a.group,children:[Object(Q.jsxs)("div",{className:tn.a.title,children:[e.title," :"]}),Object(Q.jsxs)("div",{className:tn.a.data,children:[Object(Q.jsx)("div",{className:tn.a.value,children:e.data.value}),Object(Q.jsxs)("div",{className:"".concat(tn.a.change," ").concat(e.data.change.includes("+")?tn.a.increase:tn.a.decrease),children:["(",e.data.change.slice(1),")"]})]})]},M(6))}))}),Object(Q.jsx)(cn,{tokens:t.supportedTokens,isLoading:t.isLoading}),Object(Q.jsx)($t,{pools:t.supportedPools,isLoading:t.isLoading}),Object(Q.jsx)(Kt,{histories:n.histories,isLoading:t.isLoading})]})},rn=(n(90),n(53)),on=n(66),ln=n(92),un=n(67),dn=["title","titleId"];function pn(){return pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pn.apply(this,arguments)}function jn(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function bn(e,t){var n=e.title,s=e.titleId,r=jn(e,dn);return i.createElement("svg",pn({width:135,height:135,ref:t,"aria-labelledby":s},r),n?i.createElement("title",{id:s},n):null,a||(a=i.createElement("path",{d:"M90,105 a60,60 0 1,0 -115,0",fill:"#169AE7",transform:"rotate(-30)"})),c||(c=i.createElement("path",{d:"M-40,110 a60,60 0 0,0 115,0",fill:"#0085D7",transform:"rotate(-30)"})))}var hn=i.forwardRef(bn),vn=(n.p,n(91)),mn=n(8),fn=n.n(mn),xn=n(60),On=n.n(xn),_n=function(e){var t=Object(i.useContext)(y);return Object(Q.jsx)(l.a.Fragment,{children:t.connectOptions.map((function(n){return Object(Q.jsxs)("div",{className:On.a["icon-button"],onClick:function(){!function(n){e.onClick();try{t.onConnect(n)}catch(a){console.log("ConnectOptions error",a)}}(n.name)},children:[Object(Q.jsx)(oe,{className:On.a["icon-button__icon"],children:Object(Q.jsx)("img",{src:n.src,alt:n.name})}),Object(Q.jsx)("p",{className:On.a["icon-button__name"],children:n.name})]},n.name)}))})},kn=function(e){var t=Object(i.useContext)(y),n=Object(u.f)();return Object(Q.jsxs)(l.a.Fragment,{children:[Object(Q.jsxs)("div",{className:fn.a.brand,children:[Object(Q.jsx)(hn,{})," TideBit"]}),Object(Q.jsxs)("div",{className:"".concat(fn.a.menuOption," ").concat("#/"===n.hash?fn.a.active:""),children:[Object(Q.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(Q.jsx)(rn.a,{size:"1.5em"})}),Object(Q.jsx)("a",{className:fn.a.menuOptionText,href:"/#",children:"overview"})]}),Object(Q.jsxs)("div",{className:"".concat(fn.a.menuOption," ").concat(n.hash.includes("market")?fn.a.active:""),disabled:!0,children:[Object(Q.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(Q.jsx)(on.a,{size:"1.5em"})}),Object(Q.jsx)("a",{className:fn.a.menuOptionText,children:"market"})]}),Object(Q.jsxs)("div",{className:"".concat(fn.a.menuOption," ").concat(n.hash.includes("invest")?fn.a.active:""),disabled:!0,children:[Object(Q.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(Q.jsx)(ln.a,{size:"1.5em"})}),Object(Q.jsx)("a",{className:fn.a.menuOptionText,children:"invest"})]}),(!t.isConnected||!t.connectedAccount)&&Object(Q.jsxs)("div",{className:fn.a.menuOption,children:[Object(Q.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(Q.jsx)(rn.b,{size:"1.5em"})}),t.isLoading&&Object(Q.jsx)("div",{className:fn.a.menuOptionText,onClick:e.onConnect,children:"Loading..."}),!t.isLoading&&Object(Q.jsx)("div",{className:fn.a.menuOptionText,onClick:e.onConnect,children:"login"})]}),Object(Q.jsxs)("div",{className:"".concat(fn.a.menuOption," ").concat(n.hash.includes("assets")?fn.a.active:""),children:[Object(Q.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(Q.jsx)(un.a,{size:"1.5em"})}),Object(Q.jsx)("a",{className:fn.a.menuOptionText,href:"#/assets",children:"my assets"})]}),Object(Q.jsxs)("div",{className:"".concat(fn.a.menuOption," ").concat(n.hash.includes("swap")?fn.a.active:""),children:[Object(Q.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(Q.jsx)(rn.d,{size:"1.5em"})}),Object(Q.jsx)("a",{className:fn.a.menuOptionText,href:"#/swap",children:"swap"})]}),Object(Q.jsxs)("div",{className:"".concat(fn.a.menuOption," ").concat(n.hash.includes("earn")?fn.a.active:""),children:[Object(Q.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(Q.jsx)(un.b,{size:"1.5em"})}),Object(Q.jsx)("a",{className:fn.a.menuOptionText,href:"#/earn",children:"earn"})]}),Object(Q.jsxs)("div",{className:"".concat(fn.a.menuOption," ").concat(n.hash.includes("race")?fn.a.active:""),disabled:!0,children:[Object(Q.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(Q.jsx)(on.b,{size:"1.5em"})}),Object(Q.jsx)("a",{className:fn.a.menuOptionText,children:"race"})]}),t.isConnected&&t.connectedAccount&&Object(Q.jsxs)("div",{className:fn.a.menuOption,children:[Object(Q.jsx)("div",{className:fn.a.menuOptionIcon,children:Object(Q.jsx)(rn.c,{size:"1.5em"})}),Object(Q.jsx)("div",{className:fn.a.menuOptionText,onClick:t.onDisconnect,children:"logout"})]})]})},yn=function(e){return Object(Q.jsxs)("div",{className:fn.a.footer,children:[Object(Q.jsxs)("div",{children:["v",vn.version," BETA"]}),Object(Q.jsx)("div",{children:"\xa92021 TideBit. All rights reserved."}),Object(Q.jsx)("div",{children:"Power By CAFECA"})]})},gn=function(e){var t=Object(i.useContext)(y),n=Object(i.useState)(!1),a=Object(h.a)(n,2),c=a[0],s=a[1],o=function(){t.isLoading||s(!0)};return Object(i.useEffect)((function(){return t.isConnected&&t.connectedAccount&&s(!1),function(){}}),[t.connectedAccount,t.isConnected]),Object(Q.jsxs)(l.a.Fragment,{children:[c&&Object(Q.jsx)(de,{title:"Connect Wallet",onCancel:function(){s(!1)},children:Object(Q.jsx)(_n,{onClick:o})}),r.a.createPortal(Object(Q.jsxs)("div",{className:"".concat(fn.a.sideMenu," ").concat(t.isConnected&&t.connectedAccount?fn.a.connected:""),children:[Object(Q.jsx)(kn,{onConnect:o}),Object(Q.jsx)(yn,{})]}),document.getElementById("side-menu"))]})},Nn=n(40),Cn=n.n(Nn),wn=n(18),Sn=n.n(wn),Tn=function(e){var t,n,a,c,s,r,o,l,u,d,p,j=Object(i.useContext)(N),b=Object(i.useContext)(y);return Object(Q.jsxs)("div",{className:Sn.a["import-token"],children:[Object(Q.jsxs)("main",{className:Sn.a.main,children:[Object(Q.jsx)("div",{className:Sn.a.header,children:e.token&&Object(Q.jsxs)("div",{className:Sn.a.group,children:[Object(Q.jsx)("div",{className:Sn.a.icon,children:Object(Q.jsx)("img",{src:null===(t=e.token)||void 0===t?void 0:t.iconSrc,alt:null===(n=e.token)||void 0===n?void 0:n.symbol})}),Object(Q.jsx)("div",{className:Sn.a.name,children:null===(a=e.token)||void 0===a?void 0:a.symbol})]})}),Object(Q.jsxs)("div",{className:Sn.a.content,children:[Object(Q.jsxs)("div",{className:Sn.a.main,children:[Object(Q.jsx)(Re,{label:"Amount",max:(null===(c=e.token)||void 0===c?void 0:c.balanceOf)||"",symbol:(null===(s=e.token)||void 0===s?void 0:s.symbol)||"",onChange:e.changeAmountHandler,value:e.amount}),Object(Q.jsx)(Re,{label:"Expected Price",onChange:e.changePriceHandler,value:e.price,removeDetail:!0})]}),Object(Q.jsx)("div",{className:Sn.a.sub,children:Object(Q.jsx)("div",{className:Sn.a.detail,children:Object(Q.jsxs)("div",{className:Sn.a.data,children:[Object(Q.jsx)("div",{className:Sn.a.title,children:"Shelf Fee"}),Object(Q.jsxs)("div",{className:Sn.a.amount,children:["1 ",b.currentNetwork.nativeCurrency.symbol]})]})})})]}),Object(Q.jsxs)("div",{className:Sn.a.button,children:[Object(Q.jsx)("div",{className:Sn.a["approve-button-container"],children:e.displayApproveImportToken&&Object(Q.jsxs)(Qe,{type:"button",onClick:function(){var t;return e.approveHandler(null===(t=e.token)||void 0===t?void 0:t.contract,(function(t){e.setImportTokenIsApprove(t),e.setDisplayApproveImportToken(!t)}))},children:["Approve ",null===(r=e.token)||void 0===r?void 0:r.symbol]})}),Object(Q.jsx)(Qe,{type:"submit",disabled:!e.importTokenIsApprove,children:e.isLoading?"Loading...":"Confirm"})]})]}),Object(Q.jsx)("div",{className:"sub",children:Object(Q.jsx)(Ge,{details:(o=e.token,l=e.amount,u=e.price,d=j.fiat,p=b.currentNetwork.nativeCurrency,[{title:"Shelf token",value:(null===o||void 0===o?void 0:o.symbol)?null===o||void 0===o?void 0:o.symbol:"--"},{title:"Initial Price",value:(null===o||void 0===o?void 0:o.symbol)?"1 ".concat(null===o||void 0===o?void 0:o.symbol," \u2248 ").concat(u," ").concat(d.symbol):"--",explain:"Initial Price"},{title:"Initial Volume",value:(null===o||void 0===o?void 0:o.symbol)?"".concat(l," ").concat(null===o||void 0===o?void 0:o.symbol):"--",explain:"Initial Volume"},{title:"Shelf Fee",value:(null===p||void 0===p?void 0:p.symbol)?" 1 ".concat(null===p||void 0===p?void 0:p.symbol):"--"}])})})]})},Pn=n(61),An=n.n(Pn),In=function(e){return Object(Q.jsxs)(l.a.Fragment,{children:[Object(Q.jsx)(ce,{onCancel:function(){}}),r.a.createPortal(Object(Q.jsxs)(oe,{className:An.a.modal,children:[Object(Q.jsx)("div",{className:An.a.content,children:Object(Q.jsx)(ee,{})}),Object(Q.jsx)("div",{className:An.a.message,children:"Loading..."})]}),document.getElementById("overlay-root"))]})},Ln=function(e){var t=Object(i.useContext)(y),n=(Object(i.useContext)(N),Object(u.f)()),a=Object(i.useState)(!1),c=Object(h.a)(a,2),s=c[0],r=c[1],o=Object(i.useState)(null),d=Object(h.a)(o,2),j=d[0],v=d[1],m=Object(i.useState)(""),f=Object(h.a)(m,2),x=f[0],O=f[1],k=Object(i.useState)(""),g=Object(h.a)(k,2),C=g[0],w=g[1],S=Object(i.useState)(!1),T=Object(h.a)(S,2),P=T[0],A=T[1],I=Object(i.useState)(!1),L=Object(h.a)(I,2),B=L[0],E=L[1],D=Object(i.useState)(null),H=Object(h.a)(D,2),F=H[0],M=H[1],R=Object(u.e)(),q=function(){var e=Object(b.a)(p.a.mark((function e(n,a){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(n);case 2:c=e.sent,a(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(b.a)(p.a.mark((function e(n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log("submitHandler",P),!P){e.next=16;break}return A(!1),a=_.div(C,"2000"),e.prev=5,e.next=8,t.provideLiquidityWithETH(null,j,x,a);case 8:c=e.sent,console.log("provideLiquidityResut",c),R.push({pathname:"/assets/"}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:A(!0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){if(t.isConnected){var e=t.supportedTokens.find((function(e){return n.pathname.includes(e.contract)}));console.log("token:",e),e||(r(!0),console.log('location.pathname.replace("/import-token/", ""):',n.pathname.replace("/import-token/","")),t.addToken(n.pathname.replace("/import-token/","")).then((function(e){v(e),console.log("token:",e),r(!1)}))),v(e)}}),[t,n,t.supportedTokens]),Object(i.useEffect)((function(){return F&&(console.log("Checking tokenAllowanceIsEnough!",F),r(!0),t.isAllowanceEnough(j.contract,x,j.decimals).then((function(e){E(!e),A(e),r(!1)}))),function(){console.log("CLEANUP")}}),[x,t,F,null===j||void 0===j?void 0:j.contract,null===j||void 0===j?void 0:j.decimals]),Object(Q.jsxs)(l.a.Fragment,{children:[s&&Object(Q.jsx)(In,{}),Object(Q.jsxs)("form",{className:Cn.a["import-token"],onSubmit:V,children:[Object(Q.jsx)("div",{className:Cn.a.header,children:"Import Token"}),Object(Q.jsxs)("div",{className:Cn.a.container,children:[Object(Q.jsx)("div",{className:Cn.a.main,children:Object(Q.jsx)(Tn,{token:j,changeAmountHandler:function(e){var t=U(e,(null===j||void 0===j?void 0:j.balanceOf)?null===j||void 0===j?void 0:j.balanceO:"0");O(t),M(0===+t?null:+t>0)},amount:x,changePriceHandler:function(e){w(e)},price:C,setDisplayApproveImportToken:E,displayApproveImportToken:B,approveHandler:q,setImportTokenIsApprove:A,importTokenIsApprove:P,isLoading:s})}),Object(Q.jsx)("div",{className:Cn.a.sub,children:Object(Q.jsxs)("div",{className:Cn.a.details,children:[Object(Q.jsx)(te,{}),Object(Q.jsx)(fe,{})]})})]})]})]})},Bn=function(){return Object(Q.jsxs)(l.a.Fragment,{children:[Object(Q.jsx)(gn,{}),Object(Q.jsxs)(o.b,{children:[Object(Q.jsx)(u.a,{exact:!0,path:"/",children:Object(Q.jsx)(sn,{})}),Object(Q.jsxs)(X,{children:[Object(Q.jsx)(u.a,{path:"/assets",children:Object(Q.jsx)(_t,{})}),Object(Q.jsx)(u.a,{path:"/swap",children:Object(Q.jsx)(at,{})}),Object(Q.jsx)(u.a,{path:"/earn",children:Object(Q.jsx)(Lt,{})}),Object(Q.jsx)(u.a,{path:"/redeem",children:Object(Q.jsx)(Yt,{})}),Object(Q.jsx)(u.a,{path:"/import-token",children:Object(Q.jsx)(Ln,{})})]})]})]})},En=n(30),Dn=n.n(En),Hn=n.p+"static/media/imToken.14ab6720.png",Fn=function(){function e(t){Object(v.a)(this,e),this.lunar=new Dn.a,this.network=t;var n=this.findContractByNetwork(t);this.routerContract=n,this.poolList=[],this.assetList=[],this.histories=[],this.walletList=this.lunar.env.wallets.map((function(e){switch(e){case"Metamask":return{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/MetaMask_Fox.svg/440px-MetaMask_Fox.svg.png",name:"MetaMask"};case"imToken":return{src:Hn,name:"imToken"};case"TideWallet":return{src:Hn,name:"TideWallet"};default:return[]}}))}return Object(m.a)(e,[{key:"walletList",get:function(){return this._walletList},set:function(e){this._walletList=e}},{key:"routerContract",get:function(){return this._routerContract},set:function(e){this._routerContract=e}},{key:"network",get:function(){return this._network},set:function(e){this._network=e}},{key:"connectedAccount",get:function(){return this._connectedAccount},set:function(e){this._connectedAccount=e}},{key:"nativeCurrency",get:function(){return this._nativeCurrency},set:function(e){this._nativeCurrency=e}},{key:"isConnected",get:function(){return this._isConnected},set:function(e){this._isConnected=e}},{key:"factoryContract",get:function(){return this._factoryContract},set:function(e){this._factoryContract=e}},{key:"findContractByNetwork",value:function(e){var t;if("BSCTestnet"===e.key)t="0x214798a5ca2Fc1cD0d9E4020eCA384406AB67755";else t=C;return t}},{key:"getData",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){var c,s,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="0x".concat(B()(t).toString("hex").slice(0,8)),e.prev=1,e.next=4,this.lunar.getData({contract:a,data:"".concat(n?c+n:c)});case 4:return s=e.sent,e.abrupt("return",s);case 8:return e.prev=8,e.t0=e.catch(1),console.log("GOT ERROR! ".concat(t," ").concat(c)),e.prev=11,e.next=14,E(c,n,a);case 14:return r=e.sent,e.abrupt("return",r);case 18:throw e.prev=18,e.t1=e.catch(11),console.log("".concat(t," error"),e.t1),e.t1;case 22:case"end":return e.stop()}}),e,this,[[1,8],[11,18]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getNativeCurrency",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("WETH()",null,this.routerContract);case 2:t=e.sent,this.nativeCurrency={contract:"0x".concat(t.slice(26,66)),decimals:this.network.nativeCurrency.decimals},console.log("this.getNativeCurrency",this.nativeCurrency);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFactoryContract",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("factory()",null,this.routerContract);case 2:t=e.sent,this.factoryContract="0x".concat(t.slice(26,66)),console.log("this.factoryContract",this.factoryContract);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"switchNetwork",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isConnected=!1,e.prev=1,e.next=4,this.lunar.switchBlockchain({blockchain:t});case 4:this.isConnected=!0,n=this.findContractByNetwork(t),this.routerContract=n,this.factoryContract="",this.nativeCurrency=null,this.network=t,this.poolList=[],this.assetList=[],e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"calculateTokenBalanceOfPools",value:function(e){return e.pools.reduce((function(t,n){var a=+n.share>0?_.mult(n.share,e.totalSupply):"0";return _.plus(t,a)}),"0")}},{key:"disconnect",value:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.connectedAccount=null,this.isConnected=!1,e.next=4,this.lunar.disconnect();case 4:this.poolList=[],this.assetList=[];case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(n=this.nativeCurrency)||void 0===n?void 0:n.contract)){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:e.prev=3,e.t0=t,e.next="MetaMask"===e.t0?7:"imToken"===e.t0?11:15;break;case 7:return e.next=9,this.lunar.connect({wallet:Dn.a.Wallets.Metamask,blockchain:this.network});case 9:case 13:return a=e.sent,e.abrupt("break",16);case 11:return e.next=13,this.lunar.connect({wallet:Dn.a.Wallets[t],blockchain:this.network});case 15:return e.abrupt("break",16);case 16:return this.isConnected=!!a,this.connectedAccount=this.lunar.address,console.log("connect connectedAccount",this.connectedAccount),e.abrupt("return",{connectedAccount:this.connectedAccount});case 22:throw e.prev=22,e.t1=e.catch(3),console.log("connect in TideTimeSwapContract",e.t1),e.t1;case 26:case"end":return e.stop()}}),e,this,[[3,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolContractByTokens",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n){var a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.replace("0x","").padStart(64,"0"),c=n.replace("0x","").padStart(64,"0"),this.factoryContract){e.next=5;break}return e.next=5,this.getFactoryContract();case 5:return e.next=7,this.getData("getPair(address,address)",a+c,this.factoryContract);case 7:return s=e.sent,e.abrupt("return","0x".concat(s.slice(26,66)));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolContractByIndex",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.toString(16).padStart(64,"0"),this.factoryContract||this.getFactoryContract(),e.next=4,this.getData("allPairs(uint256)",n,this.factoryContract);case 4:return a=e.sent,e.abrupt("return","0x".concat(a.slice(26,66)));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolTokenContract",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("token".concat(t,"()"),null,n);case 2:return a=e.sent,c="0x".concat(a.slice(26,66)),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSelectedPool",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){var c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&a){e.next=2;break}return e.abrupt("return");case 2:if(c=t.findIndex((function(e){return(n.contract===e.token0.contract||n.contract===e.token1.contract)&&(a.contract===e.token0.contract||a.contract===e.token1.contract)})),-1!==c){e.next=8;break}return e.next=6,this.getPoolByTokens(n.contract,a.contract);case 6:return s=e.sent,e.abrupt("return",s);case 8:return e.abrupt("return",t[c]);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a,c,s,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contract,a=t.address,e.prev=1,e.next=4,this.lunar.getBalance({contract:n,address:a});case 4:c=e.sent,e.next=14;break;case 7:return e.prev=7,e.t0=e.catch(1),s=a.replace("0x","").padStart(64,"0"),e.next=12,this.getData("balanceOf(address)",s,n);case 12:r=e.sent,c=parseInt(r,16);case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenByContract",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n){var a,c,s,r,o,i,l,u,d,b,h,v,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("tokenContract",t,n),!n){e.next=7;break}return e.next=4,this.getBalance({contract:t,address:n.contract});case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0="0";case 8:if(a=e.t0,!(i=this.assetList.find((function(e){return e.contract===t})))){e.next=16;break}-1===(l=i.pools.findIndex((function(e){return e.contract===n.contract})))?u=Object(j.a)(i.pools).push(Object(A.a)(Object(A.a)({},n),{},{poolBalanceOfToken:a})):(u=Object(j.a)(i.pools))[l].poolBalanceOfToken=a,i=Object(A.a)(Object(A.a)({},i),{},{pools:u}),e.next=44;break;case 16:return e.prev=16,e.next=19,this.lunar.getAsset({contract:t});case 19:d=e.sent,c=d.symbol,s=d.decimals,r=d.totalSupply,o=d.name,e.next=44;break;case 26:return e.prev=26,e.t1=e.catch(16),e.next=30,this.getData("symbol()",null,t);case 30:return b=e.sent,c=J(Y(b)[2]),e.next=34,this.getData("decimals()",null,t);case 34:return h=e.sent,s=parseInt(h,16),e.next=38,this.getData("totalSupply()",null,t);case 38:return v=e.sent,r=parseInt(v,16),e.next=42,this.getData("name()",null,t);case 42:m=e.sent,o=J(Y(m)[2]);case 44:return i={id:M(6),contract:t,iconSrc:I,name:o,symbol:c,decimals:s,totalSupply:r,pools:[Object(A.a)(Object(A.a)({},n),{},{poolBalanceOfToken:a})],balance:"--",price:"".concat((1e5*Math.random()).toFixed(2)),priceChange:"".concat(1*Math.random()>.5?"+":"-").concat((1*Math.random()).toFixed(2)),volume:"".concat((10*Math.random()).toFixed(2),"m")},e.abrupt("return",i);case 46:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolBalanceOf",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a,c,s,r,o,i,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.poolList.findIndex((function(e){return t.contract===e.contract})),!this.connectedAccount&&!this.lunar.address){e.next=14;break}return a=(this.connectedAccount||this.lunar.address).replace("0x","").padStart(64,"0"),e.next=5,E("balanceOf(address)",a,t.contract);case 5:return c=e.sent,s=_.toCurrencyUint(parseInt(c,16),t.decimals),console.log("balanceOf",s),r=_.gt(t.totalSupply,"0")?_.div(s,t.totalSupply):"0",o=_.gt(r,"0")?_.mult(r,t.poolBalanceOfToken0):"0",i=_.gt(r,"0")?_.mult(r,t.poolBalanceOfToken1):"0",l=Object(A.a)(Object(A.a)({},t),{},{balanceOf:s,share:r,balanceOfToken0InPool:o,balanceOfToken1InPool:i}),this.poolList[n]=l,e.abrupt("return",l);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAssetBalanceOf",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.assetList.findIndex((function(e){return t.contract===e.contract})),e.next=3,this.getBalance({contract:t.contract,address:this.connectedAccount});case 3:return a=e.sent,c=Object(A.a)(Object(A.a)({},t),{},{balanceOf:a}),this.assetList[n]=c,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAssets",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(n=this.assetList.findIndex((function(e){return t.contract===e.contract})))){e.next=8;break}return a=this.calculateTokenBalanceOfPools(t),c=Object(A.a)(Object(A.a)({},t),{},{balanceInPools:a}),this.assetList.push(c),e.abrupt("return",c);case 8:return this.assetList[n].pools=Object(j.a)(this.assetList[n].pools).concat(t.pools),this.assetList[n].balanceInPools=this.calculateTokenBalanceOfPools(this.assetList[n]),e.abrupt("return",this.assetList[n]);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addToken",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTokenByContract(t);case 2:return n=e.sent,e.next=5,this.updateAssets(n);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getToken",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPoolTokenContract(t,n.contract);case 2:return a=e.sent,e.next=5,this.getTokenByContract(a,n);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_.gt(t.share,"0")?_.mult(t.share,t.poolBalanceOfToken0):"0",a=_.gt(t.share,"0")?_.mult(t.share,t.poolBalanceOfToken1):"0",e.abrupt("return",Object(A.a)(Object(A.a)({},t),{},{balanceOfToken0InPool:n,balanceOfToken1InPool:a}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolByTokens",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n){var a,c,s,r,o,i,l,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=M(6),e.next=3,this.getPoolContractByTokens(t,n);case 3:if(e.t1=e.sent,a={id:e.t0,contract:e.t1},_.gt(_.toBn(a.contract),"0")){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,this.getTokenByContract(t,a);case 9:return c=e.sent,e.next=12,this.getTokenByContract(n,a);case 12:return s=e.sent,e.next=15,this.getData("decimals()",null,a.contract);case 15:return r=e.sent,o=parseInt(r,16),e.next=19,this.getData("totalSupply()",null,a.contract);case 19:return i=e.sent,l=_.toCurrencyUint(parseInt(i,16),o),u=Object(A.a)(Object(A.a)({},a),{},{decimals:o,totalSupply:l,name:"".concat(c.symbol,"/").concat(s.symbol),token0:c,token1:s,poolBalanceOfToken0:c.pools[0].poolBalanceOfToken,poolBalanceOfToken1:s.pools[0].poolBalanceOfToken,liquidity:"--",yield:"--",volume:"--"}),e.next=24,this.getPoolDetail(u);case 24:return d=e.sent,e.abrupt("return",d);case 26:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolByIndex",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a,c,s,r,o,i,l,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPoolContractByIndex(t);case 2:return n=e.sent,e.next=5,this.getData("decimals()",null,n);case 5:return a=e.sent,c=parseInt(a,16),e.next=9,this.getData("totalSupply()",null,n);case 9:return s=e.sent,r=_.toCurrencyUint(parseInt(s,16),c),o={id:M(6),contract:n,totalSupply:r,decimals:c},e.next=14,this.getToken(0,o);case 14:return i=e.sent,console.log("getPoolByIndex token0",i),e.next=18,this.getToken(1,o);case 18:return l=e.sent,console.log("getPoolByIndex token1",l),u=Object(A.a)(Object(A.a)({},o),{},{name:"".concat(i.symbol,"/").concat(l.symbol),token0:i,token1:l,poolBalanceOfToken0:i.pools[0].poolBalanceOfToken,poolBalanceOfToken1:l.pools[0].poolBalanceOfToken,liquidity:"--",yield:"--",volume:"--",tvl:"".concat((10*Math.random()).toFixed(2),"m"),irr:"3"}),e.next=23,this.getPoolDetail(u);case 23:return d=e.sent,console.log("getPoolByIndex poolPairDetail",d),e.abrupt("return",d);case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContractDataLength",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=this.nativeCurrency)||void 0===t?void 0:t.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:if(this.factoryContract){e.next=6;break}return e.next=6,this.getFactoryContract();case 6:return e.next=8,this.getData("allPairsLength()",null,this.factoryContract);case 8:return n=e.sent,a=parseInt(n,16),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContractData",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPoolByIndex(t);case 2:if((n=e.sent).token1.contract!==this.nativeCurrency.contract){e.next=7;break}return this.poolList.push(n),e.next=7,this.updateAssets(n.token0);case 7:return e.abrupt("return",{poolList:this.poolList,assetList:this.assetList});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAmountsIn",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){var c,s,r,o,i,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"getAmountsIn(uint256,address[])",c=_.toSmallestUnitHex(t,a.decimals).split(".")[0].padStart(64,"0"),s=n.contract.replace("0x","").padStart(64,"0"),r=a.contract.replace("0x","").padStart(64,"0"),o=c+"00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000002"+s+r,e.next=7,this.getData("getAmountsIn(uint256,address[])",o,this.routerContract);case 7:return i=e.sent,console.log("getAmountsIn result",i),l=Y(i.replace("0x",""),64)[2],console.log("getAmountsIn parsedResult",l),u=_.toCurrencyUint(_.toBn(l),n.decimals),console.log("getAmountsIn amountIn",u),e.abrupt("return",u);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getAmountsOut",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){var c,s,r,o,i,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"getAmountsOut(uint256,address[])",c=_.toSmallestUnitHex(t,n.decimals).split(".")[0].padStart(64,"0"),s=n.contract.replace("0x","").padStart(64,"0"),r=a.contract.replace("0x","").padStart(64,"0"),o=c+"00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000002"+s+r,e.next=7,this.getData("getAmountsOut(uint256,address[])",o,this.routerContract);case 7:return i=e.sent,console.log("getAmountsOut result",i),l=Y(i.replace("0x",""),64)[3],console.log("getAmountsOut parsedResult",l),u=_.toCurrencyUint(_.toBn(l),a.decimals),console.log("getAmountsOut amountOut",u),e.abrupt("return",u);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"isAllowanceEnough",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){var c,s,r,o,i,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"allowance(address,address)",r=null===(c=this.connectedAccount)||void 0===c?void 0:c.replace("0x","").padStart(64,"0"),o=null===(s=this.routerContract)||void 0===s?void 0:s.replace("0x","").padStart(64,"0"),i=r+o,e.next=6,this.getData("allowance(address,address)",i,t);case 6:return l=e.sent,console.log("allowance result",l),u=_.toCurrencyUint(_.toBn(l),a),console.log("allowance amount",u),e.abrupt("return",_.gt(u,n));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"approve",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){var c,s,r,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"approve(address,uint256)",c="0x".concat(B()("approve(address,uint256)").toString("hex").slice(0,8)),s=this.routerContract.replace("0x","").padStart(64,"0"),r=n?_.toSmallestUnitHex(n,a).split(".")[0].padStart(64,"0"):"".padEnd(64,"f"),0,o={to:t,amount:0,data:c+s+r},e.next=9,this.lunar.send(o);case 9:return i=e.sent,console.log("approve result",i),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"createPair",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n){var a,c,s,r,o,i,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("createPair(address,address)",a="0x".concat(B()("createPair(address,address)").toString("hex").slice(0,8)),c=t.replace("0x","").padStart(64,"0"),s=n.replace("0x","").padStart(64,"0"),r=a+c+s,o=0,this.factoryContract){e.next=9;break}return e.next=9,this.getFactoryContract();case 9:return i={to:this.factoryContract,amount:o,data:r},e.next=12,this.lunar.send(i);case 12:return l=e.sent,console.log("createPair result",l),e.abrupt("return",l);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"provideLiquidityWithETH",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a,c){var s,r,o,i,l,u,d,j,b,h,v,m,f,x;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(s=this.nativeCurrency)||void 0===s?void 0:s.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:return"addLiquidityETH(address,uint256,uint256,uint256,address,uint256)",r="0x".concat(B()("addLiquidityETH(address,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),o=n.contract.replace("0x","").padStart(64,"0"),i=_.toSmallestUnitHex(a,n.decimals).split(".")[0].padStart(64,"0"),l=_.toHex(Math.floor(_.mult(_.toSmallestUnit(a,n.decimals),"0.95"))).padStart(64,"0"),u=_.toHex(Math.floor(_.mult(_.toSmallestUnit(c,this.nativeCurrency.decimals),"0.95"))).padStart(64,"0"),console.log("amountNCMin",u),d=this.connectedAccount.replace("0x","").padStart(64,"0"),j=_.toHex(_.plus(Math.round(_.div(Date.now(),1e3)),1800)).padStart(64,"0"),b=r+o+i+l+u+d+j,h={to:this.routerContract,amount:H(c,this.nativeCurrency.decimals),data:b},e.prev=14,e.next=17,this.lunar.send(h);case 17:return v=e.sent,console.log("provideLiquidityWithETH result",v),m=this.assetList.findIndex((function(e){return e.contract===n.contract})),(f=Object(A.a)({},this.assetList[m])).balanceOf=_.minus(n.balanceOf,a),this.assetList[m]=f,t?(m=this.poolList.findIndex((function(e){return e.contract===t.contract})),(x=Object(A.a)({},this.poolList[m])).token0=f,this.poolList[m]=x):this.poolList.push({id:M(6),txid:v,name:"".concat(n.symbol,"/").concat(this.nativeCurrency.symbol),token0:f,token1:{contract:this.nativeCurrency.contract},poolBalanceOfToken0:l,poolBalanceOfToken1:u,liquidity:"--",yield:"--",volume:"--",tvl:"".concat((10*Math.random()).toFixed(2),"m"),irr:"3"}),this.updateHistory({type:T,token0:n,token0AmountChange:"".concat(l),token1:null,token1AmountChange:null,timestamp:Date.now()}),e.abrupt("return",v);case 28:e.prev=28,e.t0=e.catch(14),console.log(e.t0);case 31:case"end":return e.stop()}}),e,this,[[14,28]])})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"updateAsset",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateHistory",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a,c,s,r,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,a=t.token0,c=t.token0AmountChange,s=t.token1,r=t.token1AmountChange,o=t.timestamp,i={id:M(6),type:n,tokenA:{symbol:a.symbol,amount:c},tokenB:{symbol:s.symbol||"--",amount:r||"--"},time:W(o)},this.histories.push(i),e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updatePool",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a,c,s,r,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.type,a=t.poolPair,c=t.liquidity,t.token0,s=t.token0AmountChange,t.token1,r=t.token1AmountChange,e.t0=n,e.next=e.t0===S?4:e.t0===T?5:e.t0===P?6:14;break;case 4:case 5:return e.abrupt("break",14);case 6:return o=this.poolList.findIndex((function(e){return e.contract===a.contract})),(i=Object(A.a)({},this.poolList[o])).balanceOf=_.minus(a.balanceOf,c),i.share=_.div(i.balanceOf,i.totalSupply),i.balanceOfToken0InPool=_.minus(a.balanceOfToken0InPool,s),i.balanceOfToken1InPool=_.minus(a.balanceOfToken1InPool,r),this.poolList[o]=i,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"provideLiquidity",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a,c){var s,r,o,i,l,u,d,j,b,h,v,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"addLiquidity(address,address,uint256,uint256,uint256,uint256,address,uint256)",s="0x".concat(B()("addLiquidity(address,address,uint256,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),r=t.contract.replace("0x","").padStart(64,"0"),o=n.contract.replace("0x","").padStart(64,"0"),i=_.toSmallestUnitHex(a,t.decimals).split(".")[0].padStart(64,"0"),l=_.toSmallestUnitHex(c,n.decimals).split(".")[0].padStart(64,"0"),u=_.toHex(Math.floor(_.mult(_.toSmallestUnit(a,t.decimals),"0.95"))).padStart(64,"0"),d=_.toHex(Math.floor(_.mult(_.toSmallestUnit(c,n.decimals),"0.95"))).padStart(64,"0"),j=this.connectedAccount.replace("0x","").padStart(64,"0"),b=_.toHex(_.plus(Math.round(_.div(Date.now(),1e3)),1800)).padStart(64,"0"),h=s+r+o+i+l+u+d+j+b,0,v={to:this.routerContract,amount:0,data:h},e.prev=13,e.next=16,this.lunar.send(v);case 16:return m=e.sent,console.log("addLiquidity result",m),e.abrupt("return",m);case 21:e.prev=21,e.t0=e.catch(13),console.log(e.t0);case 24:case"end":return e.stop()}}),e,this,[[13,21]])})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"swap",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a,c){var s,r,o,i,l,u,d,j,b,h,v,m,f,x,O,k;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(s=this.nativeCurrency)||void 0===s?void 0:s.contract){e.next=3;break}return e.next=3,this.getNativeCurrency();case 3:return"swapExactTokensForTokens(uint256,uint256,address[],address,uint256)",r="0x".concat(B()("swapExactTokensForTokens(uint256,uint256,address[],address,uint256)").toString("hex").slice(0,8)),o=_.toSmallestUnitHex(t,a.decimals).split(".")[0].padStart(64,"0"),i=_.toSmallestUnitHex(n,c.decimals).split(".")[0].padStart(64,"0"),l=this.connectedAccount.replace("0x","").padStart(64,"0"),u=_.toHex(_.plus(Math.round(_.div(Date.now(),1e3)),1800)).padStart(64,"0"),d=_.toHex(3).padStart(64,"0"),j=a.contract.replace("0x","").padStart(64,"0"),b=this.nativeCurrency.contract.replace("0x","").padStart(64,"0"),h=c.contract.replace("0x","").padStart(64,"0"),v=r+o+i+"00000000000000000000000000000000000000000000000000000000000000a0"+l+u+d+j+b+h,0,m={to:this.routerContract,amount:0,data:v},e.prev=16,e.next=19,this.lunar.send(m);case 19:return f=e.sent,console.log("swap result",f),x=this.assetList.findIndex((function(e){return e.contract===a.contract})),(O=Object(A.a)({},this.assetList[x])).balanceOf=_.minus(a.balanceOf,t),this.assetList[x]=O,x=this.assetList.findIndex((function(e){return e.contract===c.contract})),(k=Object(A.a)({},this.assetList[x])).balanceOf=_.plus(c.balanceOf,n),this.assetList[x]=k,this.updateHistory({type:S,token0:a,token0AmountChange:"-".concat(t),token1:c,token1AmountChange:"".concat(n),timestamp:Date.now()}),e.abrupt("return",f);case 33:e.prev=33,e.t0=e.catch(16),console.log(e.t0);case 36:case"end":return e.stop()}}),e,this,[[16,33]])})));return function(t,n,a,c){return e.apply(this,arguments)}}()},{key:"takeLiquidity",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n,a,c){var s,r,o,i,l,u,d,j,b,h,v,m,f,x;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"removeLiquidity(address,address,uint256,uint256,uint256,address,uint256)",s="0x".concat(B()("removeLiquidity(address,address,uint256,uint256,uint256,address,uint256)").toString("hex").slice(0,8)),r=t.token0.contract.replace("0x","").padStart(64,"0"),o=t.token1.contract.replace("0x","").padStart(64,"0"),i=_.toSmallestUnitHex(n,t.decimals).split(".")[0].padStart(64,"0"),l=_.toSmallestUnitHex(a,t.token0.decimals).split(".")[0].padStart(64,"0"),u=_.toSmallestUnitHex(c,t.token1.decimals).split(".")[0].padStart(64,"0"),d=this.connectedAccount.replace("0x","").padStart(64,"0"),j=_.toHex(_.plus(Math.round(_.div(Date.now(),1e3)),1800)).padStart(64,"0"),b=s+r+o+i+l+u+d+j,0,h={to:this.routerContract,amount:0,data:b},e.prev=12,e.next=15,this.lunar.send(h);case 15:return v=e.sent,console.log("takeLiquidity result",v),m=this.assetList.findIndex((function(e){return e.contract===t.token0.contract})),(f=Object(A.a)({},this.assetList[m])).balanceOf=_.plus(t.token0.balanceOf,a),this.assetList[m]=f,m=this.assetList.findIndex((function(e){return e.contract===t.token1.contract})),(x=Object(A.a)({},this.assetList[m])).balanceOf=_.plus(t.token1.balanceOf,c),this.assetList[m]=x,this.updatePool({type:P,poolPair:t,token0AmountChange:a,token1AmountChange:c}),this.updateHistory({type:P,token0:t.token0,token0AmountChange:"".concat(a),token1:t.token1.contract===this.nativeCurrency.contract?null:t.token1,token1AmountChange:t.token1.contract===this.nativeCurrency.contract?null:"".concat(c),timestamp:Date.now()}),e.abrupt("return",v);case 30:e.prev=30,e.t0=e.catch(12),console.log(e.t0);case 33:case"end":return e.stop()}}),e,this,[[12,30]])})));return function(t,n,a,c){return e.apply(this,arguments)}}()}]),e}(),Mn=Fn,Un={isTestnet:!0},Rn=[{title:"Volume 24H",data:{value:"1.65b",change:"-5.57%"}},{title:"Fees 24H",data:{value:"3.36m",change:"-4.42%"}},{title:"TVL",data:{value:"3.84b",change:"+0.71%"}}],qn=function(e){var t=Object(i.useState)(Dn.a.Blockchains.EthereumTestnet),n=Object(h.a)(t,2),a=n[0],c=n[1],s=Object(i.useMemo)((function(){return new Mn(Dn.a.Blockchains.EthereumTestnet)}),[]),r=Object(i.useState)([]),o=Object(h.a)(r,2),l=o[0],u=o[1],d=Object(i.useState)(!1),j=Object(h.a)(d,2),v=j[0],m=j[1],f=Object(i.useState)(!0),x=Object(h.a)(f,2),O=x[0],_=x[1],k=Object(i.useState)(null),g=Object(h.a)(k,2),N=g[0],C=g[1],w=Object(i.useState)(null),S=Object(h.a)(w,2),T=S[0],P=S[1],I=Object(i.useState)(null),L=Object(h.a)(I,2),B=L[0],E=L[1],D=Object(i.useState)(null),H=Object(h.a)(D,2),F=H[0],M=H[1],U=Object(i.useState)([]),R=Object(h.a)(U,2),q=R[0],V=R[1],W=Object(i.useState)([]),Y=Object(h.a)(W,2),J=Y[0],z=Y[1],X=Object(i.useState)([]),K=Object(h.a)(X,2),G=K[0],Z=K[1],$=Object(i.useState)([]),ee=Object(h.a)($,2),te=ee[0],ne=ee[1],ae=Object(i.useState)(!1),ce=Object(h.a)(ae,2),se=ce[0],re=ce[1],oe=Object(i.useCallback)(Object(b.a)(p.a.mark((function e(){var t,n,a,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getContractDataLength();case 2:t=e.sent,M(s.nativeCurrency),console.log("allPairLength",t),console.log("ttsc.nativeCurrency",s.nativeCurrency),_(!0),n=19;case 8:if(!(n<t)){e.next=19;break}return e.next=11,s.getContractData(n);case 11:a=e.sent,c=a.poolList,r=a.assetList,z(c),Z(r);case 16:n++,e.next=8;break;case 19:_(!1),ne(Rn);case 21:case"end":return e.stop()}}),e)}))),[s]);Object(i.useEffect)((function(){return V(Dn.a.listBlockchain({testnet:Un.isTestnet})),function(){}}),[]),Object(i.useEffect)((function(){return oe().then((function(){_(!1)})),function(){}}),[oe]);var ie=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,s.connect(t);case 4:n=e.sent,_(!1),m(!0),P(n.connectedAccount),e.next=16;break;case 10:throw e.prev=10,e.t0=e.catch(0),console.log("connect error",e.t0),C({hasError:!0,message:e.t0.message}),_(!1),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),[s]),le=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.disconnect();case 2:m(!1),P(null),re(!1),_(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("switchNetwork network",t),e.prev=1,e.next=4,s.switchNetwork(t);case 4:n=e.sent,console.log("switchNetwork result",n),c(t),v&&re(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("switchNetwork error",e.t0),C(Object(A.a)(Object(A.a)({},e.t0),{},{hasError:!0}));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),[v,s]),de=Object(i.useCallback)(Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getContractDataLength();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[s]),pe=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getPoolBalanceOf(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),je=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getAssetBalanceOf(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),be=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getContractData(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),he=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getSelectedPool(t,n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[s]),ve=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.addToken(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),me=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.isAllowanceEnough(t,n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[s]),fe=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.approve(t,n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[s]),xe=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.createPair(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[s]),Oe=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.provideLiquidityWithETH(t,n,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),[s]),_e=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.provideLiquidity(t,n,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),[s]),ke=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.swap(t,n,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),[s]),ye=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getAmountsIn(t,n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[s]),ge=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getAmountsOut(t,n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[s]),Ne=Object(i.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t,n,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.takeLiquidity(t,n,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),[s]);return Object(i.useEffect)((function(){E(s.routerContract),u(s.walletList)}),[s]),Object(Q.jsx)(y.Provider,{value:{initial:se,isLoading:O,isConnected:v,connectOptions:l,connectedAccount:T,routerContract:B,supportedNetworks:q,supportedPools:J,supportedTokens:G,overview:te,currentNetwork:a,nativeCurrency:F,error:N,isInit:function(){return re(!1)},onConnect:ie,onDisconnect:le,switchNetwork:ue,getAssetBalanceOf:je,getPoolBalanceOf:pe,getContractDataLength:de,getContractData:be,getSelectedPool:he,addToken:ve,isAllowanceEnough:me,approve:fe,createPair:xe,provideLiquidity:_e,provideLiquidityWithETH:Oe,getAmountsIn:ye,getAmountsOut:ge,swap:ke,takeLiquidity:Ne},children:e.children})};r.a.render(Object(Q.jsx)(qn,{children:Object(Q.jsx)(o.a,{children:Object(Q.jsx)(Bn,{})})}),document.getElementById("root"))}],[[134,1,2]]]);
//# sourceMappingURL=main.f4f860db.chunk.js.map